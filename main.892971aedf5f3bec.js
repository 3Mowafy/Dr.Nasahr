"use strict";(self.webpackChunkDr_Nasahr=self.webpackChunkDr_Nasahr||[]).push([[179],{2011:(wt,Le,V)=>{V.d(Le,{Dh:()=>Ee,GT:()=>pe,cc:()=>$e,hO:()=>Xe,on:()=>K,pX:()=>fe,xv:()=>be});var l=V(4650),ie=V(9260),U=V(2122);wt=V.hmd(wt);const he=["ngOnDestroy"],fe=(Ue,Fe,qe,Be={})=>new Proxy(Ue,{get:(ke,je)=>qe.runOutsideAngular(()=>{var We;if(Ue[je])return!(null===(We=Be?.spy)||void 0===We)&&We.get&&Be.spy.get(je,Ue[je]),Ue[je];if(he.indexOf(je)>-1)return()=>{};const ze=Fe.toPromise().then(q=>{const Me=q&&q[je];return"function"==typeof Me?Me.bind(q):Me&&Me.then?Me.then(J=>qe.run(()=>J)):qe.run(()=>Me)});return new Proxy(()=>{},{get:(q,Me)=>ze[Me],apply:(q,Me,J)=>ze.then(re=>{var ue;const ce=re&&re(...J);return!(null===(ue=Be?.spy)||void 0===ue)&&ue.apply&&Be.spy.apply(je,J,ce),ce})})})}),pe=(Ue,Fe)=>{Fe.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Be=>{Object.defineProperty(Ue.prototype,Be,Object.getOwnPropertyDescriptor(qe.prototype||qe,Be))})})};class Te{constructor(Fe){return Fe}}const Ee=new l.OlP("angularfire2.app.options"),be=new l.OlP("angularfire2.app.name");function K(Ue,Fe,qe){const ke="object"==typeof qe&&qe||{};ke.name=ke.name||"string"==typeof qe&&qe||"[DEFAULT]";const We=ie.Z.apps.filter(ze=>ze&&ze.name===ke.name)[0]||Fe.runOutsideAngular(()=>ie.Z.initializeApp(Ue,ke));try{JSON.stringify(Ue)!==JSON.stringify(We.options)&&Y("error",`${We.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Te(We)}const Y=(Ue,...Fe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ue](...Fe)},te={provide:Te,useFactory:K,deps:[Ee,l.R0b,[new l.FiY,be]]};let Xe=(()=>{class Ue{constructor(qe){ie.Z.registerVersion("angularfire",U.q4.full,"core"),ie.Z.registerVersion("angularfire",U.q4.full,"app-compat"),ie.Z.registerVersion("angular",l.q4F.full,qe.toString())}static initializeApp(qe,Be){return{ngModule:Ue,providers:[{provide:Ee,useValue:qe},{provide:be,useValue:Be}]}}}return Ue.\u0275fac=function(qe){return new(qe||Ue)(l.LFG(l.Lbi))},Ue.\u0275mod=l.oAB({type:Ue}),Ue.\u0275inj=l.cJS({providers:[te]}),Ue})();function $e(Ue,Fe,qe,Be,ke){const[,je,We]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===Ue)||[];if(je)return function rt(Ue,Fe){try{return Ue.toString()===Fe.toString()}catch{return Ue===Fe}}(ke,We)||(we("error",`${Fe} was already initialized on the ${qe} Firebase App with different settings.${bt?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:ke,was:We})),je;{const ze=Be();return globalThis.\u0275AngularfireInstanceCache.push([Ue,ze,ke]),ze}}const bt=!!wt.hot,we=(Ue,...Fe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ue](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(wt,Le,V)=>{V.d(Le,{q4:()=>xl,iC:()=>Sa,HU:()=>zi,vb:()=>yn,JM:()=>Kr});var l=V(4650),ie=V(259),U=V(5861),he=V(9681),fe=V(2090),pe=V(4859),Te=V(1877),Ee=V(8766);const be="@firebase/installations",K="0.6.1",te=`w:${K}`,Xe="FIS_v2",Fe=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qe(S){return S instanceof fe.ZR&&S.code.includes("request-failed")}function Be({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function ke(S){return{token:S.token,requestStatus:2,expiresIn:re(S.expiresIn),creationTime:Date.now()}}function je(S,D){return We.apply(this,arguments)}function We(){return(We=(0,U.Z)(function*(S,D){const j=(yield D.json()).error;return Fe.create("request-failed",{requestName:S,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function ze({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function q(S,{refreshToken:D}){const R=ze(S);return R.append("Authorization",function ue(S){return`${Xe} ${S}`}(D)),R}function Me(S){return J.apply(this,arguments)}function J(){return(J=(0,U.Z)(function*(S){const D=yield S();return D.status>=500&&D.status<600?S():D})).apply(this,arguments)}function re(S){return Number(S.replace("s","000"))}function ce(S,D){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,U.Z)(function*({appConfig:S,heartbeatServiceProvider:D},{fid:R}){const j=Be(S),ne=ze(S),le=D.getImmediate({optional:!0});if(le){const yt=yield le.getHeartbeatsHeader();yt&&ne.append("x-firebase-client",yt)}const pt={method:"POST",headers:ne,body:JSON.stringify({fid:R,authVersion:Xe,appId:S.appId,sdkVersion:te})},Et=yield Me(()=>fetch(j,pt));if(Et.ok){const yt=yield Et.json();return{fid:yt.fid||R,registrationStatus:2,refreshToken:yt.refreshToken,authToken:ke(yt.authToken)}}throw yield je("Create Installation",Et)})).apply(this,arguments)}function Ge(S){return new Promise(D=>{setTimeout(D,S)})}const hn=/^[cdef][\w-]{21}$/;function zt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const R=function Qt(S){return function Ct(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return hn.test(R)?R:""}catch{return""}}function Dt(S){return`${S.appName}!${S.appId}`}const dn=new Map;function Sr(S,D){const R=Dt(S);Pn(R,D),function bi(S,D){const R=function Br(){return!ni&&"BroadcastChannel"in self&&(ni=new BroadcastChannel("[Firebase] FID Change"),ni.onmessage=S=>{Pn(S.data.key,S.data.fid)}),ni}();R&&R.postMessage({key:S,fid:D}),function jr(){0===dn.size&&ni&&(ni.close(),ni=null)}()}(R,D)}function Pn(S,D){const R=dn.get(S);if(R)for(const j of R)j(D)}let ni=null;const Li="firebase-installations-store";let Hr=null;function Gs(){return Hr||(Hr=(0,Ee.X3)("firebase-installations-database",1,{upgrade:(S,D)=>{0===D&&S.createObjectStore(Li)}})),Hr}function Cn(S,D){return ri.apply(this,arguments)}function ri(){return(ri=(0,U.Z)(function*(S,D){const R=Dt(S),ne=(yield Gs()).transaction(Li,"readwrite"),le=ne.objectStore(Li),Oe=yield le.get(R);return yield le.put(D,R),yield ne.done,(!Oe||Oe.fid!==D.fid)&&Sr(S,D.fid),D})).apply(this,arguments)}function xt(S){return ls.apply(this,arguments)}function ls(){return(ls=(0,U.Z)(function*(S){const D=Dt(S),j=(yield Gs()).transaction(Li,"readwrite");yield j.objectStore(Li).delete(D),yield j.done})).apply(this,arguments)}function Fi(S,D){return On.apply(this,arguments)}function On(){return(On=(0,U.Z)(function*(S,D){const R=Dt(S),ne=(yield Gs()).transaction(Li,"readwrite"),le=ne.objectStore(Li),Oe=yield le.get(R),pt=D(Oe);return void 0===pt?yield le.delete(R):yield le.put(pt,R),yield ne.done,pt&&(!Oe||Oe.fid!==pt.fid)&&Sr(S,pt.fid),pt})).apply(this,arguments)}function Zr(S){return Os.apply(this,arguments)}function Os(){return(Os=(0,U.Z)(function*(S){let D;const R=yield Fi(S.appConfig,j=>{const ne=jt(j),le=Pt(S,ne);return D=le.registrationPromise,le.installationEntry});return""===R.fid?{installationEntry:yield D}:{installationEntry:R,registrationPromise:D}})).apply(this,arguments)}function jt(S){return Dr(S||{fid:zt(),registrationStatus:0})}function Pt(S,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Fe.create("app-offline"))};const R={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},j=function kt(S,D){return cs.apply(this,arguments)}(S,R);return{installationEntry:R,registrationPromise:j}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:$n(S)}:{installationEntry:D}}function cs(){return(cs=(0,U.Z)(function*(S,D){try{const R=yield ce(S,D);return Cn(S.appConfig,R)}catch(R){throw qe(R)&&409===R.customData.serverCode?yield xt(S.appConfig):yield Cn(S.appConfig,{fid:D.fid,registrationStatus:0}),R}})).apply(this,arguments)}function $n(S){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,U.Z)(function*(S){let D=yield $i(S.appConfig);for(;1===D.registrationStatus;)yield Ge(100),D=yield $i(S.appConfig);if(0===D.registrationStatus){const{installationEntry:R,registrationPromise:j}=yield Zr(S);return j||R}return D})).apply(this,arguments)}function $i(S){return Fi(S,D=>{if(!D)throw Fe.create("installation-not-found");return Dr(D)})}function Dr(S){return function ia(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function vn(S,D){return us.apply(this,arguments)}function us(){return(us=(0,U.Z)(function*({appConfig:S,heartbeatServiceProvider:D},R){const j=an(S,R),ne=q(S,R),le=D.getImmediate({optional:!0});if(le){const yt=yield le.getHeartbeatsHeader();yt&&ne.append("x-firebase-client",yt)}const pt={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:te,appId:S.appId}})},Et=yield Me(()=>fetch(j,pt));if(Et.ok)return ke(yield Et.json());throw yield je("Generate Auth Token",Et)})).apply(this,arguments)}function an(S,{fid:D}){return`${Be(S)}/${D}/authTokens:generate`}function xr(S){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,U.Z)(function*(S,D=!1){let R;const j=yield Fi(S.appConfig,le=>{if(!qt(le))throw Fe.create("not-registered");const Oe=le.authToken;if(!D&&W(Oe))return le;if(1===Oe.requestStatus)return R=Je(S,D),le;{if(!navigator.onLine)throw Fe.create("app-offline");const pt=ee(le);return R=Lt(S,pt),pt}});return R?yield R:j.authToken})).apply(this,arguments)}function Je(S,D){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,U.Z)(function*(S,D){let R=yield ht(S.appConfig);for(;1===R.authToken.requestStatus;)yield Ge(100),R=yield ht(S.appConfig);const j=R.authToken;return 0===j.requestStatus?xr(S,D):j})).apply(this,arguments)}function ht(S){return Fi(S,D=>{if(!qt(D))throw Fe.create("not-registered");return function Se(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Lt(S,D){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,U.Z)(function*(S,D){try{const R=yield vn(S,D),j=Object.assign(Object.assign({},D),{authToken:R});return yield Cn(S.appConfig,j),R}catch(R){if(!qe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const j=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Cn(S.appConfig,j)}else yield xt(S.appConfig);throw R}})).apply(this,arguments)}function qt(S){return void 0!==S&&2===S.registrationStatus}function W(S){return 2===S.requestStatus&&!function H(S){const D=Date.now();return D<S.creationTime||S.creationTime+S.expiresIn<D+36e5}(S)}function ee(S){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:D})}function mt(){return(mt=(0,U.Z)(function*(S){const D=S,{installationEntry:R,registrationPromise:j}=yield Zr(D);return j?j.catch(console.error):xr(D).catch(console.error),R.fid})).apply(this,arguments)}function sn(){return(sn=(0,U.Z)(function*(S,D=!1){const R=S;return yield kn(R),(yield xr(R,D)).token})).apply(this,arguments)}function kn(S){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,U.Z)(function*(S){const{registrationPromise:D}=yield Zr(S);D&&(yield D)})).apply(this,arguments)}function Xa(S){return Fe.create("missing-app-config-values",{valueName:S})}const Sc="installations",Nn=S=>{const D=S.getProvider("app").getImmediate(),R=function oa(S){if(!S||!S.options)throw Xa("App Configuration");if(!S.name)throw Xa("App Name");const D=["projectId","apiKey","appId"];for(const R of D)if(!S.options[R])throw Xa(R);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(D);return{app:D,appConfig:R,heartbeatServiceProvider:(0,he._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Yu=S=>{const D=S.getProvider("app").getImmediate(),R=(0,he._getProvider)(D,Sc).getImmediate();return{getId:()=>function ae(S){return mt.apply(this,arguments)}(R),getToken:ne=>function Wt(S){return sn.apply(this,arguments)}(R,ne)}};(function Dc(){(0,he._registerComponent)(new pe.wA(Sc,Nn,"PUBLIC")),(0,he._registerComponent)(new pe.wA("installations-internal",Yu,"PRIVATE"))})(),(0,he.registerVersion)(be,K),(0,he.registerVersion)(be,K,"esm2017");const aa="@firebase/remote-config",Gn=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qs{constructor(D,R,j,ne){this.client=D,this.storage=R,this.storageCache=j,this.logger=ne}isCachedDataFresh(D,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-R,ne=j<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${ne}.`),ne}fetch(D){var R=this;return(0,U.Z)(function*(){const[j,ne]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ne&&R.isCachedDataFresh(D.cacheMaxAgeMillis,j))return ne;D.eTag=ne&&ne.eTag;const le=yield R.client.fetch(D),Oe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Oe.push(R.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Oe),le})()}}function Ii(S=navigator){return S.languages&&S.languages[0]||S.language}class hs{constructor(D,R,j,ne,le,Oe){this.firebaseInstallations=D,this.sdkVersion=R,this.namespace=j,this.projectId=ne,this.apiKey=le,this.appId=Oe}fetch(D){var R=this;return(0,U.Z)(function*(){const[j,ne]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Et={sdk_version:R.sdkVersion,app_instance_id:j,app_instance_id_token:ne,app_id:R.appId,language_code:Ii()},yt={method:"POST",headers:pt,body:JSON.stringify(Et)},Zt=fetch(Oe,yt),Rt=new Promise((di,hi)=>{D.signal.addEventListener(()=>{const Yr=new Error("The operation was aborted.");Yr.name="AbortError",hi(Yr)})});let ui;try{yield Promise.race([Zt,Rt]),ui=yield Zt}catch(di){let hi="fetch-client-network";throw"AbortError"===di?.name&&(hi="fetch-timeout"),Gn.create(hi,{originalErrorMessage:di?.message})}let Hn=ui.status;const uo=ui.headers.get("ETag")||void 0;let Ol,Bo;if(200===ui.status){let di;try{di=yield ui.json()}catch(hi){throw Gn.create("fetch-client-parse",{originalErrorMessage:hi?.message})}Ol=di.entries,Bo=di.state}if("INSTANCE_STATE_UNSPECIFIED"===Bo?Hn=500:"NO_CHANGE"===Bo?Hn=304:("NO_TEMPLATE"===Bo||"EMPTY_CONFIG"===Bo)&&(Ol={}),304!==Hn&&200!==Hn)throw Gn.create("fetch-status",{httpStatus:Hn});return{status:Hn,eTag:uo,config:Ol}})()}}class Ji{constructor(D,R){this.client=D,this.storage=R}fetch(D){var R=this;return(0,U.Z)(function*(){const j=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(D,j)})()}attemptFetch(D,{throttleEndTimeMillis:R,backoffCount:j}){var ne=this;return(0,U.Z)(function*(){yield function Ui(S,D){return new Promise((R,j)=>{const ne=Math.max(D-Date.now(),0),le=setTimeout(R,ne);S.addEventListener(()=>{clearTimeout(le),j(Gn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,R);try{const le=yield ne.client.fetch(D);return yield ne.storage.deleteThrottleMetadata(),le}catch(le){if(!function bn(S){if(!(S instanceof fe.ZR&&S.customData))return!1;const D=Number(S.customData.httpStatus);return 429===D||500===D||503===D||504===D}(le))throw le;const Oe={throttleEndTimeMillis:Date.now()+(0,fe.$s)(j),backoffCount:j+1};return yield ne.storage.setThrottleMetadata(Oe),ne.attemptFetch(D,Oe)}})()}}class Eo{constructor(D,R,j,ne,le){this.app=D,this._client=R,this._storageCache=j,this._storage=ne,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ws(S,D){const R=S.target.error||void 0;return Gn.create(D,{originalErrorMessage:R&&R?.message})}const Pr="app_namespace_store";class Vi{constructor(D,R,j,ne=function ii(){return new Promise((S,D)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=j=>{D(Ws(j,"storage-open"))},R.onsuccess=j=>{S(j.target.result)},R.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(Pr,{keyPath:"compositeKey"})}}catch(R){D(Gn.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=D,this.appName=R,this.namespace=j,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var R=this;return(0,U.Z)(function*(){const j=yield R.openDbPromise;return new Promise((ne,le)=>{const pt=j.transaction([Pr],"readonly").objectStore(Pr),Et=R.createCompositeKey(D);try{const yt=pt.get(Et);yt.onerror=Zt=>{le(Ws(Zt,"storage-get"))},yt.onsuccess=Zt=>{const Rt=Zt.target.result;ne(Rt?Rt.value:void 0)}}catch(yt){le(Gn.create("storage-get",{originalErrorMessage:yt?.message}))}})})()}set(D,R){var j=this;return(0,U.Z)(function*(){const ne=yield j.openDbPromise;return new Promise((le,Oe)=>{const Et=ne.transaction([Pr],"readwrite").objectStore(Pr),yt=j.createCompositeKey(D);try{const Zt=Et.put({compositeKey:yt,value:R});Zt.onerror=Rt=>{Oe(Ws(Rt,"storage-set"))},Zt.onsuccess=()=>{le()}}catch(Zt){Oe(Gn.create("storage-set",{originalErrorMessage:Zt?.message}))}})})()}delete(D){var R=this;return(0,U.Z)(function*(){const j=yield R.openDbPromise;return new Promise((ne,le)=>{const pt=j.transaction([Pr],"readwrite").objectStore(Pr),Et=R.createCompositeKey(D);try{const yt=pt.delete(Et);yt.onerror=Zt=>{le(Ws(Zt,"storage-delete"))},yt.onsuccess=()=>{ne()}}catch(yt){le(Gn.create("storage-delete",{originalErrorMessage:yt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class ca{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,U.Z)(function*(){const R=D.storage.getLastFetchStatus(),j=D.storage.getLastSuccessfulFetchTimestampMillis(),ne=D.storage.getActiveConfig(),le=yield R;le&&(D.lastFetchStatus=le);const Oe=yield j;Oe&&(D.lastSuccessfulFetchTimestampMillis=Oe);const pt=yield ne;pt&&(D.activeConfig=pt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ua(){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,U.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function Bi(){(0,he._registerComponent)(new pe.wA("remote-config",function S(D,{instanceIdentifier:R}){const j=D.getProvider("app").getImmediate(),ne=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Gn.create("registration-window");if(!(0,fe.hl)())throw Gn.create("indexed-db-unavailable");const{projectId:le,apiKey:Oe,appId:pt}=j.options;if(!le)throw Gn.create("registration-project-id");if(!Oe)throw Gn.create("registration-api-key");if(!pt)throw Gn.create("registration-app-id");const Et=new Vi(pt,j.name,R=R||"firebase"),yt=new ca(Et),Zt=new Te.Yd(aa);Zt.logLevel=Te.in.ERROR;const Rt=new hs(ne,he.SDK_VERSION,R,le,Oe,pt),ui=new Ji(Rt,Et),Hn=new qs(ui,Et,yt,Zt),uo=new Eo(j,Hn,yt,Et,Zt);return function Ln(S){const D=(0,fe.m9)(S);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(uo),uo},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(aa,"0.4.1"),(0,he.registerVersion)(aa,"0.4.1","esm2017")}();const Mc="/firebase-messaging-sw.js",fs="/firebase-cloud-messaging-push-scope",wo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pc="google.c.a.c_id",kh="google.c.a.c_l",Nh="google.c.a.ts",Vp="google.c.a.e";var Ks=(()=>{return(S=Ks||(Ks={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Ks;var S})();function ts(S){const D=new Uint8Array(S);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bp(S){const R=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(R),ne=new Uint8Array(j.length);for(let le=0;le<j.length;++le)ne[le]=j.charCodeAt(le);return ne}const el="fcm_token_details_db",Gr="fcm_token_object_Store";function Rc(S){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,U.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(el))return null;let D=null;return(yield(0,Ee.X3)(el,5,{upgrade:(j=(0,U.Z)(function*(ne,le,Oe,pt){var Et;if(le<2||!ne.objectStoreNames.contains(Gr))return;const yt=pt.objectStore(Gr),Zt=yield yt.index("fcmSenderId").get(S);if(yield yt.clear(),Zt)if(2===le){const Rt=Zt;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;D={token:Rt.fcmToken,createTime:null!==(Et=Rt.createTime)&&void 0!==Et?Et:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:ts(Rt.vapidKey)}}}else if(3===le){const Rt=Zt;D={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:ts(Rt.auth),p256dh:ts(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:ts(Rt.vapidKey)}}}else if(4===le){const Rt=Zt;D={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:ts(Rt.auth),p256dh:ts(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:ts(Rt.vapidKey)}}}}),function(le,Oe,pt,Et){return j.apply(this,arguments)})})).close(),yield(0,Ee.Lj)(el),yield(0,Ee.Lj)("fcm_vapid_details_db"),yield(0,Ee.Lj)("undefined"),ed(D)?D:null;var j}),Ju.apply(this,arguments)}function ed(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:D}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Qs="firebase-messaging-store";let nl=null;function Io(){return nl||(nl=(0,Ee.X3)("firebase-messaging-database",1,{upgrade:(S,D)=>{0===D&&S.createObjectStore(Qs)}})),nl}function rl(S){return To.apply(this,arguments)}function To(){return(To=(0,U.Z)(function*(S){const D=Do(S),j=yield(yield Io()).transaction(Qs).objectStore(Qs).get(D);if(j)return j;{const ne=yield Rc(S.appConfig.senderId);if(ne)return yield Xs(S,ne),ne}})).apply(this,arguments)}function Xs(S,D){return da.apply(this,arguments)}function da(){return(da=(0,U.Z)(function*(S,D){const R=Do(S),ne=(yield Io()).transaction(Qs,"readwrite");return yield ne.objectStore(Qs).put(D,R),yield ne.done,D})).apply(this,arguments)}function td(S){return So.apply(this,arguments)}function So(){return(So=(0,U.Z)(function*(S){const D=Do(S),j=(yield Io()).transaction(Qs,"readwrite");yield j.objectStore(Qs).delete(D),yield j.done})).apply(this,arguments)}function Do({appConfig:S}){return S.appId}const Un=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function il(S,D){return jn.apply(this,arguments)}function jn(){return(jn=(0,U.Z)(function*(S,D){const R=yield eo(S),j=ha(D),ne={method:"POST",headers:R,body:JSON.stringify(j)};let le;try{le=yield(yield fetch(xo(S.appConfig),ne)).json()}catch(Oe){throw Un.create("token-subscribe-failed",{errorInfo:Oe?.toString()})}if(le.error)throw Un.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw Un.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function sl(S,D){return Js.apply(this,arguments)}function Js(){return(Js=(0,U.Z)(function*(S,D){const R=yield eo(S),j=ha(D.subscriptionOptions),ne={method:"PATCH",headers:R,body:JSON.stringify(j)};let le;try{le=yield(yield fetch(`${xo(S.appConfig)}/${D.token}`,ne)).json()}catch(Oe){throw Un.create("token-update-failed",{errorInfo:Oe?.toString()})}if(le.error)throw Un.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw Un.create("token-update-no-token");return le.token})).apply(this,arguments)}function Wn(S,D){return kc.apply(this,arguments)}function kc(){return(kc=(0,U.Z)(function*(S,D){const j={method:"DELETE",headers:yield eo(S)};try{const le=yield(yield fetch(`${xo(S.appConfig)}/${D}`,j)).json();if(le.error)throw Un.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(ne){throw Un.create("token-unsubscribe-failed",{errorInfo:ne?.toString()})}})).apply(this,arguments)}function xo({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function eo(S){return hr.apply(this,arguments)}function hr(){return(hr=(0,U.Z)(function*({appConfig:S,installations:D}){const R=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ha({p256dh:S,auth:D,endpoint:R,vapidKey:j}){const ne={web:{endpoint:R,auth:D,p256dh:S}};return j!==wo&&(ne.web.applicationPubKey=j),ne}const Ao=6048e5;function ol(S){return ps.apply(this,arguments)}function ps(){return(ps=(0,U.Z)(function*(S){const D=yield Nc(S.swRegistration,S.vapidKey),R={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:D.endpoint,auth:ts(D.getKey("auth")),p256dh:ts(D.getKey("p256dh"))},j=yield rl(S.firebaseDependencies);if(j){if(cl(j.subscriptionOptions,R))return Date.now()>=j.createTime+Ao?Vt(S,{token:j.token,createTime:Date.now(),subscriptionOptions:R}):j.token;try{yield Wn(S.firebaseDependencies,j.token)}catch(ne){console.warn(ne)}return nd(S.firebaseDependencies,R)}return nd(S.firebaseDependencies,R)})).apply(this,arguments)}function fa(S){return pa.apply(this,arguments)}function pa(){return(pa=(0,U.Z)(function*(S){const D=yield rl(S.firebaseDependencies);D&&(yield Wn(S.firebaseDependencies,D.token),yield td(S.firebaseDependencies));const R=yield S.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Vt(S,D){return al.apply(this,arguments)}function al(){return(al=(0,U.Z)(function*(S,D){try{const R=yield sl(S.firebaseDependencies,D),j=Object.assign(Object.assign({},D),{token:R,createTime:Date.now()});return yield Xs(S.firebaseDependencies,j),R}catch(R){throw yield fa(S),R}})).apply(this,arguments)}function nd(S,D){return ll.apply(this,arguments)}function ll(){return(ll=(0,U.Z)(function*(S,D){const j={token:yield il(S,D),createTime:Date.now(),subscriptionOptions:D};return yield Xs(S,j),j.token})).apply(this,arguments)}function Nc(S,D){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,U.Z)(function*(S,D){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bp(D)})})).apply(this,arguments)}function cl(S,D){return D.vapidKey===S.vapidKey&&D.endpoint===S.endpoint&&D.auth===S.auth&&D.p256dh===S.p256dh}function Lh(S){const D={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Fc(S,D){if(!D.notification)return;S.notification={};const R=D.notification.title;R&&(S.notification.title=R);const j=D.notification.body;j&&(S.notification.body=j);const ne=D.notification.image;ne&&(S.notification.image=ne);const le=D.notification.icon;le&&(S.notification.icon=le)}(D,S),function De(S,D){D.data&&(S.data=D.data)}(D,S),function cn(S,D){var R,j,ne,le,Oe;if(!(D.fcmOptions||null!==(R=D.notification)&&void 0!==R&&R.click_action))return;S.fcmOptions={};const pt=null!==(ne=null===(j=D.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==ne?ne:null===(le=D.notification)||void 0===le?void 0:le.click_action;pt&&(S.fcmOptions.link=pt);const Et=null===(Oe=D.fcmOptions)||void 0===Oe?void 0:Oe.analytics_label;Et&&(S.fcmOptions.analyticsLabel=Et)}(D,S),D}function rd(S){return"object"==typeof S&&!!S&&Pc in S}function Fh(S,D){const R=[];for(let j=0;j<S.length;j++)R.push(S.charAt(j)),j<D.length&&R.push(D.charAt(j));return R.join("")}function ga(S){return Un.create("missing-app-config-values",{valueName:S})}Fh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ul{constructor(D,R,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function br(S){if(!S||!S.options)throw ga("App Configuration Object");if(!S.name)throw ga("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:R}=S;for(const j of D)if(!R[j])throw ga(j);return{appName:S.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:ne,installations:R,analyticsProvider:j}}_delete(){return Promise.resolve()}}function ai(S){return dl.apply(this,arguments)}function dl(){return(dl=(0,U.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Mc,{scope:fs}),S.swRegistration.update().catch(()=>{})}catch(D){throw Un.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function hl(S,D){return id.apply(this,arguments)}function id(){return(id=(0,U.Z)(function*(S,D){if(!D&&!S.swRegistration&&(yield ai(S)),D||!S.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Un.create("invalid-sw-registration");S.swRegistration=D}})).apply(this,arguments)}function $c(S,D){return fl.apply(this,arguments)}function fl(){return(fl=(0,U.Z)(function*(S,D){D?S.vapidKey=D:S.vapidKey||(S.vapidKey=wo)})).apply(this,arguments)}function li(){return(li=(0,U.Z)(function*(S,D){if(!navigator)throw Un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Un.create("permission-blocked");return yield $c(S,D?.vapidKey),yield hl(S,D?.serviceWorkerRegistration),ol(S)})).apply(this,arguments)}function ks(S,D,R){return to.apply(this,arguments)}function to(){return(to=(0,U.Z)(function*(S,D,R){const j=ns(D);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:R[Pc],message_name:R[kh],message_time:R[Nh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ns(S){switch(S){case Ks.NOTIFICATION_CLICKED:return"notification_open";case Ks.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ma(){return(ma=(0,U.Z)(function*(S,D){const R=D.data;if(!R.isFirebaseMessaging)return;S.onMessageHandler&&R.messageType===Ks.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Lh(R)):S.onMessageHandler.next(Lh(R)));const j=R.data;rd(j)&&"1"===j[Vp]&&(yield ks(S,R.messageType,j))})).apply(this,arguments)}const od="@firebase/messaging",Vc=S=>{const D=new ul(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function sd(S,D){return ma.apply(this,arguments)}(D,R)),D},gs=S=>{const D=S.getProvider("messaging").getImmediate();return{getToken:j=>function rr(S,D){return li.apply(this,arguments)}(D,j)}};function Bc(){return ld.apply(this,arguments)}function ld(){return(ld=(0,U.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ad(){(0,he._registerComponent)(new pe.wA("messaging",Vc,"PUBLIC")),(0,he._registerComponent)(new pe.wA("messaging-internal",gs,"PRIVATE")),(0,he.registerVersion)(od,"0.12.1"),(0,he.registerVersion)(od,"0.12.1","esm2017")}();const cd="analytics",qr="firebase_id",Po="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hc="https://www.googletagmanager.com/gtag/js",Er=new Te.Yd("@firebase/analytics");function Vh(S){return Promise.all(S.map(D=>D.catch(R=>R)))}function Zp(S,D){const R=document.createElement("script");R.src=`${Hc}?l=${S}&id=${D}`,R.async=!0,document.head.appendChild(R)}function va(S,D,R,j,ne,le){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,U.Z)(function*(S,D,R,j,ne,le){const Oe=j[ne];try{if(Oe)yield D[Oe];else{const Et=(yield Vh(R)).find(yt=>yt.measurementId===ne);Et&&(yield D[Et.appId])}}catch(pt){Er.error(pt)}S("config",ne,le)})).apply(this,arguments)}function Oo(S,D,R,j,ne){return Si.apply(this,arguments)}function Si(){return(Si=(0,U.Z)(function*(S,D,R,j,ne){try{let le=[];if(ne&&ne.send_to){let Oe=ne.send_to;Array.isArray(Oe)||(Oe=[Oe]);const pt=yield Vh(R);for(const Et of Oe){const yt=pt.find(Rt=>Rt.measurementId===Et),Zt=yt&&D[yt.appId];if(!Zt){le=[];break}le.push(Zt)}}0===le.length&&(le=Object.values(D)),yield Promise.all(le),S("event",j,ne||{})}catch(le){Er.error(le)}})).apply(this,arguments)}function Ro(S){const D=window.document.getElementsByTagName("script");for(const R of Object.values(D))if(R.src&&R.src.includes(Hc)&&R.src.includes(S))return R;return null}const Di=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ya=new class no{constructor(D={},R=1e3){this.throttleMetadata=D,this.intervalMillis=R}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,R){this.throttleMetadata[D]=R}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function ml(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function _a(S){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,U.Z)(function*(S){var D;const{appId:R,apiKey:j}=S,ne={method:"GET",headers:ml(j)},le=Po.replace("{app-id}",R),Oe=yield fetch(le,ne);if(200!==Oe.status&&304!==Oe.status){let pt="";try{const Et=yield Oe.json();null!==(D=Et.error)&&void 0!==D&&D.message&&(pt=Et.error.message)}catch{}throw Di.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:pt})}return Oe.json()})).apply(this,arguments)}function In(S){return ba.apply(this,arguments)}function ba(){return(ba=(0,U.Z)(function*(S,D=ya,R){const{appId:j,apiKey:ne,measurementId:le}=S.options;if(!j)throw Di.create("no-app-id");if(!ne){if(le)return{measurementId:le,appId:j};throw Di.create("no-api-key")}const Oe=D.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},pt=new vl;return setTimeout((0,U.Z)(function*(){pt.abort()}),void 0!==R?R:6e4),ro({appId:j,apiKey:ne,measurementId:le},Oe,pt,D)})).apply(this,arguments)}function ro(S,D,R){return ms.apply(this,arguments)}function ms(){return(ms=(0,U.Z)(function*(S,{throttleEndTimeMillis:D,backoffCount:R},j,ne=ya){var le;const{appId:Oe,measurementId:pt}=S;try{yield Ea(j,D)}catch(Et){if(pt)return Er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${Et?.message}]`),{appId:Oe,measurementId:pt};throw Et}try{const Et=yield _a(S);return ne.deleteThrottleMetadata(Oe),Et}catch(Et){const yt=Et;if(!qc(yt)){if(ne.deleteThrottleMetadata(Oe),pt)return Er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${yt?.message}]`),{appId:Oe,measurementId:pt};throw Et}const Zt=503===Number(null===(le=yt?.customData)||void 0===le?void 0:le.httpStatus)?(0,fe.$s)(R,ne.intervalMillis,30):(0,fe.$s)(R,ne.intervalMillis),Rt={throttleEndTimeMillis:Date.now()+Zt,backoffCount:R+1};return ne.setThrottleMetadata(Oe,Rt),Er.debug(`Calling attemptFetch again in ${Zt} millis`),ro(S,Rt,j,ne)}})).apply(this,arguments)}function Ea(S,D){return new Promise((R,j)=>{const ne=Math.max(D-Date.now(),0),le=setTimeout(R,ne);S.addEventListener(()=>{clearTimeout(le),j(Di.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function qc(S){if(!(S instanceof fe.ZR&&S.customData))return!1;const D=Number(S.customData.httpStatus);return 429===D||500===D||503===D||504===D}class vl{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let yl,ao;function Ls(){return(Ls=(0,U.Z)(function*(S,D,R,j,ne){if(ne&&ne.global)S("event",R,j);else{const le=yield D;S("event",R,Object.assign(Object.assign({},j),{send_to:le}))}})).apply(this,arguments)}function El(S){ao=S}function wa(S){yl=S}function Kc(){return dd.apply(this,arguments)}function dd(){return(dd=(0,U.Z)(function*(){if(!(0,fe.hl)())return Er.warn(Di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(S){return Er.warn(Di.create("indexeddb-unavailable",{errorInfo:S?.toString()}).message),!1}return!0})).apply(this,arguments)}function Fo(){return(Fo=(0,U.Z)(function*(S,D,R,j,ne,le,Oe){var pt;const Et=In(S);Et.then(Hn=>{R[Hn.measurementId]=Hn.appId,S.options.measurementId&&Hn.measurementId!==S.options.measurementId&&Er.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Hn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Hn=>Er.error(Hn)),D.push(Et);const yt=Kc().then(Hn=>{if(Hn)return j.getId()}),[Zt,Rt]=yield Promise.all([Et,yt]);Ro(le)||Zp(le,Zt.measurementId),ao&&(ne("consent","default",ao),El(void 0)),ne("js",new Date);const ui=null!==(pt=Oe?.config)&&void 0!==pt?pt:{};return ui.origin="firebase",ui.update=!0,null!=Rt&&(ui[qr]=Rt),ne("config",Zt.measurementId,ui),yl&&(ne("set",yl),wa(void 0)),Zt.measurementId})).apply(this,arguments)}class Bh{constructor(D){this.app=D}_delete(){return delete vs[this.app.options.appId],Promise.resolve()}}let vs={},Ca=[];const wl={};let Qc,Hi,ji="dataLayer",Zi=!1;function Cl(S,D,R){!function Xc(){const S=[];if((0,fe.ru)()&&S.push("This is a browser extension environment."),(0,fe.zI)()||S.push("Cookies are not available."),S.length>0){const D=S.map((j,ne)=>`(${ne+1}) ${j}`).join(" "),R=Di.create("invalid-analytics-context",{errorInfo:D});Er.warn(R.message)}}();const j=S.options.appId;if(!j)throw Di.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Di.create("no-api-key");Er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vs[j])throw Di.create("already-exists",{id:j});if(!Zi){!function zp(S){let D=[];Array.isArray(window[S])?D=window[S]:window[S]=D}(ji);const{wrappedGtag:le,gtagCore:Oe}=function gl(S,D,R,j,ne){let le=function(...Oe){window[j].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(le=window[ne]),window[ne]=function Zc(S,D,R,j){function le(){return(le=(0,U.Z)(function*(Oe,pt,Et){try{"event"===Oe?yield Oo(S,D,R,pt,Et):"config"===Oe?yield va(S,D,R,j,pt,Et):"consent"===Oe?S("consent","update",Et):S("set",pt)}catch(yt){Er.error(yt)}})).apply(this,arguments)}return function ne(Oe,pt,Et){return le.apply(this,arguments)}}(le,S,D,R),{gtagCore:le,wrappedGtag:window[ne]}}(vs,Ca,wl,ji,"gtag");Hi=le,Qc=Oe,Zi=!0}return vs[j]=function lo(S,D,R,j,ne,le,Oe){return Fo.apply(this,arguments)}(S,Ca,wl,D,Qc,ji,R),new Bh(S)}function Jc(){return co.apply(this,arguments)}function co(){return(co=(0,U.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const on="@firebase/analytics";!function Gp(){(0,he._registerComponent)(new pe.wA(cd,(D,{options:R})=>Cl(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,he._registerComponent)(new pe.wA("analytics-internal",function S(D){try{const R=D.getProvider(cd).getImmediate();return{logEvent:(j,ne,le)=>function iv(S,D,R,j){S=(0,fe.m9)(S),function _l(S,D,R,j,ne){return Ls.apply(this,arguments)}(Hi,vs[S.app.options.appId],D,R,j).catch(ne=>Er.error(ne))}(R,j,ne,le)}}catch(R){throw Di.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,he.registerVersion)(on,"0.9.1"),(0,he.registerVersion)(on,"0.9.1","esm2017")}();var Tl=V(4408),zh=V(7565);const Gh=new class gd extends zh.v{}(class Zh extends Tl.o{constructor(D,R){super(D,R),this.scheduler=D,this.work=R}schedule(D,R=0){return R>0?super.schedule(D,R):(this.delay=R,this.state=D,this.scheduler.flush(this),this)}execute(D,R){return R>0||this.closed?super.execute(D,R):this._execute(D,R)}requestAsyncId(D,R,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(D,R,j):(D.flush(this),0)}});var qh=V(4986),nu=V(8505),An=V(9468),Dl=V(5363);const xl=new l.GfV("7.5.0"),ru="__angularfire_symbol__analyticsIsSupportedValue",ci="__angularfire_symbol__analyticsIsSupported",rs="__angularfire_symbol__remoteConfigIsSupportedValue",Al="__angularfire_symbol__remoteConfigIsSupported",Ta="__angularfire_symbol__messagingIsSupportedValue",Uo="__angularfire_symbol__messagingIsSupported";function Kr(S,D,R){if(D){if(1===D.length)return D[0];const le=D.filter(Oe=>Oe.app===R);if(1===le.length)return le[0]}return R.container.getProvider(S).getImmediate({optional:!0})}globalThis[ci]||(globalThis[ci]=Jc().then(S=>globalThis[ru]=S).catch(()=>globalThis[ru]=!1)),globalThis[Uo]||(globalThis[Uo]=Bc().then(S=>globalThis[Ta]=S).catch(()=>globalThis[Ta]=!1)),globalThis[Al]||(globalThis[Al]=ua().then(S=>globalThis[rs]=S).catch(()=>globalThis[rs]=!1));const yn=(S,D)=>{const R=D?[D]:(0,ie.C6)(),j=[];return R.forEach(ne=>{ne.container.getProvider(S).instances.forEach(Oe=>{j.includes(Oe)||j.push(Oe)})}),j};function Rr(){}class ft{constructor(D,R=Gh){this.zone=D,this.delegate=R}now(){return this.delegate.now()}schedule(D,R,j){const ne=this.zone;return this.delegate.schedule(function(Oe){ne.runGuarded(()=>{D.apply(this,[Oe])})},R,j)}}class is{constructor(D){this.zone=D,this.task=null}call(D,R){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rr,{},Rr,Rr)),R.pipe((0,nu.b)({next:j,complete:j,error:j})).subscribe(D).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zi=(()=>{class S{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new ft(Zone.current)),this.insideAngular=R.run(()=>new ft(Zone.current,qh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(R){return new(R||S)(l.LFG(l.R0b))},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function ys(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Sa(S){return ys(),function Da(S){return function(R){return(R=R.lift(new is(S.ngZone))).pipe((0,An.R)(S.outsideAngular),(0,Dl.Q)(S.insideAngular))}}(ys())(S)}},2090:(wt,Le,V)=>{V.d(Le,{$s:()=>ht,BH:()=>ke,G6:()=>Ct,L:()=>Ee,LL:()=>dn,Pz:()=>Be,Sg:()=>je,UG:()=>q,US:()=>pe,ZB:()=>Y,ZR:()=>Dt,aH:()=>qe,b$:()=>re,eu:()=>wn,hl:()=>hn,jU:()=>Me,m9:()=>qt,ne:()=>Os,pd:()=>On,r3:()=>Ps,ru:()=>J,tV:()=>be,uI:()=>ze,vZ:()=>Cn,w1:()=>ce,xO:()=>ls,xb:()=>Hr,z$:()=>We,zI:()=>zt,zd:()=>Fi});const he=function(W){const H=[];let ee=0;for(let Se=0;Se<W.length;Se++){let ae=W.charCodeAt(Se);ae<128?H[ee++]=ae:ae<2048?(H[ee++]=ae>>6|192,H[ee++]=63&ae|128):55296==(64512&ae)&&Se+1<W.length&&56320==(64512&W.charCodeAt(Se+1))?(ae=65536+((1023&ae)<<10)+(1023&W.charCodeAt(++Se)),H[ee++]=ae>>18|240,H[ee++]=ae>>12&63|128,H[ee++]=ae>>6&63|128,H[ee++]=63&ae|128):(H[ee++]=ae>>12|224,H[ee++]=ae>>6&63|128,H[ee++]=63&ae|128)}return H},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,H){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let ae=0;ae<W.length;ae+=3){const mt=W[ae],Wt=ae+1<W.length,sn=Wt?W[ae+1]:0,kn=ae+2<W.length,Ot=kn?W[ae+2]:0;let tr=(15&sn)<<2|Ot>>6,yo=63&Ot;kn||(yo=64,Wt||(tr=64)),Se.push(ee[mt>>2],ee[(3&mt)<<4|sn>>4],ee[tr],ee[yo])}return Se.join("")},encodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(W):this.encodeByteArray(he(W),H)},decodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(W):function(W){const H=[];let ee=0,Se=0;for(;ee<W.length;){const ae=W[ee++];if(ae<128)H[Se++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const mt=W[ee++];H[Se++]=String.fromCharCode((31&ae)<<6|63&mt)}else if(ae>239&&ae<365){const kn=((7&ae)<<18|(63&W[ee++])<<12|(63&W[ee++])<<6|63&W[ee++])-65536;H[Se++]=String.fromCharCode(55296+(kn>>10)),H[Se++]=String.fromCharCode(56320+(1023&kn))}else{const mt=W[ee++],Wt=W[ee++];H[Se++]=String.fromCharCode((15&ae)<<12|(63&mt)<<6|63&Wt)}}return H.join("")}(this.decodeStringToByteArray(W,H))},decodeStringToByteArray(W,H){this.init_();const ee=H?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let ae=0;ae<W.length;){const mt=ee[W.charAt(ae++)],sn=ae<W.length?ee[W.charAt(ae)]:0;++ae;const Ot=ae<W.length?ee[W.charAt(ae)]:64;++ae;const tn=ae<W.length?ee[W.charAt(ae)]:64;if(++ae,null==mt||null==sn||null==Ot||null==tn)throw Error();Se.push(mt<<2|sn>>4),64!==Ot&&(Se.push(sn<<4&240|Ot>>2),64!==tn&&Se.push(Ot<<6&192|tn))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},Ee=function(W){return function(W){const H=he(W);return pe.encodeByteArray(H,!0)}(W).replace(/\./g,"")},be=function(W){try{return pe.decodeString(W,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function Y(W,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return H}for(const ee in H)!H.hasOwnProperty(ee)||!te(ee)||(W[ee]=Y(W[ee],H[ee]));return W}function te(W){return"__proto__"!==W}const we=()=>{try{return function Xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=W&&be(W[1]);return H&&JSON.parse(H)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},qe=()=>{var W;return null===(W=we())||void 0===W?void 0:W.config},Be=W=>{var H;return null===(H=we())||void 0===H?void 0:H[`_${W}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,ee)=>{this.resolve=H,this.reject=ee})}wrapCallback(H){return(ee,Se)=>{ee?this.reject(ee):this.resolve(Se),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(ee):H(ee,Se))}}}function je(W,H){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=H||"demo-project",ae=W.iat||0,mt=W.sub||W.user_id;if(!mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Wt=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:ae,exp:ae+3600,auth_time:ae,sub:mt,user_id:mt,firebase:{sign_in_provider:"custom",identities:{}}},W);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(Wt)),""].join(".")}function We(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function q(){var W;const H=null===(W=we())||void 0===W?void 0:W.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Me(){return"object"==typeof self&&self.self===self}function J(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){const W=We();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Ct(){return!q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hn(){try{return"object"==typeof indexedDB}catch{return!1}}function wn(){return new Promise((W,H)=>{try{let ee=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(Se);ae.onsuccess=()=>{ae.result.close(),ee||self.indexedDB.deleteDatabase(Se),W(!0)},ae.onupgradeneeded=()=>{ee=!1},ae.onerror=()=>{var mt;H((null===(mt=ae.error)||void 0===mt?void 0:mt.message)||"")}}catch(ee){H(ee)}})}function zt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Dt extends Error{constructor(H,ee,Se){super(ee),this.code=H,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,Dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dn.prototype.create)}}class dn{constructor(H,ee,Se){this.service=H,this.serviceName=ee,this.errors=Se}create(H,...ee){const Se=ee[0]||{},ae=`${this.service}/${H}`,mt=this.errors[H],Wt=mt?function Sr(W,H){return W.replace(Vr,(ee,Se)=>{const ae=H[Se];return null!=ae?String(ae):`<${Se}?>`})}(mt,Se):"Error";return new Dt(ae,`${this.serviceName}: ${Wt} (${ae}).`,Se)}}const Vr=/\{\$([^}]+)}/g;function Ps(W,H){return Object.prototype.hasOwnProperty.call(W,H)}function Hr(W){for(const H in W)if(Object.prototype.hasOwnProperty.call(W,H))return!1;return!0}function Cn(W,H){if(W===H)return!0;const ee=Object.keys(W),Se=Object.keys(H);for(const ae of ee){if(!Se.includes(ae))return!1;const mt=W[ae],Wt=H[ae];if(ri(mt)&&ri(Wt)){if(!Cn(mt,Wt))return!1}else if(mt!==Wt)return!1}for(const ae of Se)if(!ee.includes(ae))return!1;return!0}function ri(W){return null!==W&&"object"==typeof W}function ls(W){const H=[];for(const[ee,Se]of Object.entries(W))Array.isArray(Se)?Se.forEach(ae=>{H.push(encodeURIComponent(ee)+"="+encodeURIComponent(ae))}):H.push(encodeURIComponent(ee)+"="+encodeURIComponent(Se));return H.length?"&"+H.join("&"):""}function Fi(W){const H={};return W.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[ae,mt]=Se.split("=");H[decodeURIComponent(ae)]=decodeURIComponent(mt)}}),H}function On(W){const H=W.indexOf("?");if(!H)return"";const ee=W.indexOf("#",H);return W.substring(H,ee>0?ee:void 0)}function Os(W,H){const ee=new jt(W,H);return ee.subscribe.bind(ee)}class jt{constructor(H,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{H(this)}).catch(Se=>{this.error(Se)})}next(H){this.forEachObserver(ee=>{ee.next(H)})}error(H){this.forEachObserver(ee=>{ee.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,ee,Se){let ae;if(void 0===H&&void 0===ee&&void 0===Se)throw new Error("Missing Observer.");ae=function kt(W,H){if("object"!=typeof W||null===W)return!1;for(const ee of H)if(ee in W&&"function"==typeof W[ee])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:ee,complete:Se},void 0===ae.next&&(ae.next=cs),void 0===ae.error&&(ae.error=cs),void 0===ae.complete&&(ae.complete=cs);const mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch{}}),this.observers.push(ae),mt}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,H)}sendOne(H,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{ee(this.observers[H])}catch(Se){typeof console<"u"&&console.error&&console.error(Se)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cs(){}function ht(W,H=1e3,ee=2){const Se=H*Math.pow(ee,W),ae=Math.round(.5*Se*(Math.random()-.5)*2);return Math.min(144e5,Se+ae)}function qt(W){return W&&W._delegate?W._delegate:W}},6648:(wt,Le,V)=>{var l=V(4650);let ie=null;function U(){return ie}class fe{}const pe=new l.OlP("DocumentToken");let Te=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return function Ee(){return(0,l.LFG)(K)}()},providedIn:"platform"}),t})();const be=new l.OlP("Location Initialized");let K=(()=>{class t extends Te{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(n){const r=U().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=U().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){Y()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){Y()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(pe))},t.\u0275prov=l.Yz7({token:t,factory:function(){return function te(){return new K((0,l.LFG)(pe))}()},providedIn:"platform"}),t})();function Y(){return!!window.history.pushState}function Xe(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function $e(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function rt(t){return t&&"?"!==t[0]?"?"+t:t}let bt=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(Ue)},providedIn:"root"}),t})();const we=new l.OlP("appBaseHref");let Ue=(()=>{class t extends bt{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Xe(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+rt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,c){const u=this.prepareExternalUrl(i+rt(c));this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,c){const u=this.prepareExternalUrl(i+rt(c));this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Te),l.LFG(we,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fe=(()=>{class t extends bt{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Xe(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,c){let u=this.prepareExternalUrl(i+rt(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,c){let u=this.prepareExternalUrl(i+rt(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Te),l.LFG(we,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),qe=(()=>{class t{constructor(n){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function We(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}($e(je(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+rt(r))}normalize(n){return t.stripTrailingSlash(function ke(t,e){return t&&new RegExp(`^${t}([/;?#]|$)`).test(e)?e.substring(t.length):e}(this._basePath,je(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=rt,t.joinWithSlash=Xe,t.stripTrailingSlash=$e,t.\u0275fac=function(n){return new(n||t)(l.LFG(bt))},t.\u0275prov=l.Yz7({token:t,factory:function(){return function Be(){return new qe((0,l.LFG)(bt))}()},providedIn:"root"}),t})();function je(t){return t.replace(/\/index.html$/,"")}const Ei=/\s+/,lt=[];let Ht=(()=>{class t{constructor(n,r,i,c){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=c,this.initialClasses=lt,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Ei):lt}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Ei):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,Boolean(n[r]));this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Ei).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class qn{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dr=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,c,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new qn(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===c?void 0:c);else if(null!==c){const p=r.get(c);r.move(p,u),Ln(p,i)}});for(let i=0,c=r.length;i<c;i++){const p=r.get(i).context;p.index=i,p.count=c,p.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Ln(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Ln(t,e){t.context.$implicit=e.item}let wi=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Kt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){xc("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){xc("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.s_b),l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class Kt{constructor(){this.$implicit=null,this.ngIf=null}}function xc(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class Rs{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ja=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const r=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const r of this._defaultViews)r.enforceState(n)}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=l.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),Ci=(()=>{class t{constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new Rs(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ja,9))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),_r=(()=>{class t{constructor(n,r,i){i._addDefault(new Rs(n,r))}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ja,9))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})(),Ui=(()=>{class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:c,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,c,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.s_b))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),t})();class Ti{createSubscription(e,n){return e.subscribe({next:n,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Qu{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Eo=new Qu,Ws=new Ti;let Pr=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if((0,l.QGY)(n))return Eo;if((0,l.F4k)(n))return Ws;throw function Ji(t,e){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.sBO,16))},t.\u0275pipe=l.Yjl({name:"async",type:t,pure:!1,standalone:!0}),t})(),es=(()=>{class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=Pc}transform(n,r=Pc){if(!n||!(n instanceof Map)&&"object"!=typeof n)return null;this.differ||(this.differ=this.differs.find(n).create());const i=this.differ.diff(n),c=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(u=>{this.keyValues.push(function wo(t,e){return{key:t,value:e}}(u.key,u.currentValue))})),(i||c)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.aQg,16))},t.\u0275pipe=l.Yjl({name:"keyvalue",type:t,pure:!1,standalone:!0}),t})();function Pc(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),c=String(r);return i==c?0:i<c?-1:1}let el=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();const Oc="browser";function tl(t){return"server"===t}let Io=(()=>{class t{}return t.\u0275prov=(0,l.Yz7)({token:t,providedIn:"root",factory:()=>new rl((0,l.LFG)(pe),window)}),t})();class rl{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Xs(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const c=i.shadowRoot;if(c){const u=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],i-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=To(this.window.history)||To(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function To(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Ns extends fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Oo extends Ns{static makeCurrent(){!function he(t){ie||(ie=t)}(new Oo)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Zc(){return Si=Si||document.querySelector("base"),Si?Si.getAttribute("href"):null}();return null==n?null:function Ro(t){gl=gl||document.createElement("a"),gl.setAttribute("href",t);const e=gl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Si=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Mr(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,c]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let gl,Si=null;const ko=new l.OlP("TRANSITION_ID"),zc=[{provide:l.ip1,useFactory:function Di(t,e,n){return()=>{n.get(l.CZH).donePromise.then(()=>{const r=U(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let c=0;c<i.length;c++)r.remove(i[c])})}},deps:[ko,pe,l.zs3],multi:!0}];let no=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const ya=new l.OlP("EventManagerPlugins");let ml=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let c=0;c<i.length;c++){const u=i[c];if(u.supports(n))return this._eventNameToPlugin.set(n,u),u}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(ya),l.LFG(l.R0b))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class _a{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=U().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Gc=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),In=(()=>{class t extends Gc{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(c=>{const u=this._doc.createElement("style");u.textContent=c,i.push(r.appendChild(u))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(ba),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(ba))}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(pe))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();function ba(t){U().remove(t)}const ro={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ms=/%COMP%/g;function io(t,e){return e.flat(100).map(n=>n.replace(ms,t))}function so(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let oo=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new No(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Lo(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case l.ifc.ShadowDom:return new ao(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=io(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(ml),l.LFG(In),l.LFG(l.AFp))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class No{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(ro[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(bl(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(bl(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const c=ro[i];c?e.setAttributeNS(c,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=ro[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(n,r,i&l.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&l.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,so(r)):this.eventManager.addEventListener(e,n,so(r))}}function bl(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Lo extends No{constructor(e,n,r,i){super(e),this.component=r;const c=io(i+"-"+r.id,r.styles);n.addStyles(c),this.contentAttr=function _l(t){return"_ngcontent-%COMP%".replace(ms,t)}(i+"-"+r.id),this.hostAttr=function Ls(t){return"_nghost-%COMP%".replace(ms,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class ao extends No{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=io(i.id,i.styles);for(let u=0;u<c.length;u++){const p=document.createElement("style");p.textContent=c[u],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let El=(()=>{class t extends _a{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(pe))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const wa=["alt","control","meta","shift"],Kc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dd={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lo=(()=>{class t extends _a{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const c=t.parseEventName(r),u=t.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(n,c.domEventName,u))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const c=t._normalizeKey(r.pop());let u="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),u="code."),wa.forEach(y=>{const E=r.indexOf(y);E>-1&&(r.splice(E,1),u+=y+".")}),u+=c,0!=r.length||0===c.length)return null;const v={};return v.domEventName=i,v.fullKey=u,v}static matchEventFullKeyCode(n,r){let i=Kc[n.key]||n.key,c="";return r.indexOf("code.")>-1&&(i=n.code,c="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wa.forEach(u=>{u!==i&&(0,dd[u])(n)&&(c+=u+".")}),c+=i,c===r)}static eventCallback(n,r,i){return c=>{t.matchEventFullKeyCode(c,n)&&i.runGuarded(()=>r(c))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(pe))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const Zi=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Oc},{provide:l.g9A,useValue:function ji(){Oo.makeCurrent()},multi:!0},{provide:pe,useFactory:function Qc(){return(0,l.RDi)(document),document},deps:[]}]),jh=new l.OlP(""),Xc=[{provide:l.rWj,useClass:class ud{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const c=e.findTestabilityInTree(r,i);if(null==c)throw new Error("Could not find testability for element.");return c},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let c=i.length,u=!1;const p=function(v){u=u||v,c--,0==c&&r(u)};i.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?U().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Cl=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Yc(){return new l.qLn},deps:[]},{provide:ya,useClass:El,multi:!0,deps:[pe,l.R0b,l.Lbi]},{provide:ya,useClass:lo,multi:!0,deps:[pe]},{provide:oo,useClass:oo,deps:[ml,In,l.AFp]},{provide:l.FYo,useExisting:oo},{provide:Gc,useExisting:In},{provide:In,useClass:In,deps:[pe]},{provide:ml,useClass:ml,deps:[ya,l.R0b]},{provide:class td{},useClass:no,deps:[]},[]];let hd=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:l.AFp,useValue:n.appId},{provide:ko,useExisting:l.AFp},zc]}}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(jh,12))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[...Cl,...Xc],imports:[el,l.hGG]}),t})(),$o=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(pe))},t.\u0275prov=l.Yz7({token:t,factory:function(n){let r=null;return r=n?new n:function Ia(){return new $o((0,l.LFG)(pe))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;var yn=V(8996),Rr=V(7669);function ft(...t){const e=(0,Rr.yG)(t);return(0,yn.D)(t,e)}var is=V(7579);class zi extends is.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Vo=(0,V(3888).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var wr=V(9751);const{isArray:qp}=Array,{getPrototypeOf:md,prototype:Sa,keys:Da}=Object;var S=V(4671),D=V(4004);const{isArray:R}=Array;var Oe=V(5403),pt=V(9672);function Et(...t){const e=(0,Rr.yG)(t),n=(0,Rr.jO)(t),{args:r,keys:i}=function iu(t){if(1===t.length){const e=t[0];if(qp(e))return{args:e,keys:null};if(function Pl(t){return t&&"object"==typeof t&&md(t)===Sa}(e)){const n=Da(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return(0,yn.D)([],e);const c=new wr.y(function yt(t,e,n=S.y){return r=>{Zt(e,()=>{const{length:i}=t,c=new Array(i);let u=i,p=i;for(let v=0;v<i;v++)Zt(e,()=>{const y=(0,yn.D)(t[v],e);let E=!1;y.subscribe((0,Oe.x)(r,C=>{c[v]=C,E||(E=!0,p--),p||r.next(n(c.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>function le(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,u):S.y));return n?c.pipe(function ne(t){return(0,D.U)(e=>function j(t,e){return R(e)?t(...e):t(e)}(t,e))}(n)):c}function Zt(t,e,n){t?(0,pt.f)(n,t,e):e()}var Rt=V(8189);function Hn(...t){return function ui(){return(0,Rt.J)(1)}()((0,yn.D)(t,(0,Rr.yG)(t)))}var uo=V(8421);function Ol(t){return new wr.y(e=>{(0,uo.Xf)(t()).subscribe(e)})}var Bo=V(9635),di=V(576);function hi(t,e){const n=(0,di.m)(t)?t:()=>t,r=i=>i.error(n());return new wr.y(e?i=>e.schedule(r,0,i):r)}var Yr=V(515),Kh=V(727),fi=V(4482);function vd(){return(0,fi.e)((t,e)=>{let n=null;t._refCount++;const r=(0,Oe.x)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,c=n;n=null,i&&(!c||i===c)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Yh extends wr.y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,fi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Kh.w0;const n=this.getSubject();e.add(this.source.subscribe((0,Oe.x)(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Kh.w0.EMPTY)}return e}refCount(){return vd()(this)}}function fr(t,e){return(0,fi.e)((n,r)=>{let i=null,c=0,u=!1;const p=()=>u&&!i&&r.complete();n.subscribe((0,Oe.x)(r,v=>{i?.unsubscribe();let y=0;const E=c++;(0,uo.Xf)(t(v,E)).subscribe(i=(0,Oe.x)(r,C=>r.next(e?e(v,C,E,y++):C),()=>{i=null,p()}))},()=>{u=!0,p()}))})}function yd(t){return t<=0?()=>Yr.E:(0,fi.e)((e,n)=>{let r=0;e.subscribe((0,Oe.x)(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function su(...t){const e=(0,Rr.yG)(t);return(0,fi.e)((n,r)=>{(e?Hn(t,n,e):Hn(t,n)).subscribe(r)})}function _s(t,e){return(0,fi.e)((n,r)=>{let i=0;n.subscribe((0,Oe.x)(r,c=>t.call(e,c,i++)&&r.next(c)))})}var ir=V(5577);function Qh(t){return(0,fi.e)((e,n)=>{let r=!1;e.subscribe((0,Oe.x)(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ov(t=Xh){return(0,fi.e)((e,n)=>{let r=!1;e.subscribe((0,Oe.x)(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Xh(){return new Vo}function jo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?_s((i,c)=>t(i,c,r)):S.y,yd(1),n?Qh(e):ov(()=>new Vo))}function Rl(t,e){return(0,di.m)(e)?(0,ir.z)(t,e,1):(0,ir.z)(t,1)}var pi=V(8505);function xa(t){return(0,fi.e)((e,n)=>{let c,r=null,i=!1;r=e.subscribe((0,Oe.x)(n,void 0,void 0,u=>{c=(0,uo.Xf)(t(u,xa(t)(e))),r?(r.unsubscribe(),r=null,c.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,c.subscribe(n))})}function l0(t,e,n,r,i){return(c,u)=>{let p=n,v=e,y=0;c.subscribe((0,Oe.x)(u,E=>{const C=y++;v=p?t(v,E,C):(p=!0,E),r&&u.next(v)},i&&(()=>{p&&u.next(v),u.complete()})))}}function Aa(t,e){return(0,fi.e)(l0(t,e,arguments.length>=2,!0))}function _d(t){return t<=0?()=>Yr.E:(0,fi.e)((e,n)=>{let r=[];e.subscribe((0,Oe.x)(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function bd(t,e){const n=arguments.length>=2;return r=>r.pipe(t?_s((i,c)=>t(i,c,r)):S.y,_d(1),n?Qh(e):ov(()=>new Vo))}function Ed(t){return(0,fi.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const $t="primary",ou=Symbol("RouteTitle");class av{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function kl(t){return new av(t)}function Yp(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let c=0;c<r.length;c++){const u=r[c],p=t[c];if(u.startsWith(":"))i[u.substring(1)]=p;else if(u!==p.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Fs(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let c=0;c<n.length;c++)if(i=n[c],!wd(t[i],e[i]))return!1;return!0}function wd(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,c)=>r[c]===i)}return t===e}function Qp(t){return Array.prototype.concat.apply([],t)}function Cd(t){return t.length>0?t[t.length-1]:null}function pr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Kn(t){return(0,l.CqO)(t)?t:(0,l.QGY)(t)?(0,yn.D)(Promise.resolve(t)):ft(t)}const Ma=!1,Jh={exact:function ef(t,e,n){if(!Pa(t.segments,e.segments)||!rf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!ef(t.children[r],e.children[r],n))return!1;return!0},subset:tf},Id={exact:function lu(t,e){return Fs(t,e)},subset:function Xp(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>wd(t[n],e[n]))},ignored:()=>!0};function kr(t,e,n){return Jh[n.paths](t.root,e.root,n.matrixParams)&&Id[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function tf(t,e,n){return nf(t,e,e.segments,n)}function nf(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Pa(i,n)||e.hasChildren()||!rf(i,n,r))}if(t.segments.length===n.length){if(!Pa(t.segments,n)||!rf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!tf(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),c=n.slice(t.segments.length);return!!(Pa(t.segments,i)&&rf(t.segments,i,r)&&t.children[$t])&&nf(t.children[$t],e,c,r)}}function rf(t,e,n){return e.every((r,i)=>Id[n](t[i].parameters,r.parameters))}class xi{constructor(e=new nn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kl(this.queryParams)),this._queryParamMap}toString(){return Ra.serialize(this)}}class nn{constructor(e,n){this.segments=e,this.children=n,this.parent=null,pr(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Td(this)}}class Nl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=kl(this.parameters)),this._parameterMap}toString(){return cf(this)}}function Pa(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Oa=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return new af},providedIn:"root"}),t})();class af{parse(e){const n=new df(e);return new xi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${uu(e.root,!0)}`,r=function lv(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Fl(n)}=${Fl(i)}`).join("&"):`${Fl(n)}=${Fl(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Jp(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Ra=new af;function Td(t){return t.segments.map(e=>cf(e)).join("/")}function uu(t,e){if(!t.hasChildren())return Td(t);if(e){const n=t.children[$t]?uu(t.children[$t],!1):"",r=[];return pr(t.children,(i,c)=>{c!==$t&&r.push(`${c}:${uu(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function cu(t,e){let n=[];return pr(t.children,(r,i)=>{i===$t&&(n=n.concat(e(r,i)))}),pr(t.children,(r,i)=>{i!==$t&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===$t?[uu(t.children[$t],!1)]:[`${i}:${uu(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[$t]?`${Td(t)}/${n[0]}`:`${Td(t)}/(${n.join("//")})`}}function Ll(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fl(t){return Ll(t).replace(/%3B/gi,";")}function Ho(t){return Ll(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $l(t){return decodeURIComponent(t)}function lf(t){return $l(t.replace(/\+/g,"%20"))}function cf(t){return`${Ho(t.path)}${function du(t){return Object.keys(t).map(e=>`;${Ho(e)}=${Ho(t[e])}`).join("")}(t.parameters)}`}const cv=/^[^\/()?;=#]+/;function Ul(t){const e=t.match(cv);return e?e[0]:""}const uf=/^[^=?&#]+/,dv=/^[^&#]+/;class df{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[$t]=new nn(e,n)),r}parseSegment(){const e=Ul(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,Ma);return this.capture(e),new Nl($l(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Ul(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Ul(this.remaining);i&&(r=i,this.capture(r))}e[$l(n)]=$l(r)}parseQueryParam(e){const n=function uv(t){const e=t.match(uf);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const u=function hu(t){const e=t.match(dv);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=lf(n),c=lf(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(c)}else e[i]=c}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ul(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,Ma);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=$t);const u=this.parseChildren();n[c]=1===Object.keys(u).length?u[$t]:new nn([],u),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,Ma)}}function Sd(t){return t.segments.length>0?new nn([],{[$t]:t}):t}function Vl(t){const e={};for(const r of Object.keys(t.children)){const c=Vl(t.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function eg(t){if(1===t.numberOfChildren&&t.children[$t]){const e=t.children[$t];return new nn(t.segments.concat(e.segments),e.children)}return t}(new nn(t.segments,e))}function ka(t){return t instanceof xi}function tg(t,e,n,r,i){if(0===n.length)return ho(e.root,e.root,e.root,r,i);const c=function Ad(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hf(!0,0,t);let e=0,n=!1;const r=t.reduce((i,c,u)=>{if("object"==typeof c&&null!=c){if(c.outlets){const p={};return pr(c.outlets,(v,y)=>{p[y]="string"==typeof v?v.split("/"):v}),[...i,{outlets:p}]}if(c.segmentPath)return[...i,c.segmentPath]}return"string"!=typeof c?[...i,c]:0===u?(c.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?n=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,c]},[]);return new hf(n,e,r)}(n);return c.toRoot()?ho(e.root,e.root,new nn([],{}),r,i):function u(v){const y=function ff(t,e,n,r){if(t.isAbsolute)return new fo(e.root,!0,0);if(-1===r)return new fo(n,n===e.root,0);return function pu(t,e,n){let r=t,i=e,c=n;for(;c>i;){if(c-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new fo(r,!1,i-c)}(n,r+(jl(t.commands[0])?0:1),t.numberOfDoubleDots)}(c,e,t.snapshot?._urlSegment,v),E=y.processChildren?gr(y.segmentGroup,y.index,c.commands):Md(y.segmentGroup,y.index,c.commands);return ho(e.root,y.segmentGroup,E,r,i)}(t.snapshot?._lastPathIndex)}function jl(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function xd(t){return"object"==typeof t&&null!=t&&t.outlets}function ho(t,e,n,r,i){let u,c={};r&&pr(r,(v,y)=>{c[y]=Array.isArray(v)?v.map(E=>`${E}`):`${v}`}),u=t===e?n:ng(t,e,n);const p=Sd(Vl(u));return new xi(p,c,i)}function ng(t,e,n){const r={};return pr(t.children,(i,c)=>{r[c]=i===e?n:ng(i,e,n)}),new nn(t.segments,r)}class hf{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&jl(r[0]))throw new l.vHH(4003,!1);const i=r.find(xd);if(i&&i!==Cd(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fo{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Md(t,e,n){if(t||(t=new nn([],{})),0===t.segments.length&&t.hasChildren())return gr(t,e,n);const r=function La(t,e,n){let r=0,i=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return c;const u=t.segments[i],p=n[r];if(xd(p))break;const v=`${p}`,y=r<n.length-1?n[r+1]:null;if(i>0&&void 0===v)break;if(v&&y&&"object"==typeof y&&void 0===y.outlets){if(!mu(v,y,u))return c;r+=2}else{if(!mu(v,{},u))return c;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const c=new nn(t.segments.slice(0,r.pathIndex),{});return c.children[$t]=new nn(t.segments.slice(r.pathIndex),t.children),gr(c,0,i)}return r.match&&0===i.length?new nn(t.segments,{}):r.match&&!t.hasChildren()?Zl(t,e,n):r.match?gr(t,0,i):Zl(t,e,n)}function gr(t,e,n){if(0===n.length)return new nn(t.segments,{});{const r=function Hl(t){return xd(t[0])?t[0].outlets:{[$t]:t}}(n),i={};return pr(r,(c,u)=>{"string"==typeof c&&(c=[c]),null!==c&&(i[u]=Md(t.children[u],e,c))}),pr(t.children,(c,u)=>{void 0===r[u]&&(i[u]=c)}),new nn(t.segments,i)}}function Zl(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const c=n[i];if(xd(c)){const v=gu(c.outlets);return new nn(r,v)}if(0===i&&jl(n[0])){r.push(new Nl(t.segments[e].path,Pd(n[0]))),i++;continue}const u=xd(c)?c.outlets[$t]:`${c}`,p=i<n.length-1?n[i+1]:null;u&&p&&jl(p)?(r.push(new Nl(u,Pd(p))),i+=2):(r.push(new Nl(u,{})),i++)}return new nn(r,{})}function gu(t){const e={};return pr(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Zl(new nn([],{}),0,n))}),e}function Pd(t){const e={};return pr(t,(n,r)=>e[r]=`${n}`),e}function mu(t,e,n){return t==n.path&&Fs(e,n.parameters)}const vu="imperative";class bs{constructor(e,n){this.id=e,this.url=n}}class pf extends bs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gi extends bs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zl extends bs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yu extends bs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Od extends bs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fa extends bs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rg extends bs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai extends bs{constructor(e,n,r,i,c){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ig extends bs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gf extends bs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mf{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class po{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gl{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _u{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rd{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sg{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bu{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let pv=(()=>{class t{createUrlTree(n,r,i,c,u,p){return tg(n||r.root,i,c,u,p)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:function(e){return pv.\u0275fac(e)},providedIn:"root"}),t})();class f{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=m(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=m(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=w(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return w(e,this._root).map(n=>n.value)}}function m(t,e){if(t===e.value)return e;for(const n of e.children){const r=m(t,n);if(r)return r}return null}function w(t,e){if(t===e.value)return[e];for(const n of e.children){const r=w(t,n);if(r.length)return r.unshift(e),r}return[]}class M{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function L(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class X extends f{constructor(e,n){super(e),this.snapshot=n,ql(this,e)}toString(){return this.snapshot.toString()}}function Ce(t,e){const n=function et(t,e){const u=new Zn([],{},{},"",{},$t,e,null,t.root,-1,{});return new ss("",new M(u,[]))}(t,e),r=new zi([new Nl("",{})]),i=new zi({}),c=new zi({}),u=new zi({}),p=new zi(""),v=new ct(r,i,u,p,c,$t,e,n.root);return v.snapshot=n.root,new X(new M(v,[]),n)}class ct{constructor(e,n,r,i,c,u,p,v){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=u,this.component=p,this.title=this.data?.pipe((0,D.U)(y=>y[ou]))??ft(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,D.U)(e=>kl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,D.U)(e=>kl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nt(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],c=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(c.component)break;r--}}return function At(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Zn{get title(){return this.data?.[ou]}constructor(e,n,r,i,c,u,p,v,y,E,C){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=u,this.component=p,this.routeConfig=v,this._urlSegment=y,this._lastPathIndex=E,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ss extends f{constructor(e,n){super(n),this.url=e,ql(this,n)}toString(){return vf(this._root)}}function ql(t,e){e.value._routerState=t,e.children.forEach(n=>ql(t,n))}function vf(t){const e=t.children.length>0?` { ${t.children.map(vf).join(", ")} } `:"";return`${t.value}${e}`}function $a(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Fs(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Fs(e.params,n.params)||t.params.next(n.params),function au(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Fs(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Fs(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function os(t,e){const n=Fs(t.params,e.params)&&function sf(t,e){return Pa(t,e)&&t.every((n,r)=>Fs(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||os(t.parent,e.parent))}function Zo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function yf(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Zo(t,r,i);return Zo(t,r)})}(t,e,n);return new M(r,i)}{if(t.shouldAttach(e.value)){const c=t.retrieve(e.value);if(null!==c){const u=c.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(p=>Zo(t,p)),u}}const r=function _f(t){return new ct(new zi(t.url),new zi(t.params),new zi(t.queryParams),new zi(t.fragment),new zi(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(c=>Zo(t,c));return new M(r,i)}}const kd="ngNavigationCancelingError";function ag(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ka(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gv(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function gv(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[kd]=!0,r.cancellationCode=e,n&&(r.url=n),r}function Kl(t){return Nd(t)&&ka(t.url)}function Nd(t){return t&&t[kd]}class B1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new lg,this.attachRef=null}}let lg=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new B1,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const bf=!1;let mv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(lg),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,bf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,bf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,bf);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new l.vHH(4013,bf);this._activatedRoute=n;const i=this.location,u=n.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,v=new bC(n,p,i.injector);if(r&&function EC(t){return!!t.resolveComponentFactory}(r)){const y=r.resolveComponentFactory(u);this.activated=i.createComponent(y,i.length,v)}else this.activated=i.createComponent(u,{index:i.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=l.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),t})();class bC{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ct?this.route:e===lg?this.childContexts:this.parent.get(e,n)}}let vv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(n,r){1&n&&l._UZ(0,"router-outlet")},dependencies:[mv],encapsulation:2}),t})();function yv(t,e){return t.providers&&!t._injector&&(t._injector=(0,l.MMx)(t.providers,e,`Route: ${t.path}`)),t._injector??e}function cg(t){const e=t.children&&t.children.map(cg),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==$t&&(n.component=vv),n}function $s(t){return t.outlet||$t}function h0(t,e){const n=t.filter(r=>$s(r)===e);return n.push(...t.filter(r=>$s(r)!==e)),n}function Ef(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class f0{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),$a(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=L(n);e.children.forEach(c=>{const u=c.value.outlet;this.deactivateRoutes(c,i[u],r),delete i[u]}),pr(i,(c,u)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,n,r){const i=e.value,c=n?n.value:null;if(i===c)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,n,u.children)}else this.deactivateChildRoutes(e,n,r);else c&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,c=L(e);for(const u of Object.keys(c))this.deactivateRouteAndItsChildren(c[u],i);if(r&&r.outlet){const u=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:p})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,c=L(e);for(const u of Object.keys(c))this.deactivateRouteAndItsChildren(c[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=L(n);e.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],r),this.forwardEvent(new sg(c.value.snapshot))}),e.children.length&&this.forwardEvent(new _u(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,c=n?n.value:null;if($a(i),i===c)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,u.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(p.contexts),u.attachRef=p.componentRef,u.route=p.route.value,u.outlet&&u.outlet.attach(p.componentRef,p.route.value),$a(p.route.value),this.activateChildRoutes(e,null,u.children)}else{const p=Ef(i.snapshot),v=p?.get(l._Vd)??null;u.attachRef=null,u.route=i,u.resolver=v,u.injector=p,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class TC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ev{constructor(e,n){this.component=e,this.route=n}}function wf(t,e,n){const r=t._root;return Ld(r,e?e._root:null,n,[r.value])}function Eu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||(0,l.Z0I)(t)?e.get(t):t:r}function Ld(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=L(e);return t.children.forEach(u=>{(function p0(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=t.value,u=e?e.value:null,p=n?n.getContext(t.value.outlet):null;if(u&&c.routeConfig===u.routeConfig){const v=function Z1(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Pa(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pa(t.url,e.url)||!Fs(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!os(t,e)||!Fs(t.queryParams,e.queryParams);default:return!os(t,e)}}(u,c,c.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new TC(r)):(c.data=u.data,c._resolvedData=u._resolvedData),Ld(t,e,c.component?p?p.children:null:n,r,i),v&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Ev(p.outlet.component,u))}else u&&Cf(e,p,i),i.canActivateChecks.push(new TC(r)),Ld(t,null,c.component?p?p.children:null:n,r,i)})(u,c[u.value.outlet],n,r.concat([u.value]),i),delete c[u.value.outlet]}),pr(c,(u,p)=>Cf(u,n.getContext(p),i)),i}function Cf(t,e,n){const r=L(t),i=t.value;pr(r,(c,u)=>{Cf(c,i.component?e?e.children.getContext(u):null:e,n)}),n.canDeactivateChecks.push(new Ev(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Fd(t){return"function"==typeof t}function Ua(t){return t instanceof Vo||"EmptyError"===t?.name}const ug=Symbol("INITIAL_VALUE");function Yl(){return fr(t=>Et(t.map(e=>e.pipe(yd(1),su(ug)))).pipe((0,D.U)(e=>{for(const n of e)if(!0!==n){if(n===ug)return ug;if(!1===n||n instanceof xi)return n}return!0}),_s(e=>e!==ug),yd(1)))}function xv(t){return(0,Bo.z)((0,pi.b)(e=>{if(ka(e))throw ag(0,e)}),(0,D.U)(e=>!0===e))}const Av={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y0(t,e,n,r,i){const c=Mv(t,e,n);return c.matched?function $d(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ft(i.map(u=>{const p=Eu(u,t);return Kn(function Tv(t){return t&&Fd(t.canMatch)}(p)?p.canMatch(e,n):t.runInContext(()=>p(e,n)))})).pipe(Yl(),xv()):ft(!0)}(r=yv(e,r),e,n).pipe((0,D.U)(u=>!0===u?c:{...Av})):ft(c)}function Mv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Av}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Yp)(n,t,e);if(!i)return{...Av};const c={};pr(i.posParams,(p,v)=>{c[v]=p.path});const u=i.consumed.length>0?{...c,...i.consumed[i.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Ud(t,e,n,r){if(n.length>0&&function OC(t,e,n){return n.some(r=>Pv(t,e,r)&&$s(r)!==$t)}(t,n,r)){const c=new nn(e,function _0(t,e,n,r){const i={};i[$t]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const c of n)if(""===c.path&&$s(c)!==$t){const u=new nn([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[$s(c)]=u}return i}(t,e,r,new nn(n,t.children)));return c._sourceSegment=t,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===n.length&&function b0(t,e,n){return n.some(r=>Pv(t,e,r))}(t,n,r)){const c=new nn(t.segments,function PC(t,e,n,r,i){const c={};for(const u of r)if(Pv(t,n,u)&&!i[$s(u)]){const p=new nn([],{});p._sourceSegment=t,p._segmentIndexShift=e.length,c[$s(u)]=p}return{...i,...c}}(t,e,n,r,t.children));return c._sourceSegment=t,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:n}}const i=new nn(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Pv(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function E0(t,e,n,r){return!!($s(t)===r||r!==$t&&Pv(e,n,t))&&("**"===t.path||Mv(e,t,n).matched)}function Vd(t,e,n){return 0===e.length&&!t.children[n]}const fg=!1;class Va{constructor(e){this.segmentGroup=e||null}}class Bd{constructor(e){this.urlTree=e}}function If(t){return hi(new Va(t))}function Ov(t){return hi(new Bd(t))}class w0{constructor(e,n,r,i,c){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=c,this.allowRedirects=!0}apply(){const e=Ud(this.urlTree.root,[],[],this.config).segmentGroup,n=new nn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,$t).pipe((0,D.U)(c=>this.createUrlTree(Vl(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xa(c=>{if(c instanceof Bd)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Va?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,$t).pipe((0,D.U)(i=>this.createUrlTree(Vl(i),e.queryParams,e.fragment))).pipe(xa(i=>{throw i instanceof Va?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,fg)}createUrlTree(e,n,r){const i=Sd(e);return new xi(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe((0,D.U)(c=>new nn([],c))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const c of Object.keys(r.children))"primary"===c?i.unshift(c):i.push(c);return(0,yn.D)(i).pipe(Rl(c=>{const u=r.children[c],p=h0(n,c);return this.expandSegmentGroup(e,p,u,c).pipe((0,D.U)(v=>({segment:v,outlet:c})))}),Aa((c,u)=>(c[u.outlet]=u.segment,c),{}),bd())}expandSegment(e,n,r,i,c,u){return(0,yn.D)(r).pipe(Rl(p=>this.expandSegmentAgainstRoute(e,n,r,p,i,c,u).pipe(xa(y=>{if(y instanceof Va)return ft(null);throw y}))),jo(p=>!!p),xa((p,v)=>{if(Ua(p))return Vd(n,i,c)?ft(new nn([],{})):If(n);throw p}))}expandSegmentAgainstRoute(e,n,r,i,c,u,p){return E0(i,n,c,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,c,u):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,c,u):If(n):If(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,c,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,c,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ov(c):this.lineralizeSegments(r,c).pipe((0,ir.z)(u=>{const p=new nn(u,{});return this.expandSegment(e,p,n,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,c,u){const{matched:p,consumedSegments:v,remainingSegments:y,positionalParamSegments:E}=Mv(n,i,c);if(!p)return If(n);const C=this.applyRedirectCommands(v,i.redirectTo,E);return i.redirectTo.startsWith("/")?Ov(C):this.lineralizeSegments(i,C).pipe((0,ir.z)(x=>this.expandSegment(e,n,r,x.concat(y),u,!1)))}matchSegmentAgainstRoute(e,n,r,i,c){return"**"===r.path?(e=yv(r,e),r.loadChildren?(r._loadedRoutes?ft({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,D.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new nn(i,{})))):ft(new nn(i,{}))):y0(n,r,i,e).pipe(fr(({matched:u,consumedSegments:p,remainingSegments:v})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,ir.z)(E=>{const C=E.injector??e,x=E.routes,{segmentGroup:P,slicedSegments:N}=Ud(n,p,v,x),O=new nn(P.segments,P.children);if(0===N.length&&O.hasChildren())return this.expandChildren(C,x,O).pipe((0,D.U)(G=>new nn(p,G)));if(0===x.length&&0===N.length)return ft(new nn(p,{}));const F=$s(r)===c;return this.expandSegment(C,O,x,N,F?$t:c,!0).pipe((0,D.U)(Z=>new nn(p.concat(Z.segments),Z.children)))})):If(n)))}getChildConfig(e,n,r){return n.children?ft({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ft({routes:n._loadedRoutes,injector:n._loadedInjector}):function MC(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ft(!0):ft(i.map(u=>{const p=Eu(u,t);return Kn(function Cv(t){return t&&Fd(t.canLoad)}(p)?p.canLoad(e,n):t.runInContext(()=>p(e,n)))})).pipe(Yl(),xv())}(e,n,r).pipe((0,ir.z)(i=>i?this.configLoader.loadChildren(e,n).pipe((0,pi.b)(c=>{n._loadedRoutes=c.routes,n._loadedInjector=c.injector})):function kC(t){return hi(gv(fg,3))}())):ft({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ft(r);if(i.numberOfChildren>1||!i.children[$t])return hi(new l.vHH(4e3,fg));i=i.children[$t]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const c=this.createSegmentGroup(e,n.root,r,i);return new xi(c,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return pr(e,(i,c)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[c]=n[p]}else r[c]=i}),r}createSegmentGroup(e,n,r,i){const c=this.createSegments(e,n.segments,r,i);let u={};return pr(n.children,(p,v)=>{u[v]=this.createSegmentGroup(e,p,r,i)}),new nn(c,u)}createSegments(e,n,r,i){return n.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,i):this.findOrReturn(c,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new l.vHH(4001,fg);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class Rv{}class Tf{constructor(e,n,r,i,c,u,p){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=c,this.paramsInheritanceStrategy=u,this.urlSerializer=p}recognize(){const e=Ud(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,$t).pipe((0,D.U)(n=>{if(null===n)return null;const r=new Zn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new M(r,n),c=new ss(this.url,i);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(e){const n=e.value,r=Nt(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return(0,yn.D)(Object.keys(r.children)).pipe(Rl(i=>{const c=r.children[i],u=h0(n,i);return this.processSegmentGroup(e,u,c,i)}),Aa((i,c)=>i&&c?(i.push(...c),i):null),function Wp(t,e=!1){return(0,fi.e)((n,r)=>{let i=0;n.subscribe((0,Oe.x)(r,c=>{const u=t(c,i++);(u||e)&&r.next(c),!u&&r.complete()}))})}(i=>null!==i),Qh(null),bd(),(0,D.U)(i=>{if(null===i)return null;const c=I0(i);return function FC(t){t.sort((e,n)=>e.value.outlet===$t?-1:n.value.outlet===$t?1:e.value.outlet.localeCompare(n.value.outlet))}(c),c}))}processSegment(e,n,r,i,c){return(0,yn.D)(n).pipe(Rl(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,c)),jo(u=>!!u),xa(u=>{if(Ua(u))return Vd(r,i,c)?ft([]):ft(null);throw u}))}processSegmentAgainstRoute(e,n,r,i,c){if(n.redirectTo||!E0(n,r,i,c))return ft(null);let u;if("**"===n.path){const p=i.length>0?Cd(i).parameters:{},v=S0(r)+i.length;u=ft({snapshot:new Zn(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zo(n),$s(n),n.component??n._loadedComponent??null,n,T0(r),v,D0(n)),consumedSegments:[],remainingSegments:[]})}else u=y0(r,n,i,e).pipe((0,D.U)(({matched:p,consumedSegments:v,remainingSegments:y,parameters:E})=>{if(!p)return null;const C=S0(r)+v.length;return{snapshot:new Zn(v,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zo(n),$s(n),n.component??n._loadedComponent??null,n,T0(r),C,D0(n)),consumedSegments:v,remainingSegments:y}}));return u.pipe(fr(p=>{if(null===p)return ft(null);const{snapshot:v,consumedSegments:y,remainingSegments:E}=p;e=n._injector??e;const C=n._loadedInjector??e,x=function $C(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:P,slicedSegments:N}=Ud(r,y,E,x.filter(F=>void 0===F.redirectTo));if(0===N.length&&P.hasChildren())return this.processChildren(C,x,P).pipe((0,D.U)(F=>null===F?null:[new M(v,F)]));if(0===x.length&&0===N.length)return ft([new M(v,[])]);const O=$s(n)===c;return this.processSegment(C,x,P,N,O?$t:c).pipe((0,D.U)(F=>null===F?null:[new M(v,F)]))}))}}function UC(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function I0(t){const e=[],n=new Set;for(const r of t){if(!UC(r)){e.push(r);continue}const i=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=I0(r.children);e.push(new M(r.value,i))}return e.filter(r=>!n.has(r))}function T0(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function S0(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function zo(t){return t.data||{}}function D0(t){return t.resolve||{}}function Nv(t){return"string"==typeof t.title||null===t.title}function Lv(t){return fr(e=>{const n=t(e);return n?(0,yn.D)(n).pipe((0,D.U)(()=>e)):ft(e)})}const jd=new l.OlP("ROUTES");let Es=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ft(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Kn(n.loadComponent()).pipe((0,D.U)(Fv),(0,pi.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=c}),Ed(()=>{this.componentLoaders.delete(n)})),i=new Yh(r,()=>new is.x).pipe(vd());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ft({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,D.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,y,E=!1;Array.isArray(p)?y=p:(v=p.create(n).injector,y=Qp(v.get(jd,[],l.XFs.Self|l.XFs.Optional)));return{routes:y.map(cg),injector:v}}),Ed(()=>{this.childrenLoaders.delete(r)})),u=new Yh(c,()=>new is.x).pipe(vd());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(n){return Kn(n()).pipe((0,D.U)(Fv),(0,ir.z)(i=>i instanceof l.YKP||Array.isArray(i)?ft(i):(0,yn.D)(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(l.zs3),l.LFG(l.Sil))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Fv(t){return function jC(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let mg=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new is.x,this.configLoader=(0,l.f3M)(Es),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Oa),this.rootContexts=(0,l.f3M)(lg),this.navigationId=0,this.afterPreactivation=()=>ft(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new po(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new mf(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new zi({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vu,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_s(r=>0!==r.id),(0,D.U)(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),fr(r=>{let i=!1,c=!1;return ft(r).pipe((0,pi.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fr(u=>{const p=n.browserUrlTree.toString(),v=!n.navigated||u.extractedUrl.toString()!==p||p!==n.currentUrlTree.toString();if(!v&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const E="";return this.events.next(new yu(u.id,n.serializeUrl(r.rawUrl),E,0)),n.rawUrlTree=u.rawUrl,u.resolve(null),Yr.E}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return O0(u.source)&&(n.browserUrlTree=u.extractedUrl),ft(u).pipe(fr(E=>{const C=this.transitions?.getValue();return this.events.next(new pf(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),C!==this.transitions?.getValue()?Yr.E:Promise.resolve(E)}),function C0(t,e,n,r){return fr(i=>function NC(t,e,n,r,i){return new w0(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe((0,D.U)(c=>({...i,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),(0,pi.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},r.urlAfterRedirects=E.urlAfterRedirects}),function BC(t,e,n,r,i){return(0,ir.z)(c=>function kv(t,e,n,r,i,c,u="emptyOnly"){return new Tf(t,e,n,r,i,u,c).recognize().pipe(fr(p=>null===p?function LC(t){return new wr.y(e=>e.error(t))}(new Rv):ft(p)))}(t,e,n,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i).pipe((0,D.U)(u=>({...c,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),(0,pi.b)(E=>{if(r.targetSnapshot=E.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!E.extras.skipLocationChange){const x=n.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);n.setBrowserUrl(x,E)}n.browserUrlTree=E.urlAfterRedirects}const C=new Fa(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(C)}));if(v&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:E,extractedUrl:C,source:x,restoredState:P,extras:N}=u,O=new pf(E,this.urlSerializer.serialize(C),x,P);this.events.next(O);const F=Ce(C,this.rootComponentType).snapshot;return ft(r={...u,targetSnapshot:F,urlAfterRedirects:C,extras:{...N,skipLocationChange:!1,replaceUrl:!1}})}{const E="";return this.events.next(new yu(u.id,n.serializeUrl(r.extractedUrl),E,1)),n.rawUrlTree=u.rawUrl,u.resolve(null),Yr.E}}),(0,pi.b)(u=>{const p=new rg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),(0,D.U)(u=>r={...u,guards:wf(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function dg(t,e){return(0,ir.z)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:u}}=n;return 0===u.length&&0===c.length?ft({...n,guardsResult:!0}):function xC(t,e,n,r){return(0,yn.D)(t).pipe((0,ir.z)(i=>function AC(t,e,n,r,i){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?ft(c.map(p=>{const v=Ef(e)??i,y=Eu(p,v);return Kn(function SC(t){return t&&Fd(t.canDeactivate)}(y)?y.canDeactivate(t,e,n,r):v.runInContext(()=>y(t,e,n,r))).pipe(jo())})).pipe(Yl()):ft(!0)}(i.component,i.route,n,e,r)),jo(i=>!0!==i,!0))}(u,r,i,t).pipe((0,ir.z)(p=>p&&function g0(t){return"boolean"==typeof t}(p)?function Sv(t,e,n,r){return(0,yn.D)(e).pipe(Rl(i=>Hn(function wu(t,e){return null!==t&&e&&e(new Gl(t)),ft(!0)}(i.route.parent,r),function hg(t,e){return null!==t&&e&&e(new Rd(t)),ft(!0)}(i.route,r),function Dv(t,e,n){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(u=>function wv(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Ol(()=>ft(u.guards.map(v=>{const y=Ef(u.node)??n,E=Eu(v,y);return Kn(function Iv(t){return t&&Fd(t.canActivateChild)}(E)?E.canActivateChild(r,t):y.runInContext(()=>E(r,t))).pipe(jo())})).pipe(Yl())));return ft(c).pipe(Yl())}(t,i.path,n),function v0(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ft(!0);const i=r.map(c=>Ol(()=>{const u=Ef(e)??n,p=Eu(c,u);return Kn(function z1(t){return t&&Fd(t.canActivate)}(p)?p.canActivate(e,t):u.runInContext(()=>p(e,t))).pipe(jo())}));return ft(i).pipe(Yl())}(t,i.route,n))),jo(i=>!0!==i,!0))}(r,c,t,e):ft(p)),(0,D.U)(p=>({...n,guardsResult:p})))})}(this.environmentInjector,u=>this.events.next(u)),(0,pi.b)(u=>{if(r.guardsResult=u.guardsResult,ka(u.guardsResult))throw ag(0,u.guardsResult);const p=new Ai(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(p)}),_s(u=>!!u.guardsResult||(n.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Lv(u=>{if(u.guards.canActivateChecks.length)return ft(u).pipe((0,pi.b)(p=>{const v=new ig(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}),fr(p=>{let v=!1;return ft(p).pipe(function G1(t,e){return(0,ir.z)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ft(n);let c=0;return(0,yn.D)(i).pipe(Rl(u=>function q1(t,e,n,r){const i=t.routeConfig,c=t._resolve;return void 0!==i?.title&&!Nv(i)&&(c[ou]=i.title),function x0(t,e,n,r){const i=function W1(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ft({});const c={};return(0,yn.D)(i).pipe((0,ir.z)(u=>function A0(t,e,n,r){const i=Ef(e)??r,c=Eu(t,i);return Kn(c.resolve?c.resolve(e,n):i.runInContext(()=>c(e,n)))}(t[u],e,n,r).pipe(jo(),(0,pi.b)(p=>{c[u]=p}))),_d(1),function Kp(t){return(0,D.U)(()=>t)}(c),xa(u=>Ua(u)?Yr.E:hi(u)))}(c,t,e,r).pipe((0,D.U)(u=>(t._resolvedData=u,t.data=Nt(t,n).resolve,i&&Nv(i)&&(t.data[ou]=i.title),null)))}(u.route,r,t,e)),(0,pi.b)(()=>c++),_d(1),(0,ir.z)(u=>c===i.length?ft(n):Yr.E))})}(n.paramsInheritanceStrategy,this.environmentInjector),(0,pi.b)({next:()=>v=!0,complete:()=>{v||(n.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,pi.b)(p=>{const v=new gf(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}))}),Lv(u=>{const p=v=>{const y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,pi.b)(E=>{v.component=E}),(0,D.U)(()=>{})));for(const E of v.children)y.push(...p(E));return y};return Et(p(u.targetSnapshot.root)).pipe(Qh(),yd(1))}),Lv(()=>this.afterPreactivation()),(0,D.U)(u=>{const p=function Wl(t,e,n){const r=Zo(t,e._root,n?n._root:void 0);return new X(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:p}}),(0,pi.b)(u=>{n.currentUrlTree=u.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),n.routerState=u.targetRouterState,"deferred"===n.urlUpdateStrategy&&(u.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,u),n.browserUrlTree=u.urlAfterRedirects)}),((t,e,n)=>(0,D.U)(r=>(new f0(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u)),(0,pi.b)({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new gi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),Ed(()=>{i||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),xa(u=>{if(c=!0,Nd(u)){Kl(u)||(n.navigated=!0,n.restoreHistory(r,!0));const p=new zl(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(p),Kl(u)){const v=n.urlHandlingStrategy.merge(u.url,n.rawUrlTree),y={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||O0(r.source)};n.scheduleNavigation(v,vu,null,y,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const p=new Od(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(n.errorHandler(u))}catch(v){r.reject(v)}}return Yr.E}))}))}cancelNavigationTransition(n,r,i){const c=new zl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(c),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function O0(t){return t!==vu}let R0=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(c=>c.outlet===$t);return r}getResolvedTitleForRoute(n){return n.data[ou]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(k0)},providedIn:"root"}),t})(),k0=(()=>{class t extends R0{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG($o))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),HC=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(zC)},providedIn:"root"}),t})();class ZC{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let zC=(()=>{class t extends ZC{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(t)))(r||t)}}(),t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Df=new l.OlP("",{providedIn:"root",factory:()=>({})});let N0=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(L0)},providedIn:"root"}),t})(),L0=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function GC(t){throw t}function $0(t,e,n){return e.parse("/")}const qC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ws=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Df,{optional:!0})||{},this.errorHandler=this.options.errorHandler||GC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$0,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(N0),this.routeReuseStrategy=(0,l.f3M)(HC),this.urlCreationStrategy=(0,l.f3M)(_),this.titleStrategy=(0,l.f3M)(R0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Qp((0,l.f3M)(jd,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(mg),this.urlSerializer=(0,l.f3M)(Oa),this.location=(0,l.f3M)(qe),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ce(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vu,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const c={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const v={...i};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(c.state=v)}const p=this.parseUrl(n);this.scheduleNavigation(p,r,u,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(cg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:c,fragment:u,queryParamsHandling:p,preserveFragment:v}=r,y=v?this.currentUrlTree.fragment:u;let E=null;switch(p){case"merge":E={...this.currentUrlTree.queryParams,...c};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=c||null}return null!==E&&(E=this.removeEmptyProps(E)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,E,y??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ka(n)?n:this.parseUrl(n),c=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(c,vu,null,r)}navigate(n,r={skipLocationChange:!1}){return function WC(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new l.vHH(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...qC}:!1===r?{...U0}:r,ka(n))return kr(this.currentUrlTree,n,i);const c=this.parseUrl(n);return kr(this.currentUrlTree,c,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const c=n[i];return null!=c&&(r[i]=c),r},{})}scheduleNavigation(n,r,i,c,u){if(this.disposed)return Promise.resolve(!1);let p,v,y,E;return u?(p=u.resolve,v=u.reject,y=u.promise):y=new Promise((C,x)=>{p=C,v=x}),E="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:E,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:c,resolve:p,reject:v,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(C=>Promise.reject(C))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),c={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",c):this.location.go(i,"",c)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xf=(()=>{class t{constructor(n,r,i,c,u,p){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=c,this.el=u,this.locationStrategy=p,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new is.x;const v=u.nativeElement.tagName;this.isAnchorElement="A"===v||"AREA"===v,this.isAnchorElement?this.subscription=n.events.subscribe(y=>{y instanceof gi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=(0,l.D6c)(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=(0,l.D6c)(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=(0,l.D6c)(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,c,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||c||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,c=this.el.nativeElement;null!==r?i.setAttribute(c,n,r):i.removeAttribute(c,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(ws),l.Y36(ct),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(bt))},t.\u0275dir=l.lG2({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&l.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&n&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),t})(),$v=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,c,u){this.router=n,this.element=r,this.renderer=i,this.cdr=c,this.link=u,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=n.events.subscribe(p=>{p instanceof gi&&this.update()})}ngAfterContentInit(){ft(this.links.changes,ft(null)).pipe((0,Rt.J)()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,yn.D)(n).pipe((0,Rt.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function V0(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(ws),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(xf,8))},t.\u0275dir=l.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&l.Suo(i,xf,5),2&n){let c;l.iGM(c=l.CRH())&&(r.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),t})();class Ql{}let Uv=(()=>{class t{constructor(n,r,i,c,u){this.router=n,this.injector=i,this.preloadingStrategy=c,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(_s(n=>n instanceof gi),Rl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,l.MMx)(c.providers,n,`Route: ${c.path}`));const u=c._injector??n,p=c._loadedInjector??u;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?i.push(this.preloadConfig(u,c)):(c.children||c._loadedRoutes)&&i.push(this.processRoutes(p,c.children??c._loadedRoutes))}return(0,yn.D)(i).pipe((0,Rt.J)())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ft(null);const c=i.pipe((0,ir.z)(u=>null===u?ft(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??n,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,yn.D)([c,u]).pipe((0,Rt.J)())}return c})}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(ws),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ql),l.LFG(Es))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Vv=new l.OlP("");let KC=(()=>{class t{constructor(n,r,i,c,u={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=c,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof pf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof gi&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof bu&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bu(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){l.$Z()},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();function Xl(t,e){return{\u0275kind:t,\u0275providers:e}}function Bv(){const t=(0,l.f3M)(l.zs3);return e=>{const n=t.get(l.z2F);if(e!==n.components[0])return;const r=t.get(ws),i=t.get(Pf);1===t.get(jv)&&r.initialNavigation(),t.get(z0,null,l.XFs.Optional)?.setUpPreloading(),t.get(Vv,null,l.XFs.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Pf=new l.OlP("",{factory:()=>new is.x}),jv=new l.OlP("",{providedIn:"root",factory:()=>1});const z0=new l.OlP("");function JC(t){return Xl(0,[{provide:z0,useExisting:Uv},{provide:Ql,useExisting:t}])}const Hv=new l.OlP("ROUTER_FORROOT_GUARD"),Zv=[qe,{provide:Oa,useClass:af},ws,lg,{provide:ct,useFactory:function j0(t){return t.routerState.root},deps:[ws]},Es,[]];function X1(){return new l.PXZ("Router",ws)}let vg=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Zv,[],{provide:jd,multi:!0,useValue:n},{provide:Hv,useFactory:G0,deps:[[ws,new l.FiY,new l.tp0]]},{provide:Df,useValue:r||{}},r?.useHash?{provide:bt,useClass:Fe}:{provide:bt,useClass:Ue},{provide:Vv,useFactory:()=>{const t=(0,l.f3M)(Io),e=(0,l.f3M)(l.R0b),n=(0,l.f3M)(Df),r=(0,l.f3M)(mg),i=(0,l.f3M)(Oa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new KC(i,r,t,e,n)}},r?.preloadingStrategy?JC(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:X1},r?.initialNavigation?rI(r):[],[{provide:zv,useFactory:Bv},{provide:l.tb,multi:!0,useExisting:zv}]]}}static forChild(n){return{ngModule:t,providers:[{provide:jd,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Hv,8))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[vv]}),t})();function G0(t){return"guarded"}function rI(t){return["disabled"===t.initialNavigation?Xl(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(ws);return()=>{e.setUpLocationChangeListener()}}},{provide:jv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Xl(2,[{provide:jv,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const n=e.get(be,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const c=e.get(ws),u=e.get(Pf);(function r(i){e.get(ws).events.pipe(_s(u=>u instanceof gi||u instanceof zl||u instanceof Od),(0,D.U)(u=>u instanceof gi||u instanceof zl&&(0===u.code||1===u.code)&&null),_s(u=>null!==u),yd(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(mg).afterPreactivation=()=>(i(!0),u.closed?ft(void 0):u),c.initialNavigation()}))}}]).\u0275providers:[]]}const zv=new l.OlP("");function Rf(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function Jl(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:Rf(e[n])&&Rf(t[n])&&Object.keys(e[n]).length>0&&Jl(t[n],e[n])})}const yg={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function mr(){const t=typeof document<"u"?document:{};return Jl(t,yg),t}const Gv={document:yg,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:t=>typeof setTimeout>"u"?(t(),null):setTimeout(t,0),cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function vr(){const t=typeof window<"u"?window:{};return Jl(t,Gv),t}class Go extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function q0(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get:()=>e,set(n){e.__proto__=n}})}(this))}}function Cu(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...Cu(n)):e.push(n)}),e}function _g(t,e){return Array.prototype.filter.call(t,e)}function Jt(t,e){const n=vr(),r=mr();let i=[];if(!e&&t instanceof Go)return t;if(!t)return new Go(i);if("string"==typeof t){const c=t.trim();if(c.indexOf("<")>=0&&c.indexOf(">")>=0){let u="div";0===c.indexOf("<li")&&(u="ul"),0===c.indexOf("<tr")&&(u="tbody"),(0===c.indexOf("<td")||0===c.indexOf("<th"))&&(u="tr"),0===c.indexOf("<tbody")&&(u="table"),0===c.indexOf("<option")&&(u="select");const p=r.createElement(u);p.innerHTML=c;for(let v=0;v<p.childNodes.length;v+=1)i.push(p.childNodes[v])}else i=function sI(t,e){if("string"!=typeof t)return[t];const n=[],r=e.querySelectorAll(t);for(let i=0;i<r.length;i+=1)n.push(r[i]);return n}(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)i.push(t);else if(Array.isArray(t)){if(t instanceof Go)return t;i=t}return new Go(function W0(t){const e=[];for(let n=0;n<t.length;n+=1)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(i))}Jt.fn=Go.prototype;const TI="resize scroll".split(" ");function or(t){return function e(...n){if(typeof n[0]>"u"){for(let r=0;r<this.length;r+=1)TI.indexOf(t)<0&&(t in this[r]?this[r][t]():Jt(this[r]).trigger(t));return this}return this.on(t,...n)}}or("click"),or("blur"),or("focus"),or("focusin"),or("focusout"),or("keyup"),or("keydown"),or("keypress"),or("submit"),or("change"),or("mousedown"),or("mousemove"),or("mouseup"),or("mouseenter"),or("mouseleave"),or("mouseout"),or("mouseover"),or("touchstart"),or("touchend"),or("touchmove"),or("resize"),or("scroll");const cb={addClass:function K0(...t){const e=Cu(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this},removeClass:function oI(...t){const e=Cu(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this},hasClass:function Q0(...t){const e=Cu(t.map(n=>n.split(" ")));return _g(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0},toggleClass:function Y0(...t){const e=Cu(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})},attr:function aI(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this},removeAttr:function lI(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},transform:function dI(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this},transition:function hI(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof t?`${t}ms`:t;return this},on:function fI(...t){let[e,n,r,i]=t;function c(y){const E=y.target;if(!E)return;const C=y.target.dom7EventData||[];if(C.indexOf(y)<0&&C.unshift(y),Jt(E).is(n))r.apply(E,C);else{const x=Jt(E).parents();for(let P=0;P<x.length;P+=1)Jt(x[P]).is(n)&&r.apply(x[P],C)}}function u(y){const E=y&&y.target&&y.target.dom7EventData||[];E.indexOf(y)<0&&E.unshift(y),r.apply(this,E)}"function"==typeof t[1]&&([e,r,i]=t,n=void 0),i||(i=!1);const p=e.split(" ");let v;for(let y=0;y<this.length;y+=1){const E=this[y];if(n)for(v=0;v<p.length;v+=1){const C=p[v];E.dom7LiveListeners||(E.dom7LiveListeners={}),E.dom7LiveListeners[C]||(E.dom7LiveListeners[C]=[]),E.dom7LiveListeners[C].push({listener:r,proxyListener:c}),E.addEventListener(C,c,i)}else for(v=0;v<p.length;v+=1){const C=p[v];E.dom7Listeners||(E.dom7Listeners={}),E.dom7Listeners[C]||(E.dom7Listeners[C]=[]),E.dom7Listeners[C].push({listener:r,proxyListener:u}),E.addEventListener(C,u,i)}}return this},off:function J0(...t){let[e,n,r,i]=t;"function"==typeof t[1]&&([e,r,i]=t,n=void 0),i||(i=!1);const c=e.split(" ");for(let u=0;u<c.length;u+=1){const p=c[u];for(let v=0;v<this.length;v+=1){const y=this[v];let E;if(!n&&y.dom7Listeners?E=y.dom7Listeners[p]:n&&y.dom7LiveListeners&&(E=y.dom7LiveListeners[p]),E&&E.length)for(let C=E.length-1;C>=0;C-=1){const x=E[C];r&&x.listener===r||r&&x.listener&&x.listener.dom7proxy&&x.listener.dom7proxy===r?(y.removeEventListener(p,x.proxyListener,i),E.splice(C,1)):r||(y.removeEventListener(p,x.proxyListener,i),E.splice(C,1))}}}return this},trigger:function pI(...t){const e=vr(),n=t[0].split(" "),r=t[1];for(let i=0;i<n.length;i+=1){const c=n[i];for(let u=0;u<this.length;u+=1){const p=this[u];if(e.CustomEvent){const v=new e.CustomEvent(c,{detail:r,bubbles:!0,cancelable:!0});p.dom7EventData=t.filter((y,E)=>E>0),p.dispatchEvent(v),p.dom7EventData=[],delete p.dom7EventData}}}return this},transitionEnd:function Wv(t){const e=this;return t&&e.on("transitionend",function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}),this},outerWidth:function gI(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function mI(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function vI(){const t=vr();return this[0]?t.getComputedStyle(this[0],null):{}},offset:function qo(){if(this.length>0){const t=vr(),e=mr(),n=this[0],r=n.getBoundingClientRect(),i=e.body;return{top:r.top+(n===t?t.scrollY:n.scrollTop)-(n.clientTop||i.clientTop||0),left:r.left+(n===t?t.scrollX:n.scrollLeft)-(n.clientLeft||i.clientLeft||0)}}return null},css:function tb(t,e){const n=vr();let r;if(1===arguments.length){if("string"!=typeof t){for(r=0;r<this.length;r+=1)for(const i in t)this[r].style[i]=t[i];return this}if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this},each:function yI(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this},html:function bI(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function Kv(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function EI(t){const e=vr(),n=mr(),r=this[0];let i,c;if(!r||typeof t>"u")return!1;if("string"==typeof t){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(i=Jt(t),c=0;c<i.length;c+=1)if(i[c]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof Go){for(i=t.nodeType?[t]:t,c=0;c<i.length;c+=1)if(i[c]===r)return!0;return!1}return!1},index:function wI(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function bg(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return Jt([]);if(t<0){const n=e+t;return Jt(n<0?[]:[this[n]])}return Jt([this[t]])},append:function Yv(...t){let e;const n=mr();for(let r=0;r<t.length;r+=1){e=t[r];for(let i=0;i<this.length;i+=1)if("string"==typeof e){const c=n.createElement("div");for(c.innerHTML=e;c.firstChild;)this[i].appendChild(c.firstChild)}else if(e instanceof Go)for(let c=0;c<e.length;c+=1)this[i].appendChild(e[c]);else this[i].appendChild(e)}return this},prepend:function ax(t){const e=mr();let n,r;for(n=0;n<this.length;n+=1)if("string"==typeof t){const i=e.createElement("div");for(i.innerHTML=t,r=i.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(t instanceof Go)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this},next:function rb(t){return this.length>0?t?this[0].nextElementSibling&&Jt(this[0].nextElementSibling).is(t)?Jt([this[0].nextElementSibling]):Jt([]):Jt(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):Jt([])},nextAll:function ib(t){const e=[];let n=this[0];if(!n)return Jt([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?Jt(r).is(t)&&e.push(r):e.push(r),n=r}return Jt(e)},prev:function sb(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&Jt(e.previousElementSibling).is(t)?Jt([e.previousElementSibling]):Jt([]):Jt(e.previousElementSibling?[e.previousElementSibling]:[])}return Jt([])},prevAll:function Xv(t){const e=[];let n=this[0];if(!n)return Jt([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?Jt(r).is(t)&&e.push(r):e.push(r),n=r}return Jt(e)},parent:function Eg(t){const e=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(t?Jt(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return Jt(e)},parents:function wg(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?Jt(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return Jt(e)},closest:function kf(t){let e=this;return typeof t>"u"?Jt([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function II(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let i=0;i<r.length;i+=1)e.push(r[i])}return Jt(e)},children:function ob(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let i=0;i<r.length;i+=1)(!t||Jt(r[i]).is(t))&&e.push(r[i])}return Jt(e)},filter:function _I(t){return Jt(_g(this,t))},remove:function ab(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}};Object.keys(cb).forEach(t=>{Object.defineProperty(Jt.fn,t,{value:cb[t],writable:!0})});const En=Jt;function Cs(t,e=0){return setTimeout(t,e)}function Ba(){return Date.now()}function Tu(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function Vs(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(1===t.nodeType||11===t.nodeType)}function Gi(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(null!=i&&!Vs(i)){const c=Object.keys(Object(i)).filter(u=>n.indexOf(u)<0);for(let u=0,p=c.length;u<p;u+=1){const v=c[u],y=Object.getOwnPropertyDescriptor(i,v);void 0!==y&&y.enumerable&&(Tu(e[v])&&Tu(i[v])?i[v].__swiper__?e[v]=i[v]:Gi(e[v],i[v]):!Tu(e[v])&&Tu(i[v])?(e[v]={},i[v].__swiper__?e[v]=i[v]:Gi(e[v],i[v])):e[v]=i[v])}}}return e}function ja(t,e,n){t.style.setProperty(e,n)}function Su({swiper:t,targetPosition:e,side:n}){const r=vr(),i=-t.translate;let u,c=null;const p=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const v=e>i?"next":"prev",y=(C,x)=>"next"===v&&C>=x||"prev"===v&&C<=x,E=()=>{u=(new Date).getTime(),null===c&&(c=u);const C=Math.max(Math.min((u-c)/p,1),0),x=.5-Math.cos(C*Math.PI)/2;let P=i+x*(e-i);if(y(P,e)&&(P=e),t.wrapperEl.scrollTo({[n]:P}),y(P,e))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:P})}),void r.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=r.requestAnimationFrame(E)};E()}let tc,nc,rc;function Du(){return tc||(tc=function zd(){const t=vr(),e=mr();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const i=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,i)}catch{}return r}(),gestures:"ongesturestart"in t}}()),tc}const pb={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||"function"!=typeof e)return r;const i=n?"unshift":"push";return t.split(" ").forEach(c=>{r.eventsListeners[c]||(r.eventsListeners[c]=[]),r.eventsListeners[c][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||"function"!=typeof e)return r;function i(...c){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,c)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||"function"!=typeof t)return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,c)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(c,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return"string"==typeof t[0]||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(u=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(p=>{p.apply(i,[u,...r])}),e.eventsListeners&&e.eventsListeners[u]&&e.eventsListeners[u].forEach(p=>{p.apply(i,r)})}),e}},ty={updateSize:function gb(){const t=this;let e,n;const r=t.$el;e=typeof t.params.width<"u"&&null!==t.params.width?t.params.width:r[0].clientWidth,n=typeof t.params.height<"u"&&null!==t.params.height?t.params.height:r[0].clientHeight,!(0===e&&t.isHorizontal()||0===n&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))},updateSlides:function mb(){const t=this;function e(Ke){return t.isHorizontal()?Ke:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[Ke]}function n(Ke,_e){return parseFloat(Ke.getPropertyValue(e(_e))||0)}const r=t.params,{$wrapperEl:i,size:c,rtlTranslate:u,wrongRTL:p}=t,v=t.virtual&&r.virtual.enabled,y=v?t.virtual.slides.length:t.slides.length,E=i.children(`.${t.params.slideClass}`),C=v?t.virtual.slides.length:E.length;let x=[];const P=[],N=[];let O=r.slidesOffsetBefore;"function"==typeof O&&(O=r.slidesOffsetBefore.call(t));let F=r.slidesOffsetAfter;"function"==typeof F&&(F=r.slidesOffsetAfter.call(t));const z=t.snapGrid.length,Z=t.slidesGrid.length;let G=r.spaceBetween,me=-O,de=0,ye=0;if(typeof c>"u")return;"string"==typeof G&&G.indexOf("%")>=0&&(G=parseFloat(G.replace("%",""))/100*c),t.virtualSize=-G,E.css(u?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(ja(t.wrapperEl,"--swiper-centered-offset-before",""),ja(t.wrapperEl,"--swiper-centered-offset-after",""));const Re=r.grid&&r.grid.rows>1&&t.grid;let tt;Re&&t.grid.initSlides(C);const vt="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter(Ke=>typeof r.breakpoints[Ke].slidesPerView<"u").length>0;for(let Ke=0;Ke<C;Ke+=1){tt=0;const _e=E.eq(Ke);if(Re&&t.grid.updateSlide(Ke,_e,C,e),"none"!==_e.css("display")){if("auto"===r.slidesPerView){vt&&(E[Ke].style[e("width")]="");const se=getComputedStyle(_e[0]),xe=_e[0].style.transform,_t=_e[0].style.webkitTransform;if(xe&&(_e[0].style.transform="none"),_t&&(_e[0].style.webkitTransform="none"),r.roundLengths)tt=t.isHorizontal()?_e.outerWidth(!0):_e.outerHeight(!0);else{const Bt=n(se,"width"),Ie=n(se,"padding-left"),ut=n(se,"padding-right"),st=n(se,"margin-left"),gn=n(se,"margin-right"),Mn=se.getPropertyValue("box-sizing");if(Mn&&"border-box"===Mn)tt=Bt+st+gn;else{const{clientWidth:zs,offsetWidth:$p}=_e[0];tt=Bt+Ie+ut+st+gn+($p-zs)}}xe&&(_e[0].style.transform=xe),_t&&(_e[0].style.webkitTransform=_t),r.roundLengths&&(tt=Math.floor(tt))}else tt=(c-(r.slidesPerView-1)*G)/r.slidesPerView,r.roundLengths&&(tt=Math.floor(tt)),E[Ke]&&(E[Ke].style[e("width")]=`${tt}px`);E[Ke]&&(E[Ke].swiperSlideSize=tt),N.push(tt),r.centeredSlides?(me=me+tt/2+de/2+G,0===de&&0!==Ke&&(me=me-c/2-G),0===Ke&&(me=me-c/2-G),Math.abs(me)<.001&&(me=0),r.roundLengths&&(me=Math.floor(me)),ye%r.slidesPerGroup==0&&x.push(me),P.push(me)):(r.roundLengths&&(me=Math.floor(me)),(ye-Math.min(t.params.slidesPerGroupSkip,ye))%t.params.slidesPerGroup==0&&x.push(me),P.push(me),me=me+tt+G),t.virtualSize+=tt+G,de=tt,ye+=1}}if(t.virtualSize=Math.max(t.virtualSize,c)+F,u&&p&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&i.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),Re&&t.grid.updateWrapperSize(tt,x,e),!r.centeredSlides){const Ke=[];for(let _e=0;_e<x.length;_e+=1){let se=x[_e];r.roundLengths&&(se=Math.floor(se)),x[_e]<=t.virtualSize-c&&Ke.push(se)}x=Ke,Math.floor(t.virtualSize-c)-Math.floor(x[x.length-1])>1&&x.push(t.virtualSize-c)}if(0===x.length&&(x=[0]),0!==r.spaceBetween){const Ke=t.isHorizontal()&&u?"marginLeft":e("marginRight");E.filter((_e,se)=>!r.cssMode||se!==E.length-1).css({[Ke]:`${G}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let Ke=0;N.forEach(se=>{Ke+=se+(r.spaceBetween?r.spaceBetween:0)}),Ke-=r.spaceBetween;const _e=Ke-c;x=x.map(se=>se<0?-O:se>_e?_e+F:se)}if(r.centerInsufficientSlides){let Ke=0;if(N.forEach(_e=>{Ke+=_e+(r.spaceBetween?r.spaceBetween:0)}),Ke-=r.spaceBetween,Ke<c){const _e=(c-Ke)/2;x.forEach((se,xe)=>{x[xe]=se-_e}),P.forEach((se,xe)=>{P[xe]=se+_e})}}if(Object.assign(t,{slides:E,snapGrid:x,slidesGrid:P,slidesSizesGrid:N}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){ja(t.wrapperEl,"--swiper-centered-offset-before",-x[0]+"px"),ja(t.wrapperEl,"--swiper-centered-offset-after",t.size/2-N[N.length-1]/2+"px");const Ke=-t.snapGrid[0],_e=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(se=>se+Ke),t.slidesGrid=t.slidesGrid.map(se=>se+_e)}if(C!==y&&t.emit("slidesLengthChange"),x.length!==z&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),P.length!==Z&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!(v||r.cssMode||"slide"!==r.effect&&"fade"!==r.effect)){const Ke=`${r.containerModifierClass}backface-hidden`,_e=t.$el.hasClass(Ke);C<=r.maxBackfaceHiddenSlides?_e||t.$el.addClass(Ke):_e&&t.$el.removeClass(Ke)}},updateAutoHeight:function vb(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let c,i=0;"number"==typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed);const u=p=>r?e.slides.filter(v=>parseInt(v.getAttribute("data-swiper-slide-index"),10)===p)[0]:e.slides.eq(p)[0];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||En([])).each(p=>{n.push(p)});else for(c=0;c<Math.ceil(e.params.slidesPerView);c+=1){const p=e.activeIndex+c;if(p>e.slides.length&&!r)break;n.push(u(p))}else n.push(u(e.activeIndex));for(c=0;c<n.length;c+=1)if(typeof n[c]<"u"){const p=n[c].offsetHeight;i=p>i?p:i}(i||0===i)&&e.$wrapperEl.css("height",`${i}px`)},updateSlidesOffset:function yb(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop},updateSlidesProgress:function OI(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:c}=e;if(0===r.length)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-t;i&&(u=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let p=0;p<r.length;p+=1){const v=r[p];let y=v.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(y-=r[0].swiperSlideOffset);const E=(u+(n.centeredSlides?e.minTranslate():0)-y)/(v.swiperSlideSize+n.spaceBetween),C=(u-c[0]+(n.centeredSlides?e.minTranslate():0)-y)/(v.swiperSlideSize+n.spaceBetween),x=-(u-y),P=x+e.slidesSizesGrid[p];(x>=0&&x<e.size-1||P>1&&P<=e.size||x<=0&&P>=e.size)&&(e.visibleSlides.push(v),e.visibleSlidesIndexes.push(p),r.eq(p).addClass(n.slideVisibleClass)),v.progress=i?-E:E,v.originalProgress=i?-C:C}e.visibleSlides=En(e.visibleSlides)},updateProgress:function RI(t){const e=this;typeof t>"u"&&(t=e&&e.translate&&e.translate*(e.rtlTranslate?-1:1)||0);const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:c,isEnd:u}=e;const p=c,v=u;0===r?(i=0,c=!0,u=!0):(i=(t-e.minTranslate())/r,c=i<=0,u=i>=1),Object.assign(e,{progress:i,isBeginning:c,isEnd:u}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),c&&!p&&e.emit("reachBeginning toEdge"),u&&!v&&e.emit("reachEnd toEdge"),(p&&!c||v&&!u)&&e.emit("fromEdge"),e.emit("progress",i)},updateSlidesClasses:function _b(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:i,realIndex:c}=t,u=t.virtual&&n.virtual.enabled;let p;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`),p=u?t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${i}"]`):e.eq(i),p.addClass(n.slideActiveClass),n.loop&&(p.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c}"]`).addClass(n.slideDuplicateActiveClass));let v=p.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&0===v.length&&(v=e.eq(0),v.addClass(n.slideNextClass));let y=p.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&0===y.length&&(y=e.eq(-1),y.addClass(n.slidePrevClass)),n.loop&&(v.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${v.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${v.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),y.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${y.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${y.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function kI(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:i,params:c,activeIndex:u,realIndex:p,snapIndex:v}=e;let E,y=t;if(typeof y>"u"){for(let x=0;x<r.length;x+=1)typeof r[x+1]<"u"?n>=r[x]&&n<r[x+1]-(r[x+1]-r[x])/2?y=x:n>=r[x]&&n<r[x+1]&&(y=x+1):n>=r[x]&&(y=x);c.normalizeSlideIndex&&(y<0||typeof y>"u")&&(y=0)}if(i.indexOf(n)>=0)E=i.indexOf(n);else{const x=Math.min(c.slidesPerGroupSkip,y);E=x+Math.floor((y-x)/c.slidesPerGroup)}if(E>=i.length&&(E=i.length-1),y===u)return void(E!==v&&(e.snapIndex=E,e.emit("snapIndexChange")));const C=parseInt(e.slides.eq(y).attr("data-swiper-slide-index")||y,10);Object.assign(e,{snapIndex:E,realIndex:C,previousIndex:u,activeIndex:y}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),p!==C&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")},updateClickedSlide:function bb(t){const e=this,n=e.params,r=En(t).closest(`.${n.slideClass}`)[0];let c,i=!1;if(r)for(let u=0;u<e.slides.length;u+=1)if(e.slides[u]===r){i=!0,c=u;break}if(!r||!i)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=r,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(En(r).attr("data-swiper-slide-index"),10):c,n.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},LI={getTranslate:function ny(t=(this.isHorizontal()?"x":"y")){const{params:n,rtlTranslate:r,translate:i,$wrapperEl:c}=this;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let u=function Iu(t,e="x"){const n=vr();let r,i,c;const u=function Mi(t){const e=vr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}(t);return n.WebKitCSSMatrix?(i=u.transform||u.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(p=>p.replace(",",".")).join(", ")),c=new n.WebKitCSSMatrix("none"===i?"":i)):(c=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=c.toString().split(",")),"x"===e&&(i=n.WebKitCSSMatrix?c.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===e&&(i=n.WebKitCSSMatrix?c.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),i||0}(c[0],t);return r&&(u=-u),u||0},setTranslate:function NI(t,e){const n=this,{rtlTranslate:r,params:i,$wrapperEl:c,wrapperEl:u,progress:p}=n;let C,v=0,y=0;n.isHorizontal()?v=r?-t:t:y=t,i.roundLengths&&(v=Math.floor(v),y=Math.floor(y)),i.cssMode?u[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-v:-y:i.virtualTranslate||c.transform(`translate3d(${v}px, ${y}px, 0px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?v:y;const x=n.maxTranslate()-n.minTranslate();C=0===x?0:(t-n.minTranslate())/x,C!==p&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)},minTranslate:function Ig(){return-this.snapGrid[0]},maxTranslate:function Tg(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function ry(t=0,e=this.params.speed,n=!0,r=!0,i){const c=this,{params:u,wrapperEl:p}=c;if(c.animating&&u.preventInteractionOnTransition)return!1;const v=c.minTranslate(),y=c.maxTranslate();let E;if(E=r&&t>v?v:r&&t<y?y:t,c.updateProgress(E),u.cssMode){const C=c.isHorizontal();if(0===e)p[C?"scrollLeft":"scrollTop"]=-E;else{if(!c.support.smoothScroll)return Su({swiper:c,targetPosition:-E,side:C?"left":"top"}),!0;p.scrollTo({[C?"left":"top"]:-E,behavior:"smooth"})}return!0}return 0===e?(c.setTransition(0),c.setTranslate(E),n&&(c.emit("beforeTransitionStart",e,i),c.emit("transitionEnd"))):(c.setTransition(e),c.setTranslate(E),n&&(c.emit("beforeTransitionStart",e,i),c.emit("transitionStart")),c.animating||(c.animating=!0,c.onTranslateToWrapperTransitionEnd||(c.onTranslateToWrapperTransitionEnd=function(x){!c||c.destroyed||x.target===this&&(c.$wrapperEl[0].removeEventListener("transitionend",c.onTranslateToWrapperTransitionEnd),c.$wrapperEl[0].removeEventListener("webkitTransitionEnd",c.onTranslateToWrapperTransitionEnd),c.onTranslateToWrapperTransitionEnd=null,delete c.onTranslateToWrapperTransitionEnd,n&&c.emit("transitionEnd"))}),c.$wrapperEl[0].addEventListener("transitionend",c.onTranslateToWrapperTransitionEnd),c.$wrapperEl[0].addEventListener("webkitTransitionEnd",c.onTranslateToWrapperTransitionEnd))),!0}};function Nf({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:c}=t;let u=n;if(u||(u=i>c?"next":i<c?"prev":"reset"),t.emit(`transition${r}`),e&&i!==c){if("reset"===u)return void t.emit(`slideResetTransition${r}`);t.emit(`slideChangeTransition${r}`),t.emit("next"===u?`slideNextTransition${r}`:`slidePrevTransition${r}`)}}const iy={setTransition:function Sg(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)},transitionStart:function Eb(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Nf({swiper:n,runCallbacks:t,direction:e,step:"Start"}))},transitionEnd:function FI(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),Nf({swiper:n,runCallbacks:t,direction:e,step:"End"}))}},Db={slideTo:function wb(t=0,e=this.params.speed,n=!0,r,i){if("number"!=typeof t&&"string"!=typeof t)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if("string"==typeof t){const G=parseInt(t,10);if(!isFinite(G))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=G}const c=this;let u=t;u<0&&(u=0);const{params:p,snapGrid:v,slidesGrid:y,previousIndex:E,activeIndex:C,rtlTranslate:x,wrapperEl:P,enabled:N}=c;if(c.animating&&p.preventInteractionOnTransition||!N&&!r&&!i)return!1;const O=Math.min(c.params.slidesPerGroupSkip,u);let F=O+Math.floor((u-O)/c.params.slidesPerGroup);F>=v.length&&(F=v.length-1);const z=-v[F];if(p.normalizeSlideIndex)for(let G=0;G<y.length;G+=1){const me=-Math.floor(100*z),de=Math.floor(100*y[G]),ye=Math.floor(100*y[G+1]);typeof y[G+1]<"u"?me>=de&&me<ye-(ye-de)/2?u=G:me>=de&&me<ye&&(u=G+1):me>=de&&(u=G)}if(c.initialized&&u!==C&&(!c.allowSlideNext&&z<c.translate&&z<c.minTranslate()||!c.allowSlidePrev&&z>c.translate&&z>c.maxTranslate()&&(C||0)!==u))return!1;let Z;if(u!==(E||0)&&n&&c.emit("beforeSlideChangeStart"),c.updateProgress(z),Z=u>C?"next":u<C?"prev":"reset",x&&-z===c.translate||!x&&z===c.translate)return c.updateActiveIndex(u),p.autoHeight&&c.updateAutoHeight(),c.updateSlidesClasses(),"slide"!==p.effect&&c.setTranslate(z),"reset"!==Z&&(c.transitionStart(n,Z),c.transitionEnd(n,Z)),!1;if(p.cssMode){const G=c.isHorizontal(),me=x?z:-z;if(0===e){const de=c.virtual&&c.params.virtual.enabled;de&&(c.wrapperEl.style.scrollSnapType="none",c._immediateVirtual=!0),P[G?"scrollLeft":"scrollTop"]=me,de&&requestAnimationFrame(()=>{c.wrapperEl.style.scrollSnapType="",c._swiperImmediateVirtual=!1})}else{if(!c.support.smoothScroll)return Su({swiper:c,targetPosition:me,side:G?"left":"top"}),!0;P.scrollTo({[G?"left":"top"]:me,behavior:"smooth"})}return!0}return c.setTransition(e),c.setTranslate(z),c.updateActiveIndex(u),c.updateSlidesClasses(),c.emit("beforeTransitionStart",e,r),c.transitionStart(n,Z),0===e?c.transitionEnd(n,Z):c.animating||(c.animating=!0,c.onSlideToWrapperTransitionEnd||(c.onSlideToWrapperTransitionEnd=function(me){!c||c.destroyed||me.target===this&&(c.$wrapperEl[0].removeEventListener("transitionend",c.onSlideToWrapperTransitionEnd),c.$wrapperEl[0].removeEventListener("webkitTransitionEnd",c.onSlideToWrapperTransitionEnd),c.onSlideToWrapperTransitionEnd=null,delete c.onSlideToWrapperTransitionEnd,c.transitionEnd(n,Z))}),c.$wrapperEl[0].addEventListener("transitionend",c.onSlideToWrapperTransitionEnd),c.$wrapperEl[0].addEventListener("webkitTransitionEnd",c.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function Cb(t=0,e=this.params.speed,n=!0,r){if("string"==typeof t){const u=parseInt(t,10);if(!isFinite(u))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=u}const i=this;let c=t;return i.params.loop&&(c+=i.loopedSlides),i.slideTo(c,e,n,r)},slideNext:function sy(t=this.params.speed,e=!0,n){const r=this,{animating:i,enabled:c,params:u}=r;if(!c)return r;let p=u.slidesPerGroup;"auto"===u.slidesPerView&&1===u.slidesPerGroup&&u.slidesPerGroupAuto&&(p=Math.max(r.slidesPerViewDynamic("current",!0),1));const v=r.activeIndex<u.slidesPerGroupSkip?1:p;if(u.loop){if(i&&u.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return r.slideTo(u.rewind&&r.isEnd?0:r.activeIndex+v,t,e,n)},slidePrev:function Ib(t=this.params.speed,e=!0,n){const r=this,{params:i,animating:c,snapGrid:u,slidesGrid:p,rtlTranslate:v,enabled:y}=r;if(!y)return r;if(i.loop){if(c&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function C(F){return F<0?-Math.floor(Math.abs(F)):Math.floor(F)}const x=C(v?r.translate:-r.translate),P=u.map(F=>C(F));let N=u[P.indexOf(x)-1];if(typeof N>"u"&&i.cssMode){let F;u.forEach((z,Z)=>{x>=z&&(F=Z)}),typeof F<"u"&&(N=u[F>0?F-1:F])}let O=0;return typeof N<"u"&&(O=p.indexOf(N),O<0&&(O=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(O=O-r.slidesPerViewDynamic("previous",!0)+1,O=Math.max(O,0))),r.slideTo(i.rewind&&r.isBeginning?r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1:O,t,e,n)},slideReset:function $I(t=this.params.speed,e=!0,n){return this.slideTo(this.activeIndex,t,e,n)},slideToClosest:function Tb(t=this.params.speed,e=!0,n,r=.5){const i=this;let c=i.activeIndex;const u=Math.min(i.params.slidesPerGroupSkip,c),p=u+Math.floor((c-u)/i.params.slidesPerGroup),v=i.rtlTranslate?i.translate:-i.translate;if(v>=i.snapGrid[p]){const y=i.snapGrid[p];v-y>(i.snapGrid[p+1]-y)*r&&(c+=i.params.slidesPerGroup)}else{const y=i.snapGrid[p-1];v-y<=(i.snapGrid[p]-y)*r&&(c-=i.params.slidesPerGroup)}return c=Math.max(c,0),c=Math.min(c,i.slidesGrid.length-1),i.slideTo(c,t,e,n)},slideToClickedSlide:function Sb(){const t=this,{params:e,$wrapperEl:n}=t,r="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView;let c,i=t.clickedIndex;if(e.loop){if(t.animating)return;c=parseInt(En(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${c}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Cs(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${c}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Cs(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}},Mb={loopCreate:function xb(){const t=this,e=mr(),{params:n,$wrapperEl:r}=t,i=r.children().length>0?En(r.children()[0].parentNode):r;i.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let c=i.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const v=n.slidesPerGroup-c.length%n.slidesPerGroup;if(v!==n.slidesPerGroup){for(let y=0;y<v;y+=1){const E=En(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);i.append(E)}c=i.children(`.${n.slideClass}`)}}"auto"===n.slidesPerView&&!n.loopedSlides&&(n.loopedSlides=c.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>c.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=c.length);const u=[],p=[];c.each((v,y)=>{En(v).attr("data-swiper-slide-index",y)});for(let v=0;v<t.loopedSlides;v+=1){const y=v-Math.floor(v/c.length)*c.length;p.push(c.eq(y)[0]),u.unshift(c.eq(c.length-y-1)[0])}for(let v=0;v<p.length;v+=1)i.append(En(p[v].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let v=u.length-1;v>=0;v-=1)i.prepend(En(u[v].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function UI(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:i,allowSlideNext:c,snapGrid:u,rtlTranslate:p}=t;let v;t.allowSlidePrev=!0,t.allowSlideNext=!0;const E=-u[e]-t.getTranslate();e<r?(v=n.length-3*r+e,v+=r,t.slideTo(v,0,!1,!0)&&0!==E&&t.setTranslate((p?-t.translate:t.translate)-E)):e>=n.length-r&&(v=-n.length+e+r,v+=r,t.slideTo(v,0,!1,!0)&&0!==E&&t.setTranslate((p?-t.translate:t.translate)-E)),t.allowSlidePrev=i,t.allowSlideNext=c,t.emit("loopFix")},loopDestroy:function Ab(){const{$wrapperEl:e,params:n,slides:r}=this;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}};function Rb(t){const e=this,n=mr(),r=vr(),i=e.touchEventsData,{params:c,touches:u,enabled:p}=e;if(!p||e.animating&&c.preventInteractionOnTransition)return;!e.animating&&c.cssMode&&c.loop&&e.loopFix();let v=t;v.originalEvent&&(v=v.originalEvent);let y=En(v.target);if("wrapper"===c.touchEventsTarget&&!y.closest(e.wrapperEl).length||(i.isTouchEvent="touchstart"===v.type,!i.isTouchEvent&&"which"in v&&3===v.which)||!i.isTouchEvent&&"button"in v&&v.button>0||i.isTouched&&i.isMoved)return;const E=!!c.noSwipingClass&&""!==c.noSwipingClass,C=t.composedPath?t.composedPath():t.path;E&&v.target&&v.target.shadowRoot&&C&&(y=En(C[0]));const x=c.noSwipingSelector?c.noSwipingSelector:`.${c.noSwipingClass}`;if(c.noSwiping&&(v.target&&v.target.shadowRoot?function Ob(t,e=this){return function n(r){if(!r||r===mr()||r===vr())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return i||r.getRootNode?i||n(r.getRootNode().host):null}(e)}(x,y[0]):y.closest(x)[0]))return void(e.allowClick=!0);if(c.swipeHandler&&!y.closest(c.swipeHandler)[0])return;u.currentX="touchstart"===v.type?v.targetTouches[0].pageX:v.pageX,u.currentY="touchstart"===v.type?v.targetTouches[0].pageY:v.pageY;const N=u.currentX,O=u.currentY,F=c.edgeSwipeDetection||c.iOSEdgeSwipeDetection,z=c.edgeSwipeThreshold||c.iOSEdgeSwipeThreshold;if(F&&(N<=z||N>=r.innerWidth-z)){if("prevent"!==F)return;t.preventDefault()}if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=N,u.startY=O,i.touchStartTime=Ba(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,c.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==v.type){let Z=!0;y.is(i.focusableElements)&&(Z=!1,"SELECT"===y[0].nodeName&&(i.isTouched=!1)),n.activeElement&&En(n.activeElement).is(i.focusableElements)&&n.activeElement!==y[0]&&n.activeElement.blur(),(c.touchStartForcePreventDefault||Z&&e.allowTouchMove&&c.touchStartPreventDefault)&&!y[0].isContentEditable&&v.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!c.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",v)}function kb(t){const e=mr(),n=this,r=n.touchEventsData,{params:i,touches:c,rtlTranslate:u,enabled:p}=n;if(!p)return;let v=t;if(v.originalEvent&&(v=v.originalEvent),!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",v));if(r.isTouchEvent&&"touchmove"!==v.type)return;const y="touchmove"===v.type&&v.targetTouches&&(v.targetTouches[0]||v.changedTouches[0]),E="touchmove"===v.type?y.pageX:v.pageX,C="touchmove"===v.type?y.pageY:v.pageY;if(v.preventedByNestedSwiper)return c.startX=E,void(c.startY=C);if(!n.allowTouchMove)return En(v.target).is(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(c,{startX:E,startY:C,currentX:E,currentY:C}),r.touchStartTime=Ba()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(C<c.startY&&n.translate<=n.maxTranslate()||C>c.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(E<c.startX&&n.translate<=n.maxTranslate()||E>c.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&e.activeElement&&v.target===e.activeElement&&En(v.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",v),v.targetTouches&&v.targetTouches.length>1)return;c.currentX=E,c.currentY=C;const x=c.currentX-c.startX,P=c.currentY-c.startY;if(n.params.threshold&&Math.sqrt(x**2+P**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let z;n.isHorizontal()&&c.currentY===c.startY||n.isVertical()&&c.currentX===c.startX?r.isScrolling=!1:x*x+P*P>=25&&(z=180*Math.atan2(Math.abs(P),Math.abs(x))/Math.PI,r.isScrolling=n.isHorizontal()?z>i.touchAngle:90-z>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",v),typeof r.startMoving>"u"&&(c.currentX!==c.startX||c.currentY!==c.startY)&&(r.startMoving=!0),r.isScrolling)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&v.cancelable&&v.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&v.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,i.grabCursor&&(!0===n.allowSlideNext||!0===n.allowSlidePrev)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",v)),n.emit("sliderMove",v),r.isMoved=!0;let N=n.isHorizontal()?x:P;c.diff=N,N*=i.touchRatio,u&&(N=-N),n.swipeDirection=N>0?"prev":"next",r.currentTranslate=N+r.startTranslate;let O=!0,F=i.resistanceRatio;if(i.touchReleaseOnEdges&&(F=0),N>0&&r.currentTranslate>n.minTranslate()?(O=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+N)**F)):N<0&&r.currentTranslate<n.maxTranslate()&&(O=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-N)**F)),O&&(v.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(N)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,c.startX=c.currentX,c.startY=c.currentY,r.currentTranslate=r.startTranslate,void(c.diff=n.isHorizontal()?c.currentX-c.startX:c.currentY-c.startY)}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Nb(t){const e=this,n=e.touchEventsData,{params:r,touches:i,rtlTranslate:c,slidesGrid:u,enabled:p}=e;if(!p)return;let v=t;if(v.originalEvent&&(v=v.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",v),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const y=Ba(),E=y-n.touchStartTime;if(e.allowClick){const Z=v.path||v.composedPath&&v.composedPath();e.updateClickedSlide(Z&&Z[0]||v.target),e.emit("tap click",v),E<300&&y-n.lastClickTime<300&&e.emit("doubleTap doubleClick",v)}if(n.lastClickTime=Ba(),Cs(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let C;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,C=r.followFinger?c?e.translate:-e.translate:-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:C});let x=0,P=e.slidesSizesGrid[0];for(let Z=0;Z<u.length;Z+=Z<r.slidesPerGroupSkip?1:r.slidesPerGroup){const G=Z<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof u[Z+G]<"u"?C>=u[Z]&&C<u[Z+G]&&(x=Z,P=u[Z+G]-u[Z]):C>=u[Z]&&(x=Z,P=u[u.length-1]-u[u.length-2])}let N=null,O=null;r.rewind&&(e.isBeginning?O=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(N=0));const F=(C-u[x])/P,z=x<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(E>r.longSwipesMs){if(!r.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(F>=r.longSwipesRatio?r.rewind&&e.isEnd?N:x+z:x),"prev"===e.swipeDirection&&(F>1-r.longSwipesRatio?e.slideTo(x+z):null!==O&&F<0&&Math.abs(F)>r.longSwipesRatio?e.slideTo(O):e.slideTo(x))}else{if(!r.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||v.target!==e.navigation.nextEl&&v.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(null!==N?N:x+z),"prev"===e.swipeDirection&&e.slideTo(null!==O?O:x)):e.slideTo(v.target===e.navigation.nextEl?x+z:x)}}function ay(){const t=this,{params:e,el:n}=t;if(n&&0===n.offsetWidth)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:c}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),t.slideTo(("auto"===e.slidesPerView||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slides.length-1:t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&c!==t.snapGrid&&t.checkOverflow()}function Lb(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Fb(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;let i;t.previousTranslate=t.translate,t.translate=t.isHorizontal()?-e.scrollLeft:-e.scrollTop,0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();const c=t.maxTranslate()-t.minTranslate();i=0===c?0:(t.translate-t.minTranslate())/c,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let Lf=!1;function ic(){}const $b=(t,e)=>{const n=mr(),{params:r,touchEvents:i,el:c,wrapperEl:u,device:p,support:v}=t,y=!!r.nested,E="on"===e?"addEventListener":"removeEventListener",C=e;if(v.touch){const x=!("touchstart"!==i.start||!v.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};c[E](i.start,t.onTouchStart,x),c[E](i.move,t.onTouchMove,v.passiveListener?{passive:!1,capture:y}:y),c[E](i.end,t.onTouchEnd,x),i.cancel&&c[E](i.cancel,t.onTouchEnd,x)}else c[E](i.start,t.onTouchStart,!1),n[E](i.move,t.onTouchMove,y),n[E](i.end,t.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&c[E]("click",t.onClick,!0),r.cssMode&&u[E]("scroll",t.onScroll),t[C](r.updateOnWindowResize?p.ios||p.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",ay,!0)},xu={attachEvents:function VI(){const t=this,e=mr(),{params:n,support:r}=t;t.onTouchStart=Rb.bind(t),t.onTouchMove=kb.bind(t),t.onTouchEnd=Nb.bind(t),n.cssMode&&(t.onScroll=Fb.bind(t)),t.onClick=Lb.bind(t),r.touch&&!Lf&&(e.addEventListener("touchstart",ic),Lf=!0),$b(t,"on")},detachEvents:function ly(){$b(this,"off")}},xg=(t,e)=>t.grid&&e.grid&&e.grid.rows>1,Sx={setBreakpoint:function BI(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:i,$el:c}=t,u=i.breakpoints;if(!u||u&&0===Object.keys(u).length)return;const p=t.getBreakpoint(u,t.params.breakpointsBase,t.el);if(!p||t.currentBreakpoint===p)return;const y=(p in u?u[p]:void 0)||t.originalParams,E=xg(t,i),C=xg(t,y),x=i.enabled;E&&!C?(c.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!E&&C&&(c.addClass(`${i.containerModifierClass}grid`),(y.grid.fill&&"column"===y.grid.fill||!y.grid.fill&&"column"===i.grid.fill)&&c.addClass(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(F=>{const z=i[F]&&i[F].enabled,Z=y[F]&&y[F].enabled;z&&!Z&&t[F].disable(),!z&&Z&&t[F].enable()});const P=y.direction&&y.direction!==i.direction,N=i.loop&&(y.slidesPerView!==i.slidesPerView||P);P&&n&&t.changeDirection(),Gi(t.params,y);const O=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),x&&!O?t.disable():!x&&O&&t.enable(),t.currentBreakpoint=p,t.emit("_beforeBreakpoint",y),N&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",y)},getBreakpoint:function cy(t,e="window",n){if(!t||"container"===e&&!n)return;let r=!1;const i=vr(),c="window"===e?i.innerHeight:n.clientHeight,u=Object.keys(t).map(p=>{if("string"==typeof p&&0===p.indexOf("@")){const v=parseFloat(p.substr(1));return{value:c*v,point:p}}return{value:p,point:p}});u.sort((p,v)=>parseInt(p.value,10)-parseInt(v.value,10));for(let p=0;p<u.length;p+=1){const{point:v,value:y}=u[p];"window"===e?i.matchMedia(`(min-width: ${y}px)`).matches&&(r=v):y<=n.clientWidth&&(r=v)}return r||"max"}},Ub={addClasses:function jI(){const t=this,{classNames:e,params:n,rtl:r,$el:i,device:c,support:u}=t,p=function Dx(t,e){const n=[];return t.forEach(r=>{"object"==typeof r?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):"string"==typeof r&&n.push(e+r)}),n}(["initialized",n.direction,{"pointer-events":!u.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:c.android},{ios:c.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...p),i.addClass([...e].join(" ")),t.emitContainerClasses()},removeClasses:function HI(){const{$el:e,classNames:n}=this;e.removeClass(n.join(" ")),this.emitContainerClasses()}},Vb={loadImage:function ZI(t,e,n,r,i,c){const u=vr();let p;function v(){c&&c()}En(t).parent("picture")[0]||t.complete&&i||!e?v():(p=new u.Image,p.onload=v,p.onerror=v,r&&(p.sizes=r),n&&(p.srcset=n),e&&(p.src=e))},preloadImages:function Nr(){const t=this;function e(){typeof t>"u"||null===t||!t||t.destroyed||(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}},uy={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function qI(t,e){return function(r={}){const i=Object.keys(r)[0],c=r[i];"object"==typeof c&&null!==c?(["navigation","pagination","scrollbar"].indexOf(i)>=0&&!0===t[i]&&(t[i]={auto:!0}),i in t&&"enabled"in c?(!0===t[i]&&(t[i]={enabled:!0}),"object"==typeof t[i]&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Gi(e,r)):Gi(e,r)):Gi(e,r)}}const Ag={eventsEmitter:pb,update:ty,translate:LI,transition:iy,slide:Db,loop:Mb,grabCursor:{setGrabCursor:function oy(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"},unsetGrabCursor:function Dg(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t["container"===t.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:xu,breakpoints:Sx,checkOverflow:{checkOverflow:function zI(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1;t.isLocked=t.size>t.slidesGrid[i]+t.slidesSizesGrid[i]+2*r}else t.isLocked=1===t.snapGrid.length;!0===n.allowSlideNext&&(t.allowSlideNext=!t.isLocked),!0===n.allowSlidePrev&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}},classes:Ub,images:Vb},Mg={};class mi{constructor(...e){let n,r;if(1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?r=e[0]:[n,r]=e,r||(r={}),r=Gi({},r),n&&!r.el&&(r.el=n),r.el&&En(r.el).length>1){const p=[];return En(r.el).each(v=>{const y=Gi({},r,{el:v});p.push(new mi(y))}),p}const i=this;i.__swiper__=!0,i.support=Du(),i.device=function qd(t={}){return nc||(nc=function Gd({userAgent:t}={}){const e=Du(),n=vr(),r=n.navigator.platform,i=t||n.navigator.userAgent,c={ios:!1,android:!1},u=n.screen.width,p=n.screen.height,v=i.match(/(Android);?[\s\/]+([\d.]+)?/);let y=i.match(/(iPad).*OS\s([\d_]+)/);const E=i.match(/(iPod)(.*OS\s([\d_]+))?/),C=!y&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),x="Win32"===r;let P="MacIntel"===r;return!y&&P&&e.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${u}x${p}`)>=0&&(y=i.match(/(Version)\/([\d.]+)/),y||(y=[0,1,"13_0_0"]),P=!1),v&&!x&&(c.os="android",c.android=!0),(y||C||E)&&(c.os="ios",c.ios=!0),c}(t)),nc}({userAgent:r.userAgent}),i.browser=function db(){return rc||(rc=function ub(){const t=vr();return{isSafari:function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),rc}(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const c={};i.modules.forEach(p=>{p({swiper:i,extendParams:qI(r,c),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const u=Gi({},uy,c);return i.params=Gi({},u,Mg,r),i.originalParams=Gi({},i.params),i.passedParams=Gi({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(p=>{i.on(p,i.params.on[p])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),i.$=En,Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:En(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===i.params.direction,isVertical:()=>"vertical"===i.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:function(){const v=["touchstart","touchmove","touchend","touchcancel"],y=["pointerdown","pointermove","pointerup"];return i.touchEventsTouch={start:v[0],move:v[1],end:v[2],cancel:v[3]},i.touchEventsDesktop={start:y[0],move:y[1],end:y[2]},i.support.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:Ba(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),u=(r.maxTranslate()-i)*e+i;r.translateTo(u,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>0===r.indexOf("swiper")||0===r.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>0===r.indexOf("swiper-slide")||0===r.indexOf(n.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const{params:i,slides:c,slidesGrid:u,slidesSizesGrid:p,size:v,activeIndex:y}=this;let E=1;if(i.centeredSlides){let x,C=c[y].swiperSlideSize;for(let P=y+1;P<c.length;P+=1)c[P]&&!x&&(C+=c[P].swiperSlideSize,E+=1,C>v&&(x=!0));for(let P=y-1;P>=0;P-=1)c[P]&&!x&&(C+=c[P].swiperSlideSize,E+=1,C>v&&(x=!0))}else if("current"===e)for(let C=y+1;C<c.length;C+=1)(n?u[C]+p[C]-u[y]<v:u[C]-u[y]<v)&&(E+=1);else for(let C=y-1;C>=0;C-=1)u[y]-u[C]<v&&(E+=1);return E}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;function i(){const p=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(p),e.updateActiveIndex(),e.updateSlidesClasses()}let c;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(i(),e.params.autoHeight&&e.updateAutoHeight()):(c=e.slideTo(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slides.length-1:e.activeIndex,0,!1,!0),c||i()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e||(r.$el.removeClass(`${r.params.containerModifierClass}${i}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(c=>{"vertical"===e?c.style.width="":c.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&"rtl"===e||!n.rtl&&"ltr"===e||(n.rtl="rtl"===e,n.rtlTranslate="horizontal"===n.params.direction&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=En(e||n.params.el);if(!(e=r[0]))return!1;e.swiper=n;const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const p=En(e.shadowRoot.querySelector(i()));return p.children=v=>r.children(v),p}return r.children?r.children(i()):En(r).children(i())})();if(0===u.length&&n.params.createElements){const v=mr().createElement("div");u=En(v),v.className=n.params.wrapperClass,r.append(v),r.children(`.${n.params.slideClass}`).each(y=>{u.append(y)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:u,wrapperEl:u[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===r.css("direction"),rtlTranslate:"horizontal"===n.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===r.css("direction")),wrongRTL:"-webkit-box"===u.css("display")}),!0}init(e){const n=this;return n.initialized||!1===n.mount(e)||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.slideTo(n.params.loop?n.params.initialSlide+n.loopedSlides:n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:i,$el:c,$wrapperEl:u,slides:p}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),c.removeAttr("style"),u.removeAttr("style"),p&&p.length&&p.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(v=>{r.off(v)}),!1!==e&&(r.$el[0].swiper=null,function PI(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}(r)),r.destroyed=!0),null}static extendDefaults(e){Gi(Mg,e)}static get extendedDefaults(){return Mg}static get defaults(){return uy}static installModule(e){mi.prototype.__modules__||(mi.prototype.__modules__=[]);const n=mi.prototype.__modules__;"function"==typeof e&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>mi.installModule(n)),mi):(mi.installModule(e),mi)}}Object.keys(Ag).forEach(t=>{Object.keys(Ag[t]).forEach(e=>{mi.prototype[e]=Ag[t][e]})}),mi.use([function hb({swiper:t,on:e,emit:n}){const r=vr();let i=null,c=null;const u=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},y=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{t.params.resizeObserver&&typeof r.ResizeObserver<"u"?!t||t.destroyed||!t.initialized||(i=new ResizeObserver(E=>{c=r.requestAnimationFrame(()=>{const{width:C,height:x}=t;let P=C,N=x;E.forEach(({contentBoxSize:O,contentRect:F,target:z})=>{z&&z!==t.el||(P=F?F.width:(O[0]||O).inlineSize,N=F?F.height:(O[0]||O).blockSize)}),(P!==C||N!==x)&&u()})}),i.observe(t.el)):(r.addEventListener("resize",u),r.addEventListener("orientationchange",y))}),e("destroy",()=>{c&&r.cancelAnimationFrame(c),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null),r.removeEventListener("resize",u),r.removeEventListener("orientationchange",y)})},function fb({swiper:t,extendParams:e,on:n,emit:r}){const i=[],c=vr(),u=(y,E={})=>{const x=new(c.MutationObserver||c.WebkitMutationObserver)(P=>{if(1===P.length)return void r("observerUpdate",P[0]);const N=function(){r("observerUpdate",P[0])};c.requestAnimationFrame?c.requestAnimationFrame(N):c.setTimeout(N,0)});x.observe(y,{attributes:typeof E.attributes>"u"||E.attributes,childList:typeof E.childList>"u"||E.childList,characterData:typeof E.characterData>"u"||E.characterData}),i.push(x)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",()=>{if(t.params.observer){if(t.params.observeParents){const y=t.$el.parents();for(let E=0;E<y.length;E+=1)u(y[E])}u(t.$el[0],{childList:t.params.observeSlideChildren}),u(t.$wrapperEl[0],{attributes:!1})}}),n("destroy",()=>{i.forEach(y=>{y.disconnect()}),i.splice(0,i.length)})}]);const Wd=mi;function Hb(t,e,n){const r="swiper-slide-shadow"+(n?`-${n}`:""),i=t.transformEl?e.find(t.transformEl):e;let c=i.children(`.${r}`);return c.length||(c=En(`<div class="swiper-slide-shadow${n?`-${n}`:""}"></div>`),i.append(c)),c}function JI(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}const Gb=["prevElRef"],Pg=["nextElRef"],tT=["scrollbarElRef"],qb=["paginationElRef"];function Wb(t,e){1&t&&(l.ynx(0),l._UZ(1,"div",6,7)(3,"div",8,9),l.BQk())}function dy(t,e){1&t&&l._UZ(0,"div",10,11)}function Og(t,e){1&t&&l._UZ(0,"div",12,13)}function Kb(t,e){}function Yb(t,e){1&t&&l.YNc(0,Kb,0,0,"ng-template")}function Qb(t,e){}function Xb(t,e){1&t&&l.YNc(0,Qb,0,0,"ng-template")}function Jb(t,e){}function eE(t,e){1&t&&l.YNc(0,Jb,0,0,"ng-template")}function tE(t,e){}const hy=function(t){return{$implicit:t}};function nT(t,e){if(1&t&&(l.TgZ(0,"div",3),l.YNc(1,tE,0,0,"ng-template",18),l.qZA()),2&t){const n=l.oxw().$implicit,r=l.oxw(2);l.Q6J("ngClass",r.zoomContainerClass),l.xp6(1),l.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",l.VKq(3,hy,n.slideData))}}function rT(t,e){}function iT(t,e){if(1&t&&(l.ynx(0),l.YNc(1,rT,0,0,"ng-template",18),l.BQk()),2&t){const n=l.oxw().$implicit;l.xp6(1),l.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",l.VKq(2,hy,n.slideData))}}function sT(t,e){if(1&t&&(l.TgZ(0,"div",15),l.YNc(1,nT,2,5,"div",16),l.YNc(2,iT,2,4,"ng-container",17),l.qZA()),2&t){const n=e.$implicit,r=l.oxw().key,i=l.oxw();l.Akn(i.style),l.Q6J("ngClass",(n.class?n.class+" ":"")+i.slideClass+(""!==r?" "+i.slideDuplicateClass:""))("ngSwitch",n.zoom),l.uIk("data-swiper-slide-index",n.virtualIndex?n.virtualIndex:n.slideIndex)("data-swiper-autoplay",n.autoplayDelay),l.xp6(1),l.Q6J("ngSwitchCase",!0)}}function oT(t,e){1&t&&(l.YNc(0,sT,3,7,"div",14),l.ALo(1,"async")),2&t&&l.Q6J("ngForOf",l.lcZ(1,1,e.loopSlides))}const aT=[[["","slot","container-start"]],[["","slot","wrapper-start"]],[["","slot","wrapper-end"]],[["","slot","container-end"]]],lT=function(t){return{loopSlides:t,key:"prepend"}},cT=function(t){return{loopSlides:t,key:""}},uT=function(t){return{loopSlides:t,key:"append"}},dT=["[slot=container-start]","[slot=wrapper-start]","[slot=wrapper-end]","[slot=container-end]"],nE=["init","enabled","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","on"];function Kd(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function fy(t){return typeof t<"u"&&"boolean"!=typeof t&&!0===t.enabled}function rE(t,e,n){return!0===Rg(t)&&e&&!e.el||!("boolean"!=typeof e&&e.el!==n?.nativeElement&&("string"==typeof e.el||"object"==typeof e.el))}function sc(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:t[r]&&!e[r]||(Kd(e[r])&&Kd(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:sc(t[r],e[r]):t[r]=e[r])})}function Rg(t){return null!=t&&"false"!=`${t}`}const hT=["pagination","navigation","scrollbar","virtual"];function kg(t,e={}){return Kd(t)?t:!0===Rg(t)&&e}function Ng(t={}){const e={on:{}},n={};sc(e,Wd.defaults),sc(e,Wd.extendedDefaults),e._emitClasses=!0,e.init=!1;const r={},i=nE.map(c=>c.replace(/_/,""));return Object.keys(t).forEach(c=>{const u=c.replace(/^_/,"");i.indexOf(u)>=0?Kd(t[c])?(e[u]={},n[u]={},sc(e[u],t[c]),sc(n[u],t[c])):(e[u]=t[c],n[u]=t[c]):r[u]=t[c]}),["navigation","pagination","scrollbar"].forEach(c=>{!0===e[c]&&(e[c]={}),!1===e[c]&&delete e[c]}),{params:e,passedParams:n,rest:r}}nE.map(t=>t.replace(/_/,""));let Lg=(()=>{class t{constructor(n){this.template=n,this.class="",this.autoplayDelay=null,this.slideData={isActive:!1,isPrev:!1,isNext:!1,isVisible:!1,isDuplicate:!1}}set ngClass(n){this.class=[this.class||"",n].join(" ")}set zoom(n){this._zoom=Rg(n)}get zoom(){return this._zoom}get classNames(){return this._classNames}set classNames(n){this._classNames!==n&&(this._classNames=n,this.slideData={isActive:this._hasClass(["swiper-slide-active","swiper-slide-duplicate-active"]),isVisible:this._hasClass(["swiper-slide-visible"]),isDuplicate:this._hasClass(["swiper-slide-duplicate"]),isPrev:this._hasClass(["swiper-slide-prev","swiper-slide-duplicate-prev"]),isNext:this._hasClass(["swiper-slide-next","swiper-slide-duplicate-next"])})}_hasClass(n){return n.some(r=>this._classNames.indexOf(r)>=0)}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","swiperSlide",""]],inputs:{virtualIndex:"virtualIndex",class:"class",ngClass:"ngClass",autoplayDelay:["data-swiper-autoplay","autoplayDelay"],zoom:"zoom"}}),t})(),py=(()=>{class t{constructor(n,r,i,c){this._ngZone=n,this.elementRef=r,this._changeDetectorRef=i,this._platformId=c,this.slideClass="swiper-slide",this.wrapperClass="swiper-wrapper",this.showNavigation=!0,this.showPagination=!0,this.showScrollbar=!0,this.s__beforeBreakpoint=new l.vpe,this.s__containerClasses=new l.vpe,this.s__slideClass=new l.vpe,this.s__swiper=new l.vpe,this.s_activeIndexChange=new l.vpe,this.s_afterInit=new l.vpe,this.s_autoplay=new l.vpe,this.s_autoplayStart=new l.vpe,this.s_autoplayStop=new l.vpe,this.s_autoplayPause=new l.vpe,this.s_autoplayResume=new l.vpe,this.s_beforeDestroy=new l.vpe,this.s_beforeInit=new l.vpe,this.s_beforeLoopFix=new l.vpe,this.s_beforeResize=new l.vpe,this.s_beforeSlideChangeStart=new l.vpe,this.s_beforeTransitionStart=new l.vpe,this.s_breakpoint=new l.vpe,this.s_changeDirection=new l.vpe,this.s_click=new l.vpe,this.s_doubleTap=new l.vpe,this.s_doubleClick=new l.vpe,this.s_destroy=new l.vpe,this.s_fromEdge=new l.vpe,this.s_hashChange=new l.vpe,this.s_hashSet=new l.vpe,this.s_imagesReady=new l.vpe,this.s_init=new l.vpe,this.s_keyPress=new l.vpe,this.s_lazyImageLoad=new l.vpe,this.s_lazyImageReady=new l.vpe,this.s_loopFix=new l.vpe,this.s_momentumBounce=new l.vpe,this.s_navigationHide=new l.vpe,this.s_navigationShow=new l.vpe,this.s_navigationPrev=new l.vpe,this.s_navigationNext=new l.vpe,this.s_observerUpdate=new l.vpe,this.s_orientationchange=new l.vpe,this.s_paginationHide=new l.vpe,this.s_paginationRender=new l.vpe,this.s_paginationShow=new l.vpe,this.s_paginationUpdate=new l.vpe,this.s_progress=new l.vpe,this.s_reachBeginning=new l.vpe,this.s_reachEnd=new l.vpe,this.s_realIndexChange=new l.vpe,this.s_resize=new l.vpe,this.s_scroll=new l.vpe,this.s_scrollbarDragEnd=new l.vpe,this.s_scrollbarDragMove=new l.vpe,this.s_scrollbarDragStart=new l.vpe,this.s_setTransition=new l.vpe,this.s_setTranslate=new l.vpe,this.s_slideChange=new l.vpe,this.s_slideChangeTransitionEnd=new l.vpe,this.s_slideChangeTransitionStart=new l.vpe,this.s_slideNextTransitionEnd=new l.vpe,this.s_slideNextTransitionStart=new l.vpe,this.s_slidePrevTransitionEnd=new l.vpe,this.s_slidePrevTransitionStart=new l.vpe,this.s_slideResetTransitionStart=new l.vpe,this.s_slideResetTransitionEnd=new l.vpe,this.s_sliderMove=new l.vpe,this.s_sliderFirstMove=new l.vpe,this.s_slidesLengthChange=new l.vpe,this.s_slidesGridLengthChange=new l.vpe,this.s_snapGridLengthChange=new l.vpe,this.s_snapIndexChange=new l.vpe,this.s_tap=new l.vpe,this.s_toEdge=new l.vpe,this.s_touchEnd=new l.vpe,this.s_touchMove=new l.vpe,this.s_touchMoveOpposite=new l.vpe,this.s_touchStart=new l.vpe,this.s_transitionEnd=new l.vpe,this.s_transitionStart=new l.vpe,this.s_update=new l.vpe,this.s_zoomChange=new l.vpe,this.s_swiper=new l.vpe,this.s_lock=new l.vpe,this.s_unlock=new l.vpe,this._activeSlides=new is.x,this.containerClasses="swiper",this.slidesChanges=u=>{this.slides=u.map((p,v)=>(p.slideIndex=v,p.classNames=this.slideClass||"",p)),this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.virtual?this.swiperRef&&this.swiperRef.virtual&&this._ngZone.runOutsideAngular(()=>{this.swiperRef.virtual.slides=this.slides,this.swiperRef.virtual.update(!0)}):this.loopedSlides&&(this.prependSlides=ft(this.slides.slice(this.slides.length-this.loopedSlides)),this.appendSlides=ft(this.slides.slice(0,this.loopedSlides))),this._changeDetectorRef.detectChanges()},this.style=null,this.updateVirtualSlides=u=>{!this.swiperRef||this.currentVirtualData&&this.currentVirtualData.from===u.from&&this.currentVirtualData.to===u.to&&this.currentVirtualData.offset===u.offset||(this.style=this.swiperRef.isHorizontal()?{[this.swiperRef.rtlTranslate?"right":"left"]:`${u.offset}px`}:{top:`${u.offset}px`},this.currentVirtualData=u,this._activeSlides.next(u.slides),this._ngZone.run(()=>{this._changeDetectorRef.detectChanges()}),this._ngZone.runOutsideAngular(()=>{this.swiperRef.updateSlides(),this.swiperRef.updateProgress(),this.swiperRef.updateSlidesClasses(),fy(this.swiperRef.params.lazy)&&this.swiperRef.lazy.load(),this.swiperRef.virtual.update(!0)}))}}set navigation(n){var r,i,c;const u="boolean"!=typeof this._navigation&&""!==this._navigation?null===(r=this._navigation)||void 0===r?void 0:r.nextEl:null,p="boolean"!=typeof this._navigation&&""!==this._navigation?null===(i=this._navigation)||void 0===i?void 0:i.prevEl:null;this._navigation=kg(n,{nextEl:u||null,prevEl:p||null}),this.showNavigation=!(!0!==Rg(n)||this._navigation&&"boolean"!=typeof this._navigation&&this._navigation.prevEl!==(null===(c=this._prevElRef)||void 0===c?void 0:c.nativeElement)&&(null!==this._navigation.prevEl||null!==this._navigation.nextEl)&&("string"==typeof this._navigation.nextEl||"string"==typeof this._navigation.prevEl||"object"==typeof this._navigation.nextEl||"object"==typeof this._navigation.prevEl))}get navigation(){return this._navigation}set pagination(n){var r;const i="boolean"!=typeof this._pagination&&""!==this._pagination?null===(r=this._pagination)||void 0===r?void 0:r.el:null;this._pagination=kg(n,{el:i||null}),this.showPagination=rE(n,this._pagination,this._paginationElRef)}get pagination(){return this._pagination}set scrollbar(n){var r;const i="boolean"!=typeof this._scrollbar&&""!==this._scrollbar?null===(r=this._scrollbar)||void 0===r?void 0:r.el:null;this._scrollbar=kg(n,{el:i||null}),this.showScrollbar=rE(n,this._scrollbar,this._scrollbarElRef)}get scrollbar(){return this._scrollbar}set virtual(n){this._virtual=kg(n)}get virtual(){return this._virtual}set config(n){this.updateSwiper(n);const{params:r}=Ng(n);Object.assign(this,r)}set prevElRef(n){this._prevElRef=n,this._setElement(n,this.navigation,"navigation","prevEl")}set nextElRef(n){this._nextElRef=n,this._setElement(n,this.navigation,"navigation","nextEl")}set scrollbarElRef(n){this._scrollbarElRef=n,this._setElement(n,this.scrollbar,"scrollbar")}set paginationElRef(n){this._paginationElRef=n,this._setElement(n,this.pagination,"pagination")}get activeSlides(){return this.virtual?this._activeSlides:ft(this.slides)}get zoomContainerClass(){return this.zoom&&"boolean"!=typeof this.zoom?this.zoom.containerClass:"swiper-zoom-container"}_setElement(n,r,i,c="el"){if(!r||!n)return;if(n.nativeElement){if(r[c]===n.nativeElement)return;r[c]=n.nativeElement}const u={};u[i]=!0,this.updateInitSwiper(u)}ngOnInit(){const{params:n}=Ng(this);Object.assign(this,n)}ngAfterViewInit(){this.childrenSlidesInit(),this.initSwiper(),this._changeDetectorRef.detectChanges(),setTimeout(()=>{this.s_swiper.emit(this.swiperRef)})}childrenSlidesInit(){this.slidesChanges(this.slidesEl),this.slidesEl.changes.subscribe(this.slidesChanges)}get isSwiperActive(){return this.swiperRef&&!this.swiperRef.destroyed}initSwiper(){const{params:n}=Ng(this);Object.assign(this,n),this._ngZone.runOutsideAngular(()=>{n.init=!1,n.virtual||(n.observer=!0),n.onAny=(v,...y)=>{const E=this["s_"+v];E&&E.emit([...y])},Object.assign(n.on,{_containerClasses:(v,y)=>{setTimeout(()=>{this.containerClasses=y})},_slideClasses:(v,y)=>{y.forEach(({slideEl:E,classNames:C},x)=>{const P=E.getAttribute("data-swiper-slide-index"),N=P?parseInt(P):x;if(this.virtual){const O=this.slides.find(F=>F.virtualIndex&&F.virtualIndex===N);if(O)return void(O.classNames=C)}this.slides[N]&&(this.slides[N].classNames=C)}),this._changeDetectorRef.detectChanges()}});const u=new Wd(n);u.loopCreate=()=>{},u.loopDestroy=()=>{},n.loop&&(u.loopedSlides=this.loopedSlides);const p=fy(u.params.virtual);if(u.virtual&&p){u.virtual.slides=this.slides;const v={cache:!1,slides:this.slides,renderExternal:this.updateVirtualSlides,renderExternalUpdate:!1};sc(u.params.virtual,v),sc(u.originalParams.virtual,v)}if(function ed(t){return t===Oc}(this._platformId)){this.swiperRef=u.init(this.elementRef.nativeElement);const v=fy(this.swiperRef.params.virtual);this.swiperRef.virtual&&v&&this.swiperRef.virtual.update(!0),this._changeDetectorRef.detectChanges()}})}ngOnChanges(n){this.updateSwiper(n),this._changeDetectorRef.detectChanges()}updateInitSwiper(n){n&&this.swiperRef&&!this.swiperRef.destroyed&&this._ngZone.runOutsideAngular(()=>{const{pagination:i,navigation:c,scrollbar:u,thumbs:v}=this.swiperRef;n.pagination&&(this.pagination&&"boolean"!=typeof this.pagination&&this.pagination.el&&i&&!i.el?(this.updateParameter("pagination",this.pagination),i.init(),i.render(),i.update()):(i.destroy(),i.el=null)),n.scrollbar&&(this.scrollbar&&"boolean"!=typeof this.scrollbar&&this.scrollbar.el&&u&&!u.el?(this.updateParameter("scrollbar",this.scrollbar),u.init(),u.updateSize(),u.setTranslate()):(u.destroy(),u.el=null)),n.navigation&&(this.navigation&&"boolean"!=typeof this.navigation&&this.navigation.prevEl&&this.navigation.nextEl&&c&&!c.prevEl&&!c.nextEl?(this.updateParameter("navigation",this.navigation),c.init(),c.update()):c.prevEl&&c.nextEl&&(c.destroy(),c.nextEl=null,c.prevEl=null)),n.thumbs&&this.thumbs&&this.thumbs.swiper&&(this.updateParameter("thumbs",this.thumbs),v.init()&&v.update(!0)),n.controller&&this.controller&&this.controller.control&&(this.swiperRef.controller.control=this.controller.control),this.swiperRef.update()})}updateSwiper(n){this._ngZone.runOutsideAngular(()=>{var r,i;if(!n.config&&n&&this.swiperRef&&!this.swiperRef.destroyed){for(const c in n){if(hT.indexOf(c)>=0)continue;const u=null!==(i=null===(r=n[c])||void 0===r?void 0:r.currentValue)&&void 0!==i?i:n[c];this.updateParameter(c,u)}n.allowSlideNext&&(this.swiperRef.allowSlideNext=this.allowSlideNext),n.allowSlidePrev&&(this.swiperRef.allowSlidePrev=this.allowSlidePrev),n.direction&&this.swiperRef.changeDirection(this.direction,!1),n.breakpoints&&(this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.swiperRef.currentBreakpoint=null,this.swiperRef.setBreakpoint()),(n.thumbs||n.controller)&&this.updateInitSwiper(n),this.swiperRef.update()}})}calcLoopedSlides(){if(!this.loop)return!1;let n=this.slidesPerView;if(this.breakpoints){const i=Wd.prototype.getBreakpoint(this.breakpoints),c=i in this.breakpoints?this.breakpoints[i]:void 0;c&&c.slidesPerView&&(n=c.slidesPerView)}if("auto"===n)return this.loopedSlides=this.slides.length,this.slides.length;let r=this.loopedSlides||n;return!!r&&(this.loopAdditionalSlides&&(r+=this.loopAdditionalSlides),r>this.slides.length&&(r=this.slides.length),this.loopedSlides=r,!0)}updateParameter(n,r){if(!this.swiperRef||this.swiperRef.destroyed)return;const i=n.replace(/^_/,""),c=Kd(this.swiperRef.params[i]);"enabled"!==i?c&&Kd(r)?sc(this.swiperRef.params[i],r):this.swiperRef.params[i]=r:!0===r?this.swiperRef.enable():!1===r&&this.swiperRef.disable()}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{var n;null===(n=this.swiperRef)||void 0===n||n.destroy(!0,!1)})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.Lbi))},t.\u0275cmp=l.Xpm({type:t,selectors:[["swiper"],["","swiper",""]],contentQueries:function(n,r,i){if(1&n&&l.Suo(i,Lg,4),2&n){let c;l.iGM(c=l.CRH())&&(r.slidesEl=c)}},viewQuery:function(n,r){if(1&n&&(l.Gf(Gb,5),l.Gf(Pg,5),l.Gf(tT,5),l.Gf(qb,5)),2&n){let i;l.iGM(i=l.CRH())&&(r.prevElRef=i.first),l.iGM(i=l.CRH())&&(r.nextElRef=i.first),l.iGM(i=l.CRH())&&(r.scrollbarElRef=i.first),l.iGM(i=l.CRH())&&(r.paginationElRef=i.first)}},hostVars:2,hostBindings:function(n,r){2&n&&l.Tol(r.containerClasses)},inputs:{enabled:"enabled",on:"on",direction:"direction",touchEventsTarget:"touchEventsTarget",initialSlide:"initialSlide",speed:"speed",cssMode:"cssMode",updateOnWindowResize:"updateOnWindowResize",resizeObserver:"resizeObserver",nested:"nested",focusableElements:"focusableElements",width:"width",height:"height",preventInteractionOnTransition:"preventInteractionOnTransition",userAgent:"userAgent",url:"url",edgeSwipeDetection:"edgeSwipeDetection",edgeSwipeThreshold:"edgeSwipeThreshold",freeMode:"freeMode",autoHeight:"autoHeight",setWrapperSize:"setWrapperSize",virtualTranslate:"virtualTranslate",effect:"effect",breakpoints:"breakpoints",spaceBetween:"spaceBetween",slidesPerView:"slidesPerView",maxBackfaceHiddenSlides:"maxBackfaceHiddenSlides",grid:"grid",slidesPerGroup:"slidesPerGroup",slidesPerGroupSkip:"slidesPerGroupSkip",centeredSlides:"centeredSlides",centeredSlidesBounds:"centeredSlidesBounds",slidesOffsetBefore:"slidesOffsetBefore",slidesOffsetAfter:"slidesOffsetAfter",normalizeSlideIndex:"normalizeSlideIndex",centerInsufficientSlides:"centerInsufficientSlides",watchOverflow:"watchOverflow",roundLengths:"roundLengths",touchRatio:"touchRatio",touchAngle:"touchAngle",simulateTouch:"simulateTouch",shortSwipes:"shortSwipes",longSwipes:"longSwipes",longSwipesRatio:"longSwipesRatio",longSwipesMs:"longSwipesMs",followFinger:"followFinger",allowTouchMove:"allowTouchMove",threshold:"threshold",touchMoveStopPropagation:"touchMoveStopPropagation",touchStartPreventDefault:"touchStartPreventDefault",touchStartForcePreventDefault:"touchStartForcePreventDefault",touchReleaseOnEdges:"touchReleaseOnEdges",uniqueNavElements:"uniqueNavElements",resistance:"resistance",resistanceRatio:"resistanceRatio",watchSlidesProgress:"watchSlidesProgress",grabCursor:"grabCursor",preventClicks:"preventClicks",preventClicksPropagation:"preventClicksPropagation",slideToClickedSlide:"slideToClickedSlide",preloadImages:"preloadImages",updateOnImagesReady:"updateOnImagesReady",loop:"loop",loopAdditionalSlides:"loopAdditionalSlides",loopedSlides:"loopedSlides",loopedSlidesLimit:"loopedSlidesLimit",loopFillGroupWithBlank:"loopFillGroupWithBlank",loopPreventsSlide:"loopPreventsSlide",rewind:"rewind",allowSlidePrev:"allowSlidePrev",allowSlideNext:"allowSlideNext",swipeHandler:"swipeHandler",noSwiping:"noSwiping",noSwipingClass:"noSwipingClass",noSwipingSelector:"noSwipingSelector",passiveListeners:"passiveListeners",containerModifierClass:"containerModifierClass",slideClass:"slideClass",slideBlankClass:"slideBlankClass",slideActiveClass:"slideActiveClass",slideDuplicateActiveClass:"slideDuplicateActiveClass",slideVisibleClass:"slideVisibleClass",slideDuplicateClass:"slideDuplicateClass",slideNextClass:"slideNextClass",slideDuplicateNextClass:"slideDuplicateNextClass",slidePrevClass:"slidePrevClass",slideDuplicatePrevClass:"slideDuplicatePrevClass",wrapperClass:"wrapperClass",runCallbacksOnInit:"runCallbacksOnInit",observeParents:"observeParents",observeSlideChildren:"observeSlideChildren",a11y:"a11y",autoplay:"autoplay",controller:"controller",coverflowEffect:"coverflowEffect",cubeEffect:"cubeEffect",fadeEffect:"fadeEffect",flipEffect:"flipEffect",creativeEffect:"creativeEffect",cardsEffect:"cardsEffect",hashNavigation:"hashNavigation",history:"history",keyboard:"keyboard",lazy:"lazy",mousewheel:"mousewheel",parallax:"parallax",thumbs:"thumbs",zoom:"zoom",slidesPerGroupAuto:"slidesPerGroupAuto",class:"class",id:"id",navigation:"navigation",pagination:"pagination",scrollbar:"scrollbar",virtual:"virtual",config:"config"},outputs:{s__beforeBreakpoint:"_beforeBreakpoint",s__containerClasses:"_containerClasses",s__slideClass:"_slideClass",s__swiper:"_swiper",s_activeIndexChange:"activeIndexChange",s_afterInit:"afterInit",s_autoplay:"autoplay",s_autoplayStart:"autoplayStart",s_autoplayStop:"autoplayStop",s_autoplayPause:"autoplayPause",s_autoplayResume:"autoplayResume",s_beforeDestroy:"beforeDestroy",s_beforeInit:"beforeInit",s_beforeLoopFix:"beforeLoopFix",s_beforeResize:"beforeResize",s_beforeSlideChangeStart:"beforeSlideChangeStart",s_beforeTransitionStart:"beforeTransitionStart",s_breakpoint:"breakpoint",s_changeDirection:"changeDirection",s_click:"click",s_doubleTap:"doubleTap",s_doubleClick:"doubleClick",s_destroy:"destroy",s_fromEdge:"fromEdge",s_hashChange:"hashChange",s_hashSet:"hashSet",s_imagesReady:"imagesReady",s_init:"init",s_keyPress:"keyPress",s_lazyImageLoad:"lazyImageLoad",s_lazyImageReady:"lazyImageReady",s_loopFix:"loopFix",s_momentumBounce:"momentumBounce",s_navigationHide:"navigationHide",s_navigationShow:"navigationShow",s_navigationPrev:"navigationPrev",s_navigationNext:"navigationNext",s_observerUpdate:"observerUpdate",s_orientationchange:"orientationchange",s_paginationHide:"paginationHide",s_paginationRender:"paginationRender",s_paginationShow:"paginationShow",s_paginationUpdate:"paginationUpdate",s_progress:"progress",s_reachBeginning:"reachBeginning",s_reachEnd:"reachEnd",s_realIndexChange:"realIndexChange",s_resize:"resize",s_scroll:"scroll",s_scrollbarDragEnd:"scrollbarDragEnd",s_scrollbarDragMove:"scrollbarDragMove",s_scrollbarDragStart:"scrollbarDragStart",s_setTransition:"setTransition",s_setTranslate:"setTranslate",s_slideChange:"slideChange",s_slideChangeTransitionEnd:"slideChangeTransitionEnd",s_slideChangeTransitionStart:"slideChangeTransitionStart",s_slideNextTransitionEnd:"slideNextTransitionEnd",s_slideNextTransitionStart:"slideNextTransitionStart",s_slidePrevTransitionEnd:"slidePrevTransitionEnd",s_slidePrevTransitionStart:"slidePrevTransitionStart",s_slideResetTransitionStart:"slideResetTransitionStart",s_slideResetTransitionEnd:"slideResetTransitionEnd",s_sliderMove:"sliderMove",s_sliderFirstMove:"sliderFirstMove",s_slidesLengthChange:"slidesLengthChange",s_slidesGridLengthChange:"slidesGridLengthChange",s_snapGridLengthChange:"snapGridLengthChange",s_snapIndexChange:"snapIndexChange",s_tap:"tap",s_toEdge:"toEdge",s_touchEnd:"touchEnd",s_touchMove:"touchMove",s_touchMoveOpposite:"touchMoveOpposite",s_touchStart:"touchStart",s_transitionEnd:"transitionEnd",s_transitionStart:"transitionStart",s_update:"update",s_zoomChange:"zoomChange",s_swiper:"swiper",s_lock:"lock",s_unlock:"unlock"},features:[l.TTD],ngContentSelectors:dT,decls:13,vars:17,consts:[[4,"ngIf"],["class","swiper-scrollbar",4,"ngIf"],["class","swiper-pagination",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["slidesTemplate",""],[1,"swiper-button-prev"],["prevElRef",""],[1,"swiper-button-next"],["nextElRef",""],[1,"swiper-scrollbar"],["scrollbarElRef",""],[1,"swiper-pagination"],["paginationElRef",""],[3,"ngClass","style","ngSwitch",4,"ngFor","ngForOf"],[3,"ngClass","ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){if(1&n&&(l.F$t(aT),l.Hsn(0),l.YNc(1,Wb,5,0,"ng-container",0),l.YNc(2,dy,2,0,"div",1),l.YNc(3,Og,2,0,"div",2),l.TgZ(4,"div",3),l.Hsn(5,1),l.YNc(6,Yb,1,0,null,4),l.YNc(7,Xb,1,0,null,4),l.YNc(8,eE,1,0,null,4),l.Hsn(9,2),l.qZA(),l.Hsn(10,3),l.YNc(11,oT,2,3,"ng-template",null,5,l.W1O)),2&n){const i=l.MAs(12);l.xp6(1),l.Q6J("ngIf",r.navigation&&r.showNavigation),l.xp6(1),l.Q6J("ngIf",r.scrollbar&&r.showScrollbar),l.xp6(1),l.Q6J("ngIf",r.pagination&&r.showPagination),l.xp6(1),l.Q6J("ngClass",r.wrapperClass),l.uIk("id",r.id),l.xp6(2),l.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",l.VKq(11,lT,r.prependSlides)),l.xp6(1),l.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",l.VKq(13,cT,r.activeSlides)),l.xp6(1),l.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",l.VKq(15,uT,r.appendSlides))}},dependencies:[wi,Ht,Ui,dr,Ja,Ci,_r,Pr],styles:["swiper{display:block}\n"],encapsulation:2,changeDetection:0}),t})(),iE=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[el]]}),t})();function sE(t,e){if(1&t&&l._UZ(0,"img",3),2&t){const n=l.oxw().$implicit;l.MGl("src","assets/imageSliders/",n,".webp",l.LSH),l.s9C("alt",n)}}function oE(t,e){1&t&&l.YNc(0,sE,1,2,"ng-template",2)}const aE=function(){return{delay:2500,disableOnInteraction:!1}};Wd.use([function jb({swiper:t,extendParams:e,on:n,emit:r}){let i;function c(){if(!t.size)return t.autoplay.running=!1,void(t.autoplay.paused=!1);const O=t.slides.eq(t.activeIndex);let F=t.params.autoplay.delay;O.attr("data-swiper-autoplay")&&(F=O.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(i),i=Cs(()=>{let z;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),z=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?p():(z=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(z=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),z=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?p():(z=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(z=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||!1===z)&&c()},F)}function u(){return!(typeof i<"u"||t.autoplay.running||(t.autoplay.running=!0,r("autoplayStart"),c(),0))}function p(){return!(!t.autoplay.running||typeof i>"u"||(i&&(clearTimeout(i),i=void 0),t.autoplay.running=!1,r("autoplayStop"),0))}function v(O){t.autoplay.running&&(t.autoplay.paused||(i&&clearTimeout(i),t.autoplay.paused=!0,0!==O&&t.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(F=>{t.$wrapperEl[0].addEventListener(F,E)}):(t.autoplay.paused=!1,c())))}function y(){const O=mr();"hidden"===O.visibilityState&&t.autoplay.running&&v(),"visible"===O.visibilityState&&t.autoplay.paused&&(c(),t.autoplay.paused=!1)}function E(O){!t||t.destroyed||!t.$wrapperEl||O.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(F=>{t.$wrapperEl[0].removeEventListener(F,E)}),t.autoplay.paused=!1,t.autoplay.running?c():p())}function C(){t.params.autoplay.disableOnInteraction?p():(r("autoplayPause"),v()),["transitionend","webkitTransitionEnd"].forEach(O=>{t.$wrapperEl[0].removeEventListener(O,E)})}function x(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),c())}t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),n("init",()=>{t.params.autoplay.enabled&&(u(),mr().addEventListener("visibilitychange",y),function P(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",C),t.$el.on("mouseleave",x))}())}),n("beforeTransitionStart",(O,F,z)=>{t.autoplay.running&&(z||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(F):p())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?p():v())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&c()}),n("destroy",()=>{(function N(){t.$el.off("mouseenter",C),t.$el.off("mouseleave",x)})(),t.autoplay.running&&p(),mr().removeEventListener("visibilitychange",y)}),Object.assign(t.autoplay,{pause:v,run:c,start:u,stop:p})},function Mx({swiper:t,extendParams:e,on:n,emit:r}){function i(P){let N;return P&&(N=En(P),t.params.uniqueNavElements&&"string"==typeof P&&N.length>1&&1===t.$el.find(P).length&&(N=t.$el.find(P))),N}function c(P,N){const O=t.params.navigation;P&&P.length>0&&(P[N?"addClass":"removeClass"](O.disabledClass),P[0]&&"BUTTON"===P[0].tagName&&(P[0].disabled=N),t.params.watchOverflow&&t.enabled&&P[t.isLocked?"addClass":"removeClass"](O.lockClass))}function u(){if(t.params.loop)return;const{$nextEl:P,$prevEl:N}=t.navigation;c(N,t.isBeginning&&!t.params.rewind),c(P,t.isEnd&&!t.params.rewind)}function p(P){P.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function v(P){P.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function y(){const P=t.params.navigation;if(t.params.navigation=function Bb(t,e,n,r){const i=mr();return t.params.createElements&&Object.keys(r).forEach(c=>{if(!n[c]&&!0===n.auto){let u=t.$el.children(`.${r[c]}`)[0];u||(u=i.createElement("div"),u.className=r[c],t.$el.append(u)),n[c]=u,e[c]=u}}),n}(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!P.nextEl&&!P.prevEl)return;const N=i(P.nextEl),O=i(P.prevEl);N&&N.length>0&&N.on("click",v),O&&O.length>0&&O.on("click",p),Object.assign(t.navigation,{$nextEl:N,nextEl:N&&N[0],$prevEl:O,prevEl:O&&O[0]}),t.enabled||(N&&N.addClass(P.lockClass),O&&O.addClass(P.lockClass))}function E(){const{$nextEl:P,$prevEl:N}=t.navigation;P&&P.length&&(P.off("click",v),P.removeClass(t.params.navigation.disabledClass)),N&&N.length&&(N.off("click",p),N.removeClass(t.params.navigation.disabledClass))}e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},n("init",()=>{!1===t.params.navigation.enabled?x():(y(),u())}),n("toEdge fromEdge lock unlock",()=>{u()}),n("destroy",()=>{E()}),n("enable disable",()=>{const{$nextEl:P,$prevEl:N}=t.navigation;P&&P[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),N&&N[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(P,N)=>{const{$nextEl:O,$prevEl:F}=t.navigation,z=N.target;if(t.params.navigation.hideOnClick&&!En(z).is(F)&&!En(z).is(O)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===z||t.pagination.el.contains(z)))return;let Z;O?Z=O.hasClass(t.params.navigation.hiddenClass):F&&(Z=F.hasClass(t.params.navigation.hiddenClass)),r(!0===Z?"navigationShow":"navigationHide"),O&&O.toggleClass(t.params.navigation.hiddenClass),F&&F.toggleClass(t.params.navigation.hiddenClass)}});const x=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),E()};Object.assign(t.navigation,{enable:()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),y(),u()},disable:x,update:u,init:y,destroy:E})}]);class Yd{constructor(){this.slidesImages=["slide-1","slide-2","slide-3","slide-5","slide-6","slide-7","slide-8"]}}Yd.\u0275fac=function(e){return new(e||Yd)},Yd.\u0275cmp=l.Xpm({type:Yd,selectors:[["app-auto-slider"]],decls:2,vars:6,consts:[[1,"myAutoSwiper","shadow",3,"spaceBetween","centeredSlides","autoplay","navigation"],[4,"ngFor","ngForOf"],["swiperSlide",""],[1,"img-slide",3,"src","alt"]],template:function(e,n){1&e&&(l.TgZ(0,"swiper",0),l.YNc(1,oE,1,0,null,1),l.qZA()),2&e&&(l.Q6J("spaceBetween",30)("centeredSlides",!0)("autoplay",l.DdM(5,aE))("navigation",!0),l.xp6(1),l.Q6J("ngForOf",n.slidesImages))},dependencies:[dr,py,Lg],styles:[".myAutoSwiper{width:100%;height:370px}.myAutoSwiper .swiper-slide{text-align:center;font-size:18px;background:#1e1f1f;display:flex;justify-content:center;align-items:center}.myAutoSwiper .swiper-button-next:after,.myAutoSwiper .swiper-button-prev:after{font-size:35px;font-weight:700;color:#202020b3}.myAutoSwiper .img-slide{display:block;width:100%;position:relative;top:90px}@media (max-width: 991px){.img-slide{top:20px!important}}@media (max-width: 767px){.myAutoSwiper{height:260px}.myAutoSwiper .img-slide{top:40px!important}}@media (max-width: 576px){.img-slide{top:0!important}.myAutoSwiper{height:200px}}@media (max-width: 400px){.myAutoSwiper{height:170px}}\n"],encapsulation:2});var lE=V(4986),Qr=V(2122);function Za(){return(0,fi.e)((t,e)=>{let n,r=!1;t.subscribe((0,Oe.x)(e,i=>{const c=n;n=i,r&&e.next([c,i]),r=!0}))})}function gT(t,e){return t===e}var It,Pi=V(2011),gy=(V(750),V(3942)),Pe=V(5861),oc=V(9681),$f=V(4859),Au=V(1877),nt=V(2090),mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},za={},ac=ac||{},Yt=mT||self;function Mu(){}function Pu(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Fn(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Fg="closure_uid_"+(1e9*Math.random()>>>0),cE=0;function vT(t,e,n){return t.call.apply(t.bind,arguments)}function uE(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function vi(t,e,n){return(vi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vT:uE).apply(null,arguments)}function Uf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Xr(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,c){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return e.prototype[i].apply(r,u)}}function lc(){this.s=this.s,this.o=this.o}lc.prototype.s=!1,lc.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Lx(t){Object.prototype.hasOwnProperty.call(t,Fg)&&t[Fg]||(t[Fg]=++cE)}(this)},lc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ou(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function hE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Pu(r)){const i=t.length||0,c=r.length||0;t.length=i+c;for(let u=0;u<c;u++)t[i+u]=r[u]}else t.push(r)}}function Oi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Oi.prototype.h=function(){this.defaultPrevented=!0};var _T=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Yt.addEventListener("test",Mu,e),Yt.removeEventListener("test",Mu,e)}catch{}return t}();function Ru(t){return/^[\s\xa0]*$/.test(t)}var my=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $g(t,e){return t<e?-1:t>e?1:0}function Vf(){var t=Yt.navigator;return t&&(t=t.userAgent)?t:""}function Qo(t){return-1!=Vf().indexOf(t)}function ku(t){return ku[" "](t),t}ku[" "]=Mu;var jf,t,bT=Qo("Opera"),Qd=Qo("Trident")||Qo("MSIE"),fE=Qo("Edge"),Ug=fE||Qd,vy=Qo("Gecko")&&!(-1!=Vf().toLowerCase().indexOf("webkit")&&!Qo("Edge"))&&!(Qo("Trident")||Qo("MSIE"))&&!Qo("Edge"),pE=-1!=Vf().toLowerCase().indexOf("webkit")&&!Qo("Edge");function gE(){var t=Yt.document;return t?t.documentMode:void 0}e:{var yy="",_y=(t=Vf(),vy?/rv:([^\);]+)(\)|;)/.exec(t):fE?/Edge\/([\d\.]+)/.exec(t):Qd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):pE?/WebKit\/(\S+)/.exec(t):bT?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(_y&&(yy=_y?_y[1]:""),Qd){var mE=gE();if(null!=mE&&mE>parseFloat(yy)){jf=String(mE);break e}}jf=yy}var Fx={};var Vg=Yt.document&&Qd&&(gE()||parseInt(jf,10))||void 0;function Hf(t,e){if(Oi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(vy){e:{try{ku(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ET[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Hf.X.h.call(this)}}Xr(Hf,Oi);var ET={2:"touch",3:"pen",4:"mouse"};Hf.prototype.h=function(){Hf.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xd="closure_listenable_"+(1e6*Math.random()|0),Zf=0;function wT(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++Zf,this.ba=this.ea=!1}function Bg(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Ey(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function yE(t){const e={};for(const n in t)e[n]=t[n];return e}const CT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _E(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let c=0;c<CT.length;c++)n=CT[c],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zf(t){this.src=t,this.g={},this.h=0}function wy(t,e){var n=e.type;if(n in t.g){var c,r=t.g[n],i=dE(r,e);(c=0<=i)&&Array.prototype.splice.call(r,i,1),c&&(Bg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Cy(t,e,n,r){for(var i=0;i<t.length;++i){var c=t[i];if(!c.ba&&c.listener==e&&c.capture==!!n&&c.ha==r)return i}return-1}zf.prototype.add=function(t,e,n,r,i){var c=t.toString();(t=this.g[c])||(t=this.g[c]=[],this.h++);var u=Cy(t,e,r,i);return-1<u?(e=t[u],n||(e.ea=!1)):((e=new wT(e,this.src,c,!!r,i)).ea=n,t.push(e)),e};var Nu="closure_lm_"+(1e6*Math.random()|0),Iy={};function Ty(t,e,n,r,i){if(r&&r.once)return wE(t,e,n,r,i);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ty(t,e[c],n,r,i);return null}return n=xy(n),t&&t[Xd]?t.N(e,n,Fn(r)?!!r.capture:!!r,i):bE(t,e,n,!1,r,i)}function bE(t,e,n,r,i,c){if(!e)throw Error("Invalid event type");var u=Fn(i)?!!i.capture:!!i,p=Hg(t);if(p||(t[Nu]=p=new zf(t)),(n=p.add(e,n,r,u,c)).proxy)return n;if(r=function EE(){const e=IT;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_T||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jg(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wE(t,e,n,r,i){if(Array.isArray(e)){for(var c=0;c<e.length;c++)wE(t,e[c],n,r,i);return null}return n=xy(n),t&&t[Xd]?t.O(e,n,Fn(r)?!!r.capture:!!r,i):bE(t,e,n,!0,r,i)}function Sy(t,e,n,r,i){if(Array.isArray(e))for(var c=0;c<e.length;c++)Sy(t,e[c],n,r,i);else r=Fn(r)?!!r.capture:!!r,n=xy(n),t&&t[Xd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Cy(c=t.g[e],n,r,i))&&(Bg(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete t.g[e],t.h--))):t&&(t=Hg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Cy(e,n,r,i)),(n=-1<t?e[t]:null)&&Dy(n))}function Dy(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Xd])wy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jg(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hg(e))?(wy(n,t),0==n.h&&(n.src=null,e[Nu]=null)):Bg(t)}}}function jg(t){return t in Iy?Iy[t]:Iy[t]="on"+t}function IT(t,e){if(t.ba)t=!0;else{e=new Hf(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Dy(t),t=n.call(r,e)}return t}function Hg(t){return(t=t[Nu])instanceof zf?t:null}var Zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function xy(t){return"function"==typeof t?t:(t[Zg]||(t[Zg]=function(e){return t.handleEvent(e)}),t[Zg])}function Jr(){lc.call(this),this.i=new zf(this),this.P=this,this.I=null}function yi(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Oi(e,t);else if(e instanceof Oi)e.target=e.target||t;else{var i=e;_E(e=new Oi(r,t),i)}if(i=!0,n)for(var c=n.length-1;0<=c;c--){var u=e.g=n[c];i=Jd(u,r,!0,e)&&i}if(i=Jd(u=e.g=t,r,!0,e)&&i,i=Jd(u,r,!1,e)&&i,n)for(c=0;c<n.length;c++)i=Jd(u=e.g=n[c],r,!1,e)&&i}function Jd(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,c=0;c<e.length;++c){var u=e[c];if(u&&!u.ba&&u.capture==n){var p=u.listener,v=u.ha||u.src;u.ea&&wy(t.i,u),i=!1!==p.call(v,r)&&i}}return i&&!r.defaultPrevented}Xr(Jr,lc),Jr.prototype[Xd]=!0,Jr.prototype.removeEventListener=function(t,e,n,r){Sy(this,t,e,n,r)},Jr.prototype.M=function(){if(Jr.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bg(n[r]);delete t.g[e],t.h--}}this.I=null},Jr.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Jr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ay=Yt.JSON.stringify;function CE(){var t=Oy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var My,IE=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ST,t=>t.reset());class ST{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function DT(t){Yt.setTimeout(()=>{throw t},0)}function TE(t,e){My||function xT(){var t=Yt.Promise.resolve(void 0);My=function(){t.then(SE)}}(),Py||(My(),Py=!0),Oy.add(t,e)}var Py=!1,Oy=new class TT{constructor(){this.h=this.g=null}add(e,n){const r=IE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function SE(){for(var t;t=CE();){try{t.h.call(t.g)}catch(n){DT(n)}var e=IE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Py=!1}function zg(t,e){Jr.call(this),this.h=t||1,this.g=e||Yt,this.j=vi(this.lb,this),this.l=Date.now()}function Ry(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function Gg(t,e,n){if("function"==typeof t)n&&(t=vi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=vi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Yt.setTimeout(t,e||0)}function DE(t){t.g=Gg(()=>{t.g=null,t.i&&(t.i=!1,DE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Xr(zg,Jr),(It=zg.prototype).ca=!1,It.R=null,It.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),yi(this,"tick"),this.ca&&(Ry(this),this.start()))}},It.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.M=function(){zg.X.M.call(this),Ry(this),delete this.g};class AT extends lc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:DE(this)}M(){super.M(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gf(t){lc.call(this),this.h=t,this.g={}}Xr(Gf,lc);var qg=[];function Wg(t,e,n,r){Array.isArray(n)||(n&&(qg[0]=n.toString()),n=qg);for(var i=0;i<n.length;i++){var c=Ty(e,n[i],r||t.handleEvent,!1,t.h||t);if(!c)break;t.g[c.key]=c}}function ky(t){Ey(t.g,function(e,n){this.g.hasOwnProperty(n)&&Dy(e)},t),t.g={}}function eh(){this.g=!0}function cc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function RT(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var c=i[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var u=1;u<i.length;u++)i[u]=""}}}return Ay(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Gf.prototype.M=function(){Gf.X.M.call(this),ky(this)},Gf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eh.prototype.Aa=function(){this.g=!1},eh.prototype.info=function(){};var Bs={},Ny=null;function Kg(){return Ny=Ny||new Jr}function kT(t){Oi.call(this,Bs.Pa,t)}function th(t){const e=Kg();yi(e,new kT(e))}function Yg(t,e){Oi.call(this,Bs.STAT_EVENT,t),this.stat=e}function qi(t){const e=Kg();yi(e,new Yg(e,t))}function Qg(t,e){Oi.call(this,Bs.Qa,t),this.size=e}function qf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){t()},e)}Bs.Pa="serverreachability",Xr(kT,Oi),Bs.STAT_EVENT="statevent",Xr(Yg,Oi),Bs.Qa="timingevent",Xr(Qg,Oi);var Wf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Xg={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Jg(){}function Fy(){}Jg.prototype.h=null;var Vy,nh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function $y(){Oi.call(this,"d")}function Uy(){Oi.call(this,"c")}function em(){}function rh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Gf(this),this.O=xE,this.T=new zg(t=Ug?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new NT}function NT(){this.i=null,this.g="",this.h=!1}Xr($y,Oi),Xr(Uy,Oi),Xr(em,Jg),em.prototype.g=function(){return new XMLHttpRequest},em.prototype.i=function(){return{}},Vy=new em;var xE=45e3,By={},tm={};function AE(t,e,n){t.K=1,t.v=Jf(Xo(e)),t.s=n,t.P=!0,ME(t,null)}function ME(t,e){t.F=Date.now(),Kf(t),t.A=Xo(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),$E(n.i,"t",r),t.C=0,n=t.l.H,t.h=new NT,t.g=n_(t.l,n?e:null,!t.s),0<t.N&&(t.L=new AT(vi(t.La,t,t.g),t.N)),Wg(t.S,t.g,"readystatechange",t.ib),e=t.H?yE(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),th(),function MT(t,e,n,r,i,c){t.info(function(){if(t.g)if(c)for(var u="",p=c.split("&"),v=0;v<p.length;v++){var y=p[v].split("=");if(1<y.length){var E=y[0];y=y[1];var C=E.split("_");u=2<=C.length&&"type"==C[1]?u+(E+"=")+y+"&":u+(E+"=redacted&")}}else u=null;else u=c;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+u})}(t.j,t.u,t.A,t.m,t.U,t.s)}function PE(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function jy(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=OE(t,n),i==tm){4==e&&(t.o=4,qi(14),r=!1),cc(t.j,t.m,null,"[Incomplete Response]");break}if(i==By){t.o=4,qi(15),cc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}cc(t.j,t.m,i,null),Hy(t,i)}PE(t)&&i!=tm&&i!=By&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,qi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),hh(e),e.K=!0,qi(11))):(cc(t.j,t.m,n,"[Invalid Chunked Response]"),Lu(t),Yf(t))}function OE(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?tm:(n=Number(e.substring(n,r)),isNaN(n)?By:(r+=1)+n>e.length?tm:(e=e.substr(r,n),t.C=r+n,e))}function Kf(t){t.V=Date.now()+t.O,RE(t,t.O)}function RE(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=qf(vi(t.gb,t),e)}function nm(t){t.B&&(Yt.clearTimeout(t.B),t.B=null)}function Yf(t){0==t.l.G||t.I||t_(t.l,t)}function Lu(t){nm(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Ry(t.T),ky(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Hy(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ip(n.h,t)))if(!t.J&&ip(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;e_(n),dh(n)}gm(n),qi(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=qf(vi(n.cb,n),6e3));if(1>=qy(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else dc(n,11)}else if((t.J||n.g==t)&&e_(n),!Ru(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let y=i[e];if(n.T=y[0],y=y[1],2==n.G)if("c"==y[0]){n.I=y[1],n.ka=y[2];const E=y[3];null!=E&&(n.ma=E,n.j.info("VER="+n.ma));const C=y[4];null!=C&&(n.Ca=C,n.j.info("SVER="+n.Ca));const x=y[5];null!=x&&"number"==typeof x&&0<x&&(n.J=r=1.5*x,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const P=t.g;if(P){const N=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var c=r.h;c.g||-1==N.indexOf("spdy")&&-1==N.indexOf("quic")&&-1==N.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(sm(c,c.h),c.h=null))}if(r.D){const O=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;O&&(r.za=O,Yn(r.F,r.D,O))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var u=t;if((r=n).sa=WE(r,r.H?r.ka:null,r.V),u.J){om(r.h,u);var p=u,v=r.J;v&&p.setTimeout(v),p.B&&(nm(p),Kf(p)),r.g=u}else Jy(r);0<n.i.length&&op(n)}else"stop"!=y[0]&&"close"!=y[0]||dc(n,7);else 3==n.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?dc(n,7):Xy(n):"noop"!=y[0]&&n.l&&n.l.wa(y),n.A=0)}th()}catch{}}function ih(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Pu(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function FT(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Pu(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function LT(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Pu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,c=0;c<i;c++)e.call(void 0,r[c],n&&n[c],t)}(It=rh.prototype).setTimeout=function(t){this.O=t},It.ib=function(t){t=t.target;const e=this.L;e&&3==qa(t)?e.l():this.La(t)},It.La=function(t){try{if(t==this.g)e:{const E=qa(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>E)&&(3!=E||Ug||this.g&&(this.h.h||this.g.fa()||HT(this.g)))){this.I||4!=E||7==e||th(),nm(this);var n=this.g.aa();this.Y=n;t:if(PE(this)){var r=HT(this.g);t="";var i=r.length,c=4==qa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Lu(this),Yf(this);var u="";break t}this.h.i=new Yt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:c&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==n,function PT(t,e,n,r,i,c,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+c+" "+u})}(this.j,this.u,this.A,this.m,this.U,E,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ru(p)){var y=p;break t}}y=null}if(!(n=y)){this.i=!1,this.o=3,qi(12),Lu(this),Yf(this);break e}cc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hy(this,n)}this.P?(jy(this,E,u),Ug&&this.i&&3==E&&(Wg(this.S,this.T,"tick",this.hb),this.T.start())):(cc(this.j,this.m,u,null),Hy(this,u)),4==E&&Lu(this),this.i&&!this.I&&(4==E?t_(this.l,this):(this.i=!1,Kf(this)))}else 400==n&&0<u.indexOf("Unknown SID")?(this.o=3,qi(12)):(this.o=0,qi(13)),Lu(this),Yf(this)}}}catch{}},It.hb=function(){if(this.g){var t=qa(this.g),e=this.g.fa();this.C<e.length&&(nm(this),jy(this,t,e),this.i&&4!=t&&Kf(this))}},It.cancel=function(){this.I=!0,Lu(this)},It.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function OT(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(th(),qi(17)),Lu(this),this.o=2,Yf(this)):RE(this,this.V-t)};var Zy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uc(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof uc){this.h=void 0!==e?e:t.h,Qf(this,t.j),this.s=t.s,this.g=t.g,Xf(this,t.m),this.l=t.l,e=t.i;var n=new rp;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),NE(this,n),this.o=t.o}else t&&(n=String(t).match(Zy))?(this.h=!!e,Qf(this,n[1]||"",!0),this.s=ep(n[2]||""),this.g=ep(n[3]||"",!0),Xf(this,n[4]),this.l=ep(n[5]||"",!0),NE(this,n[6]||"",!0),this.o=ep(n[7]||"")):(this.h=!!e,this.i=new rp(null,this.h))}function Xo(t){return new uc(t)}function Qf(t,e,n){t.j=n?ep(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function NE(t,e,n){e instanceof rp?(t.i=e,function rm(t,e){e&&!t.j&&(ea(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(sh(this,r),$E(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=tp(e,zy)),t.i=new rp(e,t.h))}function Yn(t,e,n){t.i.set(e,n)}function Jf(t){return Yn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ep(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function tp(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,$T),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $T(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}uc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(tp(e,LE,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(tp(e,LE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(tp(n,"/"==n.charAt(0)?UT:np,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",tp(n,Jo)),t.join("")};var LE=/[#\/\?@]/g,np=/[#\?:]/g,UT=/[#\?]/g,zy=/[#\?@]/g,Jo=/#/g;function rp(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ea(t){t.g||(t.g=new Map,t.h=0,t.i&&function kE(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var c=t[n].substring(0,r);i=t[n].substring(r+1)}else c=t[n];e(c,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function sh(t,e){ea(t),e=oh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function FE(t,e){return ea(t),e=oh(t,e),t.g.has(e)}function $E(t,e,n){sh(t,e),0<n.length&&(t.i=null,t.g.set(oh(t,e),Ou(n)),t.h+=n.length)}function oh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function UE(t){this.l=t||VT,t=Yt.PerformanceNavigationTiming?0<(t=Yt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ga&&Yt.g.Ga()&&Yt.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=rp.prototype).add=function(t,e){ea(this),this.i=null,t=oh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},It.forEach=function(t,e){ea(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},It.oa=function(){ea(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let c=0;c<i.length;c++)n.push(e[r])}return n},It.W=function(t){ea(this);let e=[];if("string"==typeof t)FE(this,t)&&(e=e.concat(this.g.get(oh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},It.set=function(t,e){return ea(this),this.i=null,FE(this,t=oh(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},It.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const c=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=c;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),t.push(i)}}return this.i=t.join("&")};var VT=10;function Gy(t){return!!t.h||!!t.g&&t.g.size>=t.j}function qy(t){return t.h?1:t.g?t.g.size:0}function ip(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function sm(t,e){t.g?t.g.add(e):t.h=e}function om(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function am(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Ou(t.i)}function lm(){}function Wy(){this.g=new lm}function Ky(t,e,n){const r=n||"";try{ih(t,function(i,c){let u=i;Fn(i)&&(u=Ay(i)),e.push(r+c+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function sp(t){this.l=t.ac||null,this.j=t.jb||!1}function um(t,e){Jr.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=dm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}UE.prototype.cancel=function(){if(this.i=am(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},lm.prototype.stringify=function(t){return Yt.JSON.stringify(t,void 0)},lm.prototype.parse=function(t){return Yt.JSON.parse(t,void 0)},Xr(sp,Jg),sp.prototype.g=function(){return new um(this.l,this.j)},sp.prototype.i=function(t){return function(){return t}}({}),Xr(um,Jr);var dm=0;function hm(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function ah(t){t.readyState=4,t.l=null,t.j=null,t.A=null,lh(t)}function lh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(It=um.prototype).open=function(t,e){if(this.readyState!=dm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,lh(this)},It.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Yt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ah(this)),this.readyState=dm},It.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,lh(this)),this.g&&(this.readyState=3,lh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Yt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hm(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},It.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ah(this):lh(this),3==this.readyState&&hm(this)}},It.Va=function(t){this.g&&(this.response=this.responseText=t,ah(this))},It.Ua=function(t){this.g&&(this.response=t,ah(this))},It.ga=function(){this.g&&ah(this)},It.setRequestHeader=function(t,e){this.v.append(t,e)},It.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(um.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var VE=Yt.JSON.parse;function Qn(t){Jr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=BE,this.K=this.L=!1}Xr(Qn,Jr);var BE="",jE=/^https?$/i,HE=["POST","PUT"];function Yy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Qy(t),Ga(t)}function Qy(t){t.D||(t.D=!0,yi(t,"complete"),yi(t,"error"))}function Ri(t){if(t.h&&typeof ac<"u"&&(!t.C[1]||4!=qa(t)||2!=t.aa()))if(t.v&&4==qa(t))Gg(t.Ha,0,t);else if(yi(t,"readystatechange"),4==qa(t)){t.h=!1;try{const p=t.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===p){var i=String(t.H).match(Zy)[1]||null;if(!i&&Yt.self&&Yt.self.location){var c=Yt.self.location.protocol;i=c.substr(0,c.length-1)}r=!jE.test(i?i.toLowerCase():"")}n=r}if(n)yi(t,"complete"),yi(t,"success");else{t.m=6;try{var u=2<qa(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.aa()+"]",Qy(t)}}finally{Ga(t)}}}function Ga(t,e){if(t.g){ZE(t);const n=t.g,r=t.C[0]?Mu:null;t.g=null,t.C=null,e||yi(t,"ready");try{n.onreadystatechange=r}catch{}}}function ZE(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Yt.clearTimeout(t.A),t.A=null)}function qa(t){return t.g?t.g.readyState:0}function HT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case BE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ZT(t){let e="";return Ey(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function fm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ZT(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Yn(t,e,n))}function ch(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function uh(t){this.Ca=0,this.i=[],this.j=new eh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ch("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ch("baseRetryDelayMs",5e3,t),this.bb=ch("retryDelaySeedMs",1e4,t),this.$a=ch("forwardChannelMaxRetries",2,t),this.ta=ch("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new UE(t&&t.concurrentRequestLimit),this.Fa=new Wy,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Xy(t){if(zE(t),3==t.G){var e=t.U++,n=Xo(t.F);Yn(n,"SID",t.I),Yn(n,"RID",e),Yn(n,"TYPE","terminate"),ap(t,n),(e=new rh(t,t.j,e,void 0)).K=2,e.v=Jf(Xo(n)),n=!1,Yt.navigator&&Yt.navigator.sendBeacon&&(n=Yt.navigator.sendBeacon(e.v.toString(),"")),!n&&Yt.Image&&((new Image).src=e.v,n=!0),n||(e.g=n_(e.l,null),e.g.da(e.v)),e.F=Date.now(),Kf(e)}Fu(t)}function dh(t){t.g&&(hh(t),t.g.cancel(),t.g=null)}function zE(t){dh(t),t.u&&(Yt.clearTimeout(t.u),t.u=null),e_(t),t.h.cancel(),t.m&&("number"==typeof t.m&&Yt.clearTimeout(t.m),t.m=null)}function op(t){Gy(t.h)||t.m||(t.m=!0,TE(t.Ja,t),t.C=0)}function GE(t,e){var n;n=e?e.m:t.U++;const r=Xo(t.F);Yn(r,"SID",t.I),Yn(r,"RID",n),Yn(r,"AID",t.T),ap(t,r),t.o&&t.s&&fm(r,t.o,t.s),n=new rh(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=pm(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),sm(t.h,n),AE(n,r,e)}function ap(t,e){t.ia&&Ey(t.ia,function(n,r){Yn(e,r,n)}),t.l&&ih({},function(n,r){Yn(e,r,n)})}function pm(t,e,n){n=Math.min(t.i.length,n);var r=t.l?vi(t.l.Ra,t.l,t):null;e:{var i=t.i;let c=-1;for(;;){const u=["count="+n];-1==c?0<n?(c=i[0].h,u.push("ofs="+c)):c=0:u.push("ofs="+c);let p=!0;for(let v=0;v<n;v++){let y=i[v].h;const E=i[v].g;if(y-=c,0>y)c=Math.max(0,i[v].h-100),p=!1;else try{Ky(E,u,"req"+y+"_")}catch{r&&r(E)}}if(p){r=u.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function Jy(t){t.g||t.u||(t.Z=1,TE(t.Ia,t),t.A=0)}function gm(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=qf(vi(t.Ia,t),qE(t,t.A)),t.A++,0))}function hh(t){null!=t.B&&(Yt.clearTimeout(t.B),t.B=null)}function mm(t){t.g=new rh(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=Xo(t.sa);Yn(e,"RID","rpc"),Yn(e,"SID",t.I),Yn(e,"CI",t.L?"0":"1"),Yn(e,"AID",t.T),Yn(e,"TYPE","xmlhttp"),ap(t,e),t.o&&t.s&&fm(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Jf(Xo(e)),n.s=null,n.P=!0,ME(n,t)}function e_(t){null!=t.v&&(Yt.clearTimeout(t.v),t.v=null)}function t_(t,e){var n=null;if(t.g==e){e_(t),hh(t),t.g=null;var r=2}else{if(!ip(t.h,e))return;n=e.D,om(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;yi(r=Kg(),new Qg(r,n)),op(t)}else Jy(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function zT(t,e){return!(qy(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=qf(vi(t.Ja,t,e),qE(t,t.C)),t.C++,0)))}(t,e)||2==r&&gm(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:dc(t,5);break;case 4:dc(t,10);break;case 3:dc(t,6);break;default:dc(t,2)}}function qE(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function dc(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=vi(t.kb,t);n||(n=new uc("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||Qf(n,"https"),Jf(n)),function BT(t,e){const n=new eh;if(Yt.Image){const r=new Image;r.onload=Uf(cm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Uf(cm,n,r,"TestLoadImage: error",!1,e),r.onabort=Uf(cm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Uf(cm,n,r,"TestLoadImage: timeout",!1,e),Yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else qi(2);t.G=0,t.l&&t.l.va(e),Fu(t),zE(t)}function Fu(t){if(t.G=0,t.la=[],t.l){const e=am(t.h);(0!=e.length||0!=t.i.length)&&(hE(t.la,e),hE(t.la,t.i),t.h.i.length=0,Ou(t.i),t.i.length=0),t.l.ua()}}function WE(t,e,n){var r=n instanceof uc?Xo(n):new uc(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Xf(r,r.m);else{var i=Yt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var c=new uc(null,void 0);r&&Qf(c,r),e&&(c.g=e),i&&Xf(c,i),n&&(c.l=n),r=c}return e=t.za,(n=t.D)&&e&&Yn(r,n,e),Yn(r,"VER",t.ma),ap(t,r),r}function n_(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qn(n&&t.Da&&!t.ra?new sp({jb:!0}):t.ra)).Ka(t.H),e}function vm(){}function r_(){if(Qd&&!(10<=Number(Vg)))throw Error("Environmental error: no available transport.")}function Is(t,e){Jr.call(this),this.g=new uh(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Ru(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ru(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new fh(this)}function GT(t){$y.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function KE(){Uy.call(this),this.status=1}function fh(t){this.g=t}(It=Qn.prototype).Ka=function(t){this.L=t},It.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vy.g(),this.C=function Ly(t){return t.h||(t.h=t.i())}(this.u?this.u:Vy),this.g.onreadystatechange=vi(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(c){return void Yy(this,c)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())n.set(c,r.get(c))}r=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),i=Yt.FormData&&t instanceof Yt.FormData,!(0<=dE(HE,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,u]of n)this.g.setRequestHeader(c,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ZE(this),0<this.B&&((this.K=function jT(t){return Qd&&function $x(){return function Bf(t){var e=Fx;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=my(String(jf)).split("."),n=my("9").split("."),r=Math.max(e.length,n.length);for(let u=0;0==t&&u<r;u++){var i=e[u]||"",c=n[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==i[0].length&&0==c[0].length)break;t=$g(0==i[1].length?0:parseInt(i[1],10),0==c[1].length?0:parseInt(c[1],10))||$g(0==i[2].length,0==c[2].length)||$g(i[2],c[2]),i=i[3],c=c[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vi(this.qa,this)):this.A=Gg(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(c){Yy(this,c)}},It.qa=function(){typeof ac<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))},It.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,yi(this,"complete"),yi(this,"abort"),Ga(this))},It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ga(this,!0)),Qn.X.M.call(this)},It.Ha=function(){this.s||(this.F||this.v||this.l?Ri(this):this.fb())},It.fb=function(){Ri(this)},It.aa=function(){try{return 2<qa(this)?this.g.status:-1}catch{return-1}},It.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},It.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),VE(e)}},It.Ea=function(){return this.m},It.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=uh.prototype).ma=8,It.G=1,It.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new rh(this,this.j,t,void 0);let c=this.s;if(this.S&&(c?(c=yE(c),_E(c,this.S)):c=this.S),null!==this.o||this.N||(i.H=c,c=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pm(this,i,e),Yn(n=Xo(this.F),"RID",t),Yn(n,"CVER",22),this.D&&Yn(n,"X-HTTP-Session-Id",this.D),ap(this,n),c&&(this.N?e="headers="+encodeURIComponent(String(ZT(c)))+"&"+e:this.o&&fm(n,this.o,c)),sm(this.h,i),this.Ya&&Yn(n,"TYPE","init"),this.O?(Yn(n,"$req",e),Yn(n,"SID","null"),i.Z=!0,AE(i,n,null)):AE(i,n,e),this.G=2}}else 3==this.G&&(t?GE(this,t):0==this.i.length||Gy(this.h)||GE(this))},It.Ia=function(){if(this.u=null,mm(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=qf(vi(this.eb,this),t)}},It.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,qi(10),dh(this),mm(this))},It.cb=function(){null!=this.v&&(this.v=null,dh(this),gm(this),qi(19))},It.kb=function(t){t?(this.j.info("Successfully pinged google.com"),qi(2)):(this.j.info("Failed to ping google.com"),qi(1))},(It=vm.prototype).xa=function(){},It.wa=function(){},It.va=function(){},It.ua=function(){},It.Ra=function(){},r_.prototype.g=function(t,e){return new Is(t,e)},Xr(Is,Jr),Is.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;qi(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=WE(t,null,t.V),op(t)},Is.prototype.close=function(){Xy(this.g)},Is.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Ay(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&op(e)},Is.prototype.M=function(){this.g.l=null,delete this.j,Xy(this.g),delete this.g,Is.X.M.call(this)},Xr(GT,$y),Xr(KE,Uy),Xr(fh,vm),fh.prototype.xa=function(){yi(this.g,"a")},fh.prototype.wa=function(t){yi(this.g,new GT(t))},fh.prototype.va=function(t){yi(this.g,new KE)},fh.prototype.ua=function(){yi(this.g,"b")},r_.prototype.createWebChannel=r_.prototype.g,Is.prototype.send=Is.prototype.u,Is.prototype.open=Is.prototype.m,Is.prototype.close=Is.prototype.close,Wf.NO_ERROR=0,Wf.TIMEOUT=8,Wf.HTTP_ERROR=6,Xg.COMPLETE="complete",Fy.EventType=nh,nh.OPEN="a",nh.CLOSE="b",nh.ERROR="c",nh.MESSAGE="d",Jr.prototype.listen=Jr.prototype.N,Qn.prototype.listenOnce=Qn.prototype.O,Qn.prototype.getLastError=Qn.prototype.Oa,Qn.prototype.getLastErrorCode=Qn.prototype.Ea,Qn.prototype.getStatus=Qn.prototype.aa,Qn.prototype.getResponseJson=Qn.prototype.Sa,Qn.prototype.getResponseText=Qn.prototype.fa,Qn.prototype.send=Qn.prototype.da,Qn.prototype.setWithCredentials=Qn.prototype.Ka;var qT=za.createWebChannelTransport=function(){return new r_},YE=za.getStatEventTarget=function(){return Kg()},ym=za.ErrorCode=Wf,WT=za.EventType=Xg,QE=za.Event=Bs,i_=za.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},KT=za.FetchXmlHttpFactory=sp,_m=za.WebChannel=Fy,XE=za.XhrIo=Qn;const JE="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let $u="9.16.0";const Wa=new Au.Yd("@firebase/firestore");function bm(){return Wa.logLevel}function Ze(t,...e){if(Wa.logLevel<=Au.in.DEBUG){const n=e.map(ew);Wa.debug(`Firestore (${$u}): ${t}`,...n)}}function Cr(t,...e){if(Wa.logLevel<=Au.in.ERROR){const n=e.map(ew);Wa.error(`Firestore (${$u}): ${t}`,...n)}}function hc(t,...e){if(Wa.logLevel<=Au.in.WARN){const n=e.map(ew);Wa.warn(`Firestore (${$u}): ${t}`,...n)}}function ew(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function gt(t="Unexpected state"){const e=`FIRESTORE (${$u}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function Tt(t,e){t||gt()}function at(t,e){return t}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends nt.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ei{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class lp{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lr.UNAUTHENTICATED))}shutdown(){}}class tw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Em{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const c=y=>this.i!==i?(i=this.i,n(y)):Promise.resolve();let u=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ei,e.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const y=u;e.enqueueRetryable((0,Pe.Z)(function*(){yield y.promise,yield c(r.currentUser)}))},v=y=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(y=>v(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?v(y):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ei)}},0),p()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new lp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new Lr(e)}}class nw{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Tt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class rw{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new nw(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s_{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=c=>{null!=c.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.A;return this.A=c.token,Ze("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const i=c=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>i(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?i(c):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tt("string"==typeof n.token),this.A=n.token,new QT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function JT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class o_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=JT(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<n&&(r+=e.charAt(i[c]%e.length))}return r}}function en(t,e){return t<e?-1:t>e?1:0}function cp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function iw(t){return t+"\0"}class zn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new He(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new He(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new He(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new zn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new zn(0,0))}static max(){return new St(new zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class up{constructor(e,n,r){void 0===n?n=0:n>e.length&&gt(),void 0===r?r=e.length-n:r>e.length-n&&gt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===up.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof up?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const c=e.get(i),u=n.get(i);if(c<u)return-1;if(c>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class mn extends up{construct(e,n,r){return new mn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new He(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new mn(n)}static emptyPath(){return new mn([])}}const Bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends up{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return Bx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const c=()=>{if(0===r.length)throw new He(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new He(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new He(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===p?(u=!u,i++):"."!==p||u?(r+=p,i++):(c(),i++)}if(c(),u)throw new He(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(mn.fromString(e))}static fromName(e){return new ot(mn.fromString(e).popFirst(5))}static empty(){return new ot(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return mn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new mn(e.slice()))}}class wm{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function a_(t){return t.fields.find(e=>2===e.kind)}function ph(t){return t.fields.filter(e=>2!==e.kind)}wm.UNKNOWN_ID=-1;class dp{constructor(e,n){this.fieldPath=e,this.kind=n}}class Cm{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Cm(0,Wi.min())}}function js(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=St.fromTimestamp(1e9===r?new zn(n+1,0):new zn(n,r));return new Wi(i,ot.empty(),e)}function ow(t){return new Wi(t.readTime,t.key,-1)}class Wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wi(St.min(),ot.empty(),-1)}static max(){return new Wi(St.max(),ot.empty(),-1)}}function l_(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ot.comparator(t.documentKey,e.documentKey),0!==n?n:en(t.largestBatchId,e.largestBatchId))}const tS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ts{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fc(t){return hp.apply(this,arguments)}function hp(){return hp=(0,Pe.Z)(function*(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==tS)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}),hp.apply(this,arguments)}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.reject(n)}static resolve(e){return new ge((n,r)=>{n(e)})}static reject(e){return new ge((n,r)=>{r(e)})}static waitFor(e){return new ge((n,r)=>{let i=0,c=0,u=!1;e.forEach(p=>{++i,p.next(()=>{++c,u&&c===i&&n()},v=>r(v))}),u=!0,c===i&&n()})}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next(i=>i?ge.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,c)=>{r.push(n.call(this,i,c))}),this.waitFor(r)}static mapArray(e,n){return new ge((r,i)=>{const c=e.length,u=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;n(e[y]).next(E=>{u[y]=E,++p,p===c&&r(u)},E=>i(E))}})}static doWhile(e,n){return new ge((r,i)=>{const c=()=>{!0===e()?n().next(()=>{c()},i):r()};c()})}}class Im{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new ei,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new gh(e,n.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Tm(r.target.error);this.P.reject(new gh(e,i))}}static open(e,n,r,i){try{return new Im(n,e.transaction(i,r))}catch(c){throw new gh(n,c)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new lw(n)}}class Ss{constructor(e,n,r){this.name=e,this.version=n,this.S=r,12.2===Ss.D((0,nt.z$)())&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ze("SimpleDb","Removing database:",e),gc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,nt.hl)())return!1;if(Ss.N())return!0;const e=(0,nt.z$)(),n=Ss.D(e),r=0<n&&n<10,i=Ss.k(e),c=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var n=this;return(0,Pe.Z)(function*(){return n.db||(Ze("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=u=>{r(u.target.result)},c.onblocked=()=>{i(new gh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=u=>{const p=u.target.error;i("VersionError"===p.name?new He(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new He(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new gh(e,p))},c.onupgradeneeded=u=>{Ze("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',u.oldVersion),n.S.$(u.target.result,c.transaction,u.oldVersion,n.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var c=this;return(0,Pe.Z)(function*(){const u="readonly"===n;let p=0;for(;;){++p;try{c.db=yield c.F(e);const v=Im.open(c.db,e,u?"readonly":"readwrite",r),y=i(v).next(E=>(v.V(),E)).catch(E=>(v.abort(E),ge.reject(E))).toPromise();return y.catch(()=>{}),yield v.v,y}catch(v){const y=v,E="FirebaseError"!==y.name&&p<3;if(Ze("SimpleDb","Transaction failed with error:",y.message,"Retrying:",E),c.close(),!E)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aw{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return gc(this.q.delete())}}class gh extends He{constructor(e,n){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function pc(t){return"IndexedDbTransactionError"===t.name}class lw{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Ze("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),gc(r)}add(e){return Ze("SimpleDb","ADD",this.store.name,e,e),gc(this.store.add(e))}get(e){return gc(this.store.get(e)).next(n=>(void 0===n&&(n=null),Ze("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Ze("SimpleDb","DELETE",this.store.name,e),gc(this.store.delete(e))}count(){return Ze("SimpleDb","COUNT",this.store.name),gc(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),c=[];return this.H(i,(u,p)=>{c.push(p)}).next(()=>c)}{const i=this.store.getAll(r.range);return new ge((c,u)=>{i.onerror=p=>{u(p.target.error)},i.onsuccess=p=>{c(p.target.result)}})}}J(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new ge((i,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,n){Ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(c,u,p)=>p.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}tt(e){const n=this.cursor({});return new ge((r,i)=>{n.onerror=c=>{const u=Tm(c.target.error);i(u)},n.onsuccess=c=>{const u=c.target.result;u?e(u.primaryKey,u.value).next(p=>{p?u.continue():r()}):r()}})}H(e,n){const r=[];return new ge((i,c)=>{e.onerror=u=>{c(u.target.error)},e.onsuccess=u=>{const p=u.target.result;if(!p)return void i();const v=new aw(p),y=n(p.primaryKey,p.value,v);if(y instanceof ge){const E=y.catch(C=>(v.done(),ge.reject(C)));r.push(E)}v.isDone?i():null===v.G?p.continue():p.continue(v.G)}}).next(()=>ge.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function gc(t){return new ge((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=Tm(r.target.error);n(i)}})}let cw=!1;function Tm(t){const e=Ss.D((0,nt.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cw||(cw=!0,setTimeout(()=>{throw r},0)),r}}return t}class nS{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var n=this;Ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Pe.Z)(function*(){n.task=null;try{Ze("IndexBackiller",`Documents written: ${yield n.et.st()}`)}catch(r){pc(r)?Ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield fc(r)}yield n.nt(6e4)}))}}class c_{constructor(e,n){this.localStore=e,this.persistence=n}st(e=50){var n=this;return(0,Pe.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.it(r,e))})()}it(e,n){const r=new Set;let i=n,c=!0;return ge.doWhile(()=>!0===c&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Ze("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(p=>{i-=p,r.add(u)});c=!1})).next(()=>n-i)}rt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(c=>{const u=c.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,c)).next(p=>(Ze("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,n,p))).next(()=>u.size)}))}ot(e,n){let r=e;return n.changes.forEach((i,c)=>{const u=ow(c);l_(u,r)>0&&(r=u)}),new Wi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Ir=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return t.at=-1,t})();class uw{constructor(e,n,r,i,c,u,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class ta{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}function na(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fp(t){return null==t}function pp(t){return 0===t&&1/t==-1/0}function dw(t){return"number"==typeof t&&Number.isInteger(t)&&!pp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Tr(n)}static fromUint8Array(e){const n=function(r){let i="";for(let c=0;c<r.length;++c)i+=String.fromCharCode(r[c]);return i}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const jx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(t){if(Tt(!!t),"string"==typeof t){let e=0;const n=jx.exec(t);if(Tt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ar(t.seconds),nanos:ar(t.nanos)}}function ar(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function mc(t){return"string"==typeof t?Tr.fromBase64String(t):Tr.fromUint8Array(t)}function hw(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sm(t){const e=t.mapValue.fields.__previous_value__;return hw(e)?Sm(e):e}function mh(t){const e=Ka(t.mapValue.fields.__local_write_time__.timestampValue);return new zn(e.seconds,e.nanos)}const Ya={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gp={nullValue:"NULL_VALUE"};function vc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hw(t)?4:sS(t)?9007199254740991:10:gt()}function go(t,e){if(t===e)return!0;const n=vc(t);if(n!==vc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mh(t).isEqual(mh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const c=Ka(r.timestampValue),u=Ka(i.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,mc(t.bytesValue).isEqual(mc(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ar(r.geoPointValue.latitude)===ar(i.geoPointValue.latitude)&&ar(r.geoPointValue.longitude)===ar(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ar(r.integerValue)===ar(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const c=ar(r.doubleValue),u=ar(i.doubleValue);return c===u?pp(c)===pp(u):isNaN(c)&&isNaN(u)}return!1}(t,e);case 9:return cp(t.arrayValue.values||[],e.arrayValue.values||[],go);case 10:return function(r,i){const c=r.mapValue.fields||{},u=i.mapValue.fields||{};if(na(c)!==na(u))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(void 0===u[p]||!go(c[p],u[p])))return!1;return!0}(t,e);default:return gt()}var i}function yc(t,e){return void 0!==(t.values||[]).find(n=>go(n,e))}function mo(t,e){if(t===e)return 0;const n=vc(t),r=vc(e);if(n!==r)return en(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return en(t.booleanValue,e.booleanValue);case 2:return function(i,c){const u=ar(i.integerValue||i.doubleValue),p=ar(c.integerValue||c.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(t,e);case 3:return u_(t.timestampValue,e.timestampValue);case 4:return u_(mh(t),mh(e));case 5:return en(t.stringValue,e.stringValue);case 6:return function(i,c){const u=mc(i),p=mc(c);return u.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(i,c){const u=i.split("/"),p=c.split("/");for(let v=0;v<u.length&&v<p.length;v++){const y=en(u[v],p[v]);if(0!==y)return y}return en(u.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,c){const u=en(ar(i.latitude),ar(c.latitude));return 0!==u?u:en(ar(i.longitude),ar(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,c){const u=i.values||[],p=c.values||[];for(let v=0;v<u.length&&v<p.length;++v){const y=mo(u[v],p[v]);if(y)return y}return en(u.length,p.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,c){if(i===Ya.mapValue&&c===Ya.mapValue)return 0;if(i===Ya.mapValue)return 1;if(c===Ya.mapValue)return-1;const u=i.fields||{},p=Object.keys(u),v=c.fields||{},y=Object.keys(v);p.sort(),y.sort();for(let E=0;E<p.length&&E<y.length;++E){const C=en(p[E],y[E]);if(0!==C)return C;const x=mo(u[p[E]],v[y[E]]);if(0!==x)return x}return en(p.length,y.length)}(t.mapValue,e.mapValue);default:throw gt()}}function u_(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return en(t,e);const n=Ka(t),r=Ka(e),i=en(n.seconds,r.seconds);return 0!==i?i:en(n.nanos,r.nanos)}function vh(t){return d_(t)}function d_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ka(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?mc(t.bytesValue).toBase64():"referenceValue"in t?ot.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",c=!0;for(const u of r.values||[])c?c=!1:i+=",",i+=d_(u);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let c="{",u=!0;for(const p of i)u?u=!1:c+=",",c+=`${p}:${d_(r.fields[p])}`;return c+"}"}(t.mapValue):gt();var e}function yh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fw(t){return!!t&&"integerValue"in t}function Dm(t){return!!t&&"arrayValue"in t}function h_(t){return!!t&&"nullValue"in t}function pw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xm(t){return!!t&&"mapValue"in t}function mp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sS(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Hx(t){return"nullValue"in t?gp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?yh(ta.empty(),ot.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:gt()}function Zx(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?yh(ta.empty(),ot.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ya:gt()}function oS(t,e){const n=mo(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function aS(t,e){const n=mo(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class _c{constructor(e,n){this.position=e,this.inclusive=n}}function vp(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const c=e[i],u=t.position[i];if(r=c.field.isKeyField()?ot.comparator(ot.fromName(u.referenceValue),n.key):mo(u,n.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function gw(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!go(t.position[n],e.position[n]))return!1;return!0}class mw{}class un extends mw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new zx(e,n,r):"array-contains"===n?new cS(e,r):"in"===n?new yw(e,r):"not-in"===n?new uS(e,r):"array-contains-any"===n?new dS(e,r):new un(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Gx(e,r):new qx(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(mo(n,this.value)):null!==n&&vc(this.value)===vc(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fn extends mw{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new fn(e,n)}matches(e){return Vu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Vu(t){return"and"===t.op}function yp(t){return"or"===t.op}function _p(t){return vw(t)&&Vu(t)}function vw(t){for(const e of t.filters)if(e instanceof fn)return!1;return!0}function bp(t){if(t instanceof un)return t.field.canonicalString()+t.op.toString()+vh(t.value);if(_p(t))return t.filters.map(e=>bp(e)).join(",");{const e=t.filters.map(n=>bp(n)).join(",");return`${t.op}(${e})`}}function Am(t,e){return t instanceof un?(n=t,(r=e)instanceof un&&n.op===r.op&&n.field.isEqual(r.field)&&go(n.value,r.value)):t instanceof fn?function(n,r){return r instanceof fn&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,c,u)=>i&&Am(c,r.filters[u]),!0)}(t,e):void gt();var n,r}function Ep(t,e){const n=t.filters.concat(e);return fn.create(n,t.op)}function lS(t){return t instanceof un?`${(e=t).field.canonicalString()} ${e.op} ${vh(e.value)}`:t instanceof fn?function(e){return e.op.toString()+" {"+e.getFilters().map(lS).join(" ,")+"}"}(t):"Filter";var e}class zx extends un{constructor(e,n,r){super(e,n,r),this.key=ot.fromName(r.referenceValue)}matches(e){const n=ot.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gx extends un{constructor(e,n){super(e,"in",n),this.keys=f_(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qx extends un{constructor(e,n){super(e,"not-in",n),this.keys=f_(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f_(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ot.fromName(r.referenceValue))}class cS extends un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dm(n)&&yc(n.arrayValue,this.value)}}class yw extends un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&yc(this.value.arrayValue,n)}}class uS extends un{constructor(e,n){super(e,"not-in",n)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!yc(this.value.arrayValue,n)}}class dS extends un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}}class Bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function _w(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Xn{constructor(e,n){this.comparator=e,this.root=n||_i.EMPTY}insert(e,n){return new Xn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_i.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_i.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mm(this.root,e,this.comparator,!0)}}class Mm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&i&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _i{constructor(e,n,r,i,c){this.key=e,this.value=n,this.color=r??_i.RED,this.left=i??_i.EMPTY,this.right=c??_i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,c){return new _i(e??this.key,n??this.value,r??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const c=r(e,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===c?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return _i.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}_i.EMPTY=null,_i.RED=!0,_i.BLACK=!1,_i.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(t,e,n,r,i){return this}insert(t,e,n){return new _i(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tn{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pm(this.data.getIterator())}getIteratorFrom(e){return new Pm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class Pm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wp(t){return t.hasNext()?t.getNext():void 0}class Ki{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new Ki([])}unionWith(e){let n=new Tn(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ki(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mp(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach((u,p)=>{if(!n.isImmediateParentOf(p)){const v=this.getFieldsMap(n);this.applyChanges(v,r,i),r={},i=[],n=p.popLast()}u?r[p.lastSegment()]=mp(u):i.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,i)}delete(e){const n=this.field(e.popLast());xm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return go(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uu(n,(i,c)=>e[i]=c);for(const i of r)delete e[i]}clone(){return new Fr(mp(this.value))}}function bw(t){const e=[];return Uu(t.fields,(n,r)=>{const i=new yr([n]);if(xm(r)){const c=bw(r.mapValue).fields;if(0===c.length)e.push(i);else for(const u of c)e.push(i.child(u))}else e.push(i)}),new Ki(e)}class Vn{constructor(e,n,r,i,c,u,p){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new Vn(e,0,St.min(),St.min(),St.min(),Fr.empty(),0)}static newFoundDocument(e,n,r,i){return new Vn(e,1,n,St.min(),r,i,0)}static newNoDocument(e,n){return new Vn(e,2,n,St.min(),St.min(),Fr.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,St.min(),St.min(),Fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(St.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wx{constructor(e,n=null,r=[],i=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=u,this.endAt=p,this.ft=null}}function Ew(t,e=null,n=[],r=[],i=null,c=null,u=null){return new Wx(t,e,n,r,i,c,u)}function ju(t){const e=at(t);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vh(r)).join(",")),e.ft=n}return e.ft}function Cp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_w(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Am(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gw(t.startAt,e.startAt)&&gw(t.endAt,e.endAt)}function Om(t){return ot.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function p_(t,e){return t.filters.filter(n=>n instanceof un&&n.field.isEqual(e))}function hS(t,e,n){let r=gp,i=!0;for(const c of p_(t,e)){let u=gp,p=!0;switch(c.op){case"<":case"<=":u=Hx(c.value);break;case"==":case"in":case">=":u=c.value;break;case">":u=c.value,p=!1;break;case"!=":case"not-in":u=gp}oS({value:r,inclusive:i},{value:u,inclusive:p})<0&&(r=u,i=p)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const u=n.position[c];oS({value:r,inclusive:i},{value:u,inclusive:n.inclusive})<0&&(r=u,i=n.inclusive);break}return{value:r,inclusive:i}}function fS(t,e,n){let r=Ya,i=!0;for(const c of p_(t,e)){let u=Ya,p=!0;switch(c.op){case">=":case">":u=Zx(c.value),p=!1;break;case"==":case"in":case"<=":u=c.value;break;case"<":u=c.value,p=!1;break;case"!=":case"not-in":u=Ya}aS({value:r,inclusive:i},{value:u,inclusive:p})>0&&(r=u,i=p)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const u=n.position[c];aS({value:r,inclusive:i},{value:u,inclusive:n.inclusive})>0&&(r=u,i=n.inclusive);break}return{value:r,inclusive:i}}class bc{constructor(e,n=null,r=[],i=[],c=null,u="F",p=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=v,this.dt=null,this._t=null}}function pS(t,e,n,r,i,c,u,p){return new bc(t,e,n,r,i,c,u,p)}function _h(t){return new bc(t)}function gS(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ww(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function g_(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Cw(t){return null!==t.collectionGroup}function bh(t){const e=at(t);if(null===e.dt){e.dt=[];const n=g_(e),r=ww(e);if(null!==n&&null===r)n.isKeyField()||e.dt.push(new Bu(n)),e.dt.push(new Bu(yr.keyField(),"asc"));else{let i=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(i=!0);if(!i){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Bu(yr.keyField(),c))}}}return e.dt}function as(t){const e=at(t);if(!e._t)if("F"===e.limitType)e._t=Ew(e.path,e.collectionGroup,bh(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const c of bh(e))n.push(new Bu(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new _c(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new _c(e.startAt.position,e.startAt.inclusive):null;e._t=Ew(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function s(t,e){e.getFirstInequalityField(),g_(t);const n=t.filters.concat([e]);return new bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function o(t,e,n){return new bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function a(t,e){return Cp(as(t),as(e))&&t.limitType===e.limitType}function d(t){return`${ju(as(t))}|lt:${t.limitType}`}function h(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>lS(r)).join(", ")}]`),fp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vh(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vh(r)).join(",")),`Target(${n})`}(as(t))}; limitType=${t.limitType})`}function g(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ot.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of bh(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,c,u){const p=vp(i,c,u);return i.inclusive?p<=0:p<0}(n.startAt,bh(n),r)||n.endAt&&!function(i,c,u){const p=vp(i,c,u);return i.inclusive?p>=0:p>0}(n.endAt,bh(n),r)));var n,r}function b(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function I(t){return(e,n)=>{let r=!1;for(const i of bh(t)){const c=T(i,e,n);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function T(t,e,n){const r=t.field.isKeyField()?ot.comparator(e.key,n.key):function(i,c,u){const p=c.data.field(i),v=u.data.field(i);return null!==p&&null!==v?mo(p,v):gt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}function A(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pp(e)?"-0":e}}function k(t){return{integerValue:""+t}}function B(t,e){return dw(e)?k(e):A(t,e)}class Q{constructor(){this._=void 0}}function oe(t,e,n){return t instanceof it?function(r,i){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(c.fields.__previous_value__=i),{mapValue:c}}(n,e):t instanceof dt?Ft(t,e):t instanceof Ve?Gt(t,e):function(r,i){const c=Ye(r,i),u=lr(c)+lr(r.gt);return fw(c)&&fw(r.gt)?k(u):A(r.yt,u)}(t,e)}function Ae(t,e,n){return t instanceof dt?Ft(t,e):t instanceof Ve?Gt(t,e):n}function Ye(t,e){return t instanceof Sn?fw(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class it extends Q{}class dt extends Q{constructor(e){super(),this.elements=e}}function Ft(t,e){const n=mS(e);for(const r of t.elements)n.some(i=>go(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ve extends Q{constructor(e){super(),this.elements=e}}function Gt(t,e){let n=mS(e);for(const r of t.elements)n=n.filter(i=>!go(i,r));return{arrayValue:{values:n}}}class Sn extends Q{constructor(e,n){super(),this.yt=e,this.gt=n}}function lr(t){return ar(t.integerValue||t.doubleValue)}function mS(t){return Dm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class m_{constructor(e,n){this.field=e,this.transform=n}}class SO{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iw(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Tw{}function Kx(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new km(t.key,cr.none()):new Rm(t.key,t.data,cr.none());{const n=t.data,r=Fr.empty();let i=new Tn(yr.comparator);for(let c of e.fields)if(!i.has(c)){let u=n.field(c);null===u&&c.length>1&&(c=c.popLast(),u=n.field(c)),null===u?r.delete(c):r.set(c,u),i=i.add(c)}return new Hu(t.key,r,new Ki(i.toArray()),cr.none())}}function DO(t,e,n){t instanceof Rm?function(r,i,c){const u=r.value.clone(),p=Xx(r.fieldTransforms,i,c.transformResults);u.setAll(p),i.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Hu?function(r,i,c){if(!Iw(r.precondition,i))return void i.convertToUnknownDocument(c.version);const u=Xx(r.fieldTransforms,i,c.transformResults),p=i.data;p.setAll(Qx(r)),p.setAll(u),i.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function v_(t,e,n,r){return t instanceof Rm?function(i,c,u,p){if(!Iw(i.precondition,c))return u;const v=i.value.clone(),y=Jx(i.fieldTransforms,p,c);return v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null}(t,e,n,r):t instanceof Hu?function(i,c,u,p){if(!Iw(i.precondition,c))return u;const v=Jx(i.fieldTransforms,p,c),y=c.data;return y.setAll(Qx(i)),y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(E=>E.field))}(t,e,n,r):(u=n,Iw(t.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u);var c,u}function xO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),c=Ye(r.transform,i||null);null!=c&&(null===n&&(n=Fr.empty()),n.set(r.field,c))}return n||null}function Yx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&cp(n,r,(i,c)=>function TO(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof dt&&r instanceof dt||n instanceof Ve&&r instanceof Ve?cp(n.elements,r.elements,go):n instanceof Sn&&r instanceof Sn?go(n.gt,r.gt):n instanceof it&&r instanceof it);var n,r}(i,c))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Rm extends Tw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hu extends Tw{constructor(e,n,r,i,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Qx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Xx(t,e,n){const r=new Map;Tt(t.length===n.length);for(let i=0;i<n.length;i++){const c=t[i],u=c.transform,p=e.data.field(c.field);r.set(c.field,Ae(u,p,n[i]))}return r}function Jx(t,e,n){const r=new Map;for(const i of t){const c=i.transform,u=n.data.field(i.field);r.set(i.field,oe(c,u,e))}return r}class km extends Tw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vS extends Tw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AO{constructor(e){this.count=e}}var ti,_n;function eA(t){switch(t){default:return gt();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function tA(t){if(void 0===t)return Cr("GRPC error has no .code"),ve.UNKNOWN;switch(t){case ti.OK:return ve.OK;case ti.CANCELLED:return ve.CANCELLED;case ti.UNKNOWN:return ve.UNKNOWN;case ti.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case ti.INTERNAL:return ve.INTERNAL;case ti.UNAVAILABLE:return ve.UNAVAILABLE;case ti.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case ti.NOT_FOUND:return ve.NOT_FOUND;case ti.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case ti.ABORTED:return ve.ABORTED;case ti.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case ti.DATA_LOSS:return ve.DATA_LOSS;default:return gt()}}(_n=ti||(ti={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class Eh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return void(i[c]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uu(this.inner,(n,r)=>{for(const[i,c]of r)e(i,c)})}isEmpty(){return rS(this.inner)}size(){return this.innerSize}}const MO=new Xn(ot.comparator);function Hs(){return MO}const nA=new Xn(ot.comparator);function y_(...t){let e=nA;for(const n of t)e=e.insert(n.key,n);return e}function rA(t){let e=nA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ec(){return __()}function iA(){return __()}function __(){return new Eh(t=>t.toString(),(t,e)=>t.isEqual(e))}const PO=new Xn(ot.comparator),OO=new Tn(ot.comparator);function rn(...t){let e=OO;for(const n of t)e=e.add(n);return e}const RO=new Tn(en);function Sw(){return RO}class b_{constructor(e,n,r,i,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,E_.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new b_(St.min(),i,Sw(),Hs(),rn())}}class E_{constructor(e,n,r,i,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new E_(r,n,rn(),rn(),rn())}}class Dw{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class sA{constructor(e,n){this.targetId=e,this.Et=n}}class oA{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aA{constructor(){this.At=0,this.Rt=cA(),this.bt=Tr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=rn(),n=rn(),r=rn();return this.Rt.forEach((i,c)=>{switch(c){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new E_(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=cA()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class kO{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Hs(),this.qt=lA(),this.Ut=new Tn(en)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:gt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const c=i.target;if(Om(c))if(0===r){const u=new ot(c.path);this.Qt(n,u,Vn.newNoDocument(u,St.min()))}else Tt(1===r);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((c,u)=>{const p=this.Yt(u);if(p){if(c.current&&Om(p.target)){const v=new ot(p.target.path);null!==this.Lt.get(v)||this.te(u,v)||this.Qt(u,v,Vn.newNoDocument(v,e))}c.St&&(n.set(u,c.Ct()),c.xt())}});let r=rn();this.qt.forEach((c,u)=>{let p=!0;u.forEachWhile(v=>{const y=this.Yt(v);return!y||2===y.purpose||(p=!1,!1)}),p&&(r=r.add(c))}),this.Lt.forEach((c,u)=>u.setReadTime(e));const i=new b_(e,n,this.Ut,this.Lt,r);return this.Lt=Hs(),this.qt=lA(),this.Ut=new Tn(en),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new aA,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Tn(en),this.qt=this.qt.insert(e,n)),n}zt(e){const n=null!==this.Yt(e);return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new aA),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function lA(){return new Xn(ot.comparator)}function cA(){return new Xn(ot.comparator)}const NO={asc:"ASCENDING",desc:"DESCENDING"},LO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FO={and:"AND",or:"OR"};class $O{constructor(e,n){this.databaseId=e,this.wt=n}}function Nm(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uA(t,e){return t.wt?e.toBase64():e.toUint8Array()}function UO(t,e){return Nm(t,e.toTimestamp())}function $r(t){return Tt(!!t),St.fromTimestamp(function(e){const n=Ka(e);return new zn(n.seconds,n.nanos)}(t))}function yS(t,e){return(n=t,new mn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function dA(t){const e=mn.fromString(t);return Tt(bA(e)),e}function w_(t,e){return yS(t.databaseId,e.path)}function wc(t,e){const n=dA(e);if(n.get(1)!==t.databaseId.projectId)throw new He(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new He(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ot(fA(n))}function _S(t,e){return yS(t.databaseId,e)}function hA(t){const e=dA(t);return 4===e.length?mn.emptyPath():fA(e)}function C_(t){return new mn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fA(t){return Tt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function pA(t,e,n){return{name:w_(t,e),fields:n.value.mapValue.fields}}function gA(t,e,n){const r=wc(t,e.name),i=$r(e.updateTime),c=e.createTime?$r(e.createTime):St.min(),u=new Fr({mapValue:{fields:e.fields}}),p=Vn.newFoundDocument(r,i,c,u);return n&&p.setHasCommittedMutations(),n?p.setHasCommittedMutations():p}function I_(t,e){let n;if(e instanceof Rm)n={update:pA(t,e.key,e.value)};else if(e instanceof km)n={delete:w_(t,e.key)};else if(e instanceof Hu)n={update:pA(t,e.key,e.data),updateMask:qO(e.fieldMask)};else{if(!(e instanceof vS))return gt();n={verify:w_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,c){const u=c.transform;if(u instanceof it)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof dt)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ve)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Sn)return{fieldPath:c.field.canonicalString(),increment:u.gt};throw gt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:UO(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:gt()),n;var i}function bS(t,e){const n=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?cr.updateTime($r(i.updateTime)):void 0!==i.exists?cr.exists(i.exists):cr.none():cr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(c,u){let p=null;"setToServerValue"in u?(Tt("REQUEST_TIME"===u.setToServerValue),p=new it):"appendMissingElements"in u?p=new dt(u.appendMissingElements.values||[]):"removeAllFromArray"in u?p=new Ve(u.removeAllFromArray.values||[]):"increment"in u?p=new Sn(c,u.increment):gt();const v=yr.fromServerFormat(u.fieldPath);return new m_(v,p)}(t,i)):[];var i;if(e.update){const i=wc(t,e.update.name),c=new Fr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Ki((e.updateMask.fieldPaths||[]).map(y=>yr.fromServerFormat(y)));return new Hu(i,c,u,n,r)}return new Rm(i,c,n,r)}if(e.delete){const i=wc(t,e.delete);return new km(i,n)}if(e.verify){const i=wc(t,e.verify);return new vS(i,n)}return gt()}function mA(t,e){return{documents:[_S(t,e.path)]}}function ES(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=_S(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_S(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0!==v.length)return _A(fn.create(v,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const c=function(v){if(0!==v.length)return v.map(y=>{return{field:Lm((E=y).field),direction:ZO(E.dir)};var E})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=(y=e.limit,t.wt||fp(y)?y:{value:y});var y,p,v;return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(n.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),n}function vA(t){let e=hA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tt(1===r);const E=n.from[0];E.allDescendants?i=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=function(E){const C=yA(E);return C instanceof fn&&_p(C)?C.getFilters():[C]}(n.where));let u=[];n.orderBy&&(u=n.orderBy.map(E=>{return new Bu(Fm((C=E).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let p=null;n.limit&&(p=function(E){let C;return C="object"==typeof E?E.value:E,fp(C)?null:C}(n.limit));let v=null;var E;n.startAt&&(v=new _c((E=n.startAt).values||[],!!E.before));let y=null;return n.endAt&&(y=function(E){return new _c(E.values||[],!E.before)}(n.endAt)),pS(e,i,u,c,p,"F",v,y)}function yA(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Fm(e.unaryFilter.field);return un.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Fm(e.unaryFilter.field);return un.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fm(e.unaryFilter.field);return un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Fm(e.unaryFilter.field);return un.create(c,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(t):void 0!==t.fieldFilter?un.create(Fm((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return fn.create(e.compositeFilter.filters.map(n=>yA(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return gt()}}(e.compositeFilter.op))}(t):gt();var e}function ZO(t){return NO[t]}function zO(t){return LO[t]}function GO(t){return FO[t]}function Lm(t){return{fieldPath:t.canonicalString()}}function Fm(t){return yr.fromServerFormat(t.fieldPath)}function _A(t){return t instanceof un?function(e){if("=="===e.op){if(pw(e.value))return{unaryFilter:{field:Lm(e.field),op:"IS_NAN"}};if(h_(e.value))return{unaryFilter:{field:Lm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pw(e.value))return{unaryFilter:{field:Lm(e.field),op:"IS_NOT_NAN"}};if(h_(e.value))return{unaryFilter:{field:Lm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lm(e.field),op:zO(e.op),value:e.value}}}(t):t instanceof fn?function(e){const n=e.getFilters().map(r=>_A(r));return 1===n.length?n[0]:{compositeFilter:{op:GO(e.op),filters:n}}}(t):gt()}function qO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bA(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ds(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=EA(e)),e=WO(t.get(n),e);return EA(e)}function WO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const c=t.charAt(i);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function EA(t){return t+"\x01\x01"}function Cc(t){const e=t.length;if(Tt(e>=2),2===e)return Tt("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),mn.emptyPath();const n=e-2,r=[];let i="";for(let c=0;c<e;){const u=t.indexOf("\x01",c);switch((u<0||u>n)&&gt(),t.charAt(u+1)){case"\x01":const p=t.substring(c,u);let v;0===i.length?v=p:(i+=p,v=i,i=""),r.push(v);break;case"\x10":i+=t.substring(c,u),i+="\0";break;case"\x11":i+=t.substring(c,u+1);break;default:gt()}c=u+2}return new mn(r)}const wA=["userId","batchId"];function xw(t,e){return[t,Ds(e)]}function CA(t,e,n){return[t,Ds(e),n]}const KO={},YO=["prefixPath","collectionGroup","readTime","documentId"],QO=["prefixPath","collectionGroup","documentId"],XO=["collectionGroup","readTime","prefixPath","documentId"],JO=["canonicalId","targetId"],eR=["targetId","path"],tR=["path","targetId"],nR=["collectionId","parent"],rR=["indexId","uid"],iR=["uid","sequenceNumber"],sR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oR=["indexId","uid","orderedDocumentKey"],aR=["userId","collectionPath","documentId"],lR=["userId","collectionPath","largestBatchId"],cR=["userId","collectionGroup","largestBatchId"],IA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],uR=[...IA,"documentOverlays"],TA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SA=TA,dR=[...SA,"indexConfiguration","indexState","indexEntries"];class wS extends Ts{constructor(e,n){super(),this.se=e,this.currentSequenceNumber=n}}function ki(t,e){const n=at(t);return Ss.M(n.se,e)}class CS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(e.key)&&DO(c,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=v_(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=v_(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iA();return this.mutations.forEach(i=>{const c=e.get(i.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=n.has(i.key)?null:p;const v=Kx(u,p);null!==v&&r.set(i.key,v),u.isValidDocument()||u.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rn())}isEqual(e){return this.batchId===e.batchId&&cp(this.mutations,e.mutations,(n,r)=>Yx(n,r))&&cp(this.baseMutations,e.baseMutations,(n,r)=>Yx(n,r))}}class IS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Tt(e.mutations.length===r.length);let i=PO;const c=e.mutations;for(let u=0;u<c.length;u++)i=i.insert(c[u].key,r[u].version);return new IS(e,n,r,i)}}class TS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wh{constructor(e,n,r,i,c=St.min(),u=St.min(),p=Tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p}withSequenceNumber(e){return new wh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class DA{constructor(e){this.ie=e}}function xA(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Aw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:w_(i=t.ie,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Nm(i,c.version.toTimestamp()),createTime:Nm(i,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ip(e.version)};else{if(!e.isUnknownDocument())return gt();r.unknownDocument={path:n.path.toArray(),version:Ip(e.version)}}var i,c;return r}function Aw(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ip(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tp(t){const e=new zn(t.seconds,t.nanoseconds);return St.fromTimestamp(e)}function Sp(t,e){const n=(e.baseMutations||[]).map(c=>bS(t.ie,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>bS(t.ie,c)),i=zn.fromMillis(e.localWriteTimeMs);return new CS(e.batchId,i,n,r)}function T_(t){const e=Tp(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Tp(t.lastLimboFreeSnapshotVersion):St.min();let r;var i;return void 0!==t.query.documents?(Tt(1===(i=t.query).documents.length),r=as(_h(hA(i.documents[0])))):r=as(vA(t.query)),new wh(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Tr.fromBase64String(t.resumeToken))}function AA(t,e){const n=Ip(e.snapshotVersion),r=Ip(e.lastLimboFreeSnapshotVersion);let i;i=Om(e.target)?mA(t.ie,e.target):ES(t.ie,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ju(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function SS(t){const e=vA({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?o(e,e.limit,"L"):e}function DS(t,e){return new TS(e.largestBatchId,bS(t.ie,e.overlayMutation))}function MA(t,e){const n=e.path.lastSegment();return[t,Ds(e.path.popLast()),n]}function PA(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Ip(r.readTime),documentKey:Ds(r.documentKey.path),largestBatchId:r.largestBatchId}}class fR{getBundleMetadata(e,n){return OA(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Tp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return OA(e).put({bundleId:(r=n).id,createTime:Ip($r(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return RA(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:SS(i.bundledQuery),readTime:Tp(i.readTime)};var i})}saveNamedQuery(e,n){return RA(e).put({name:(r=n).name,readTime:Ip($r(r.readTime)),bundledQuery:r.bundledQuery});var r}}function OA(t){return ki(t,"bundles")}function RA(t){return ki(t,"namedQueries")}class Mw{constructor(e,n){this.yt=e,this.userId=n}static re(e,n){return new Mw(e,n.uid||"")}getOverlay(e,n){return S_(e).get(MA(this.userId,n)).next(r=>r?DS(this.yt,r):null)}getOverlays(e,n){const r=Ec();return ge.forEach(n,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((c,u)=>{const p=new TS(n,u);i.push(this.oe(e,p))}),ge.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(u=>i.add(Ds(u.getCollectionPath())));const c=[];return i.forEach(u=>{const p=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);c.push(S_(e).Y("collectionPathOverlayIndex",p))}),ge.waitFor(c)}getOverlaysForCollection(e,n,r){const i=Ec(),c=Ds(n),u=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return S_(e).W("collectionPathOverlayIndex",u).next(p=>{for(const v of p){const y=DS(this.yt,v);i.set(y.getKey(),y)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const c=Ec();let u;const p=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return S_(e).Z({index:"collectionGroupOverlayIndex",range:p},(v,y,E)=>{const C=DS(this.yt,y);c.size()<i||C.largestBatchId===u?(c.set(C.getKey(),C),u=C.largestBatchId):E.done()}).next(()=>c)}oe(e,n){return S_(e).put(function(r,i,c){const[u,p,v]=MA(i,c.mutation.key);return{userId:i,collectionPath:p,documentId:v,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:I_(r.ie,c.mutation)}}(this.yt,this.userId,n))}}function S_(t){return ki(t,"documentOverlays")}class Dp{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(ar(e.integerValue));else if("doubleValue"in e){const r=ar(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),pp(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),"string"==typeof r?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(mc(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?sS(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):gt()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),ot.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}function pR(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function kA(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const c=pR(255&n[i]);if(r+=c,8!==c)break}return r}(t);return Math.ceil(e/8)}Dp.Ie=new Dp;class gR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ee(r.value),r=n.next();this.Ae()}Re(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.be(r.value),r=n.next();this.Pe()}ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=n.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=n.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const n=this.De(e),r=kA(n);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}xe(e){const n=this.De(e),r=kA(n);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const n=function(i){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,i,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ee(e){const n=255&e;0===n?(this.ke(0),this.ke(255)):255===n?(this.ke(255),this.ke(0)):this.ke(n)}be(e){const n=255&e;0===n?(this.Me(0),this.Me(255)):255===n?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class mR{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class vR{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class D_{constructor(){this.$e=new gR,this.Be=new mR(this.$e),this.Le=new vR(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class xp{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new xp(this.indexId,this.documentKey,this.arrayValue,r)}}function Ch(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=NA(t.arrayValue,e.arrayValue),0!==n?n:(n=NA(t.directionalValue,e.directionalValue),0!==n?n:ot.comparator(t.documentKey,e.documentKey)))}function NA(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class yR{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const n of e.filters){const r=n;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){Tt(e.collectionGroup===this.collectionId);const n=a_(e);if(void 0!==n&&!this.We(n))return!1;const r=ph(e);let i=0,c=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const u=r[i];if(!this.ze(this.Qe,u)||!this.He(this.Ke[c++],u))return!1;++i}for(;i<r.length;++i)if(c>=this.Ke.length||!this.He(this.Ke[c++],r[i]))return!1;return!0}We(e){for(const n of this.Ge)if(this.ze(n,e))return!0;return!1}ze(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function LA(t){var e,n;if(Tt(t instanceof un||t instanceof fn),t instanceof un){if(t instanceof yw){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>un.create(t.field,"==",c)))||[];return fn.create(i,"or")}return t}const r=t.filters.map(i=>LA(i));return fn.create(r,t.op)}function _R(t){if(0===t.getFilters().length)return[];const e=MS(LA(t));return Tt(FA(e)),xS(e)||AS(e)?[e]:e.getFilters()}function xS(t){return t instanceof un}function AS(t){return t instanceof fn&&_p(t)}function FA(t){return xS(t)||AS(t)||function(e){if(e instanceof fn&&yp(e)){for(const n of e.getFilters())if(!xS(n)&&!AS(n))return!1;return!0}return!1}(t)}function MS(t){if(Tt(t instanceof un||t instanceof fn),t instanceof un)return t;if(1===t.filters.length)return MS(t.filters[0]);const e=t.filters.map(r=>MS(r));let n=fn.create(e,t.op);return n=Pw(n),FA(n)?n:(Tt(n instanceof fn),Tt(Vu(n)),Tt(n.filters.length>1),n.filters.reduce((r,i)=>PS(r,i)))}function PS(t,e){let n;return Tt(t instanceof un||t instanceof fn),Tt(e instanceof un||e instanceof fn),n=t instanceof un?e instanceof un?fn.create([t,e],"and"):$A(t,e):e instanceof un?$A(e,t):function(r,i){if(Tt(r.filters.length>0&&i.filters.length>0),Vu(r)&&Vu(i))return Ep(r,i.getFilters());const c=yp(r)?r:i,u=yp(r)?i:r,p=c.filters.map(v=>PS(v,u));return fn.create(p,"or")}(t,e),Pw(n)}function $A(t,e){if(Vu(e))return Ep(e,t.getFilters());{const n=e.filters.map(r=>PS(t,r));return fn.create(n,"or")}}function Pw(t){if(Tt(t instanceof un||t instanceof fn),t instanceof un)return t;const e=t.getFilters();if(1===e.length)return Pw(e[0]);if(vw(t))return t;const n=e.map(i=>Pw(i)),r=[];return n.forEach(i=>{i instanceof un?r.push(i):i instanceof fn&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:fn.create(r,t.op)}class bR{constructor(){this.Je=new OS}addToCollectionParentIndex(e,n){return this.Je.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(Wi.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class OS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tn(mn.comparator),c=!i.has(r);return this.index[n]=i.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tn(mn.comparator)).toArray()}}const Ow=new Uint8Array(0);class ER{constructor(e,n){this.user=e,this.databaseId=n,this.Ye=new OS,this.Xe=new Eh(r=>ju(r),(r,i)=>Cp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ye.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Ye.add(n)});const c={collectionId:r,parent:Ds(i)};return UA(e).put(c)}return ge.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[iw(n),""],!1,!0);return UA(e).W(i).next(c=>{for(const u of c){if(u.collectionId!==n)break;r.push(Cc(u.parent))}return r})}addFieldIndex(e,n){const r=Rw(e),i={indexId:(u=n).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var u;delete i.indexId;const c=r.add(i);if(n.indexState){const u=A_(e);return c.next(p=>{u.put(PA(p,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const r=Rw(e),i=A_(e),c=x_(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=x_(e);let i=!0;const c=new Map;return ge.forEach(this.Ze(n),u=>this.tn(e,u).next(p=>{i&&(i=!!p),c.set(u,p)})).next(()=>{if(i){let u=rn();const p=[];return ge.forEach(c,(v,y)=>{var E;Ze("IndexedDbIndexManager",`Using index ${E=v,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(G=>`${G.fieldPath}:${G.kind}`).join(",")}`} to execute ${ju(n)}`);const C=function(G,me){const de=a_(me);if(void 0===de)return null;for(const ye of p_(G,de.fieldPath))switch(ye.op){case"array-contains-any":return ye.value.arrayValue.values||[];case"array-contains":return[ye.value]}return null}(y,v),x=function(G,me){const de=new Map;for(const ye of ph(me))for(const Re of p_(G,ye.fieldPath))switch(Re.op){case"==":case"in":de.set(ye.fieldPath.canonicalString(),Re.value);break;case"not-in":case"!=":return de.set(ye.fieldPath.canonicalString(),Re.value),Array.from(de.values())}return null}(y,v),P=function(G,me){const de=[];let ye=!0;for(const Re of ph(me)){const tt=0===Re.kind?hS(G,Re.fieldPath,G.startAt):fS(G,Re.fieldPath,G.startAt);de.push(tt.value),ye&&(ye=tt.inclusive)}return new _c(de,ye)}(y,v),N=function(G,me){const de=[];let ye=!0;for(const Re of ph(me)){const tt=0===Re.kind?fS(G,Re.fieldPath,G.endAt):hS(G,Re.fieldPath,G.endAt);de.push(tt.value),ye&&(ye=tt.inclusive)}return new _c(de,ye)}(y,v),O=this.en(v,y,P),F=this.en(v,y,N),z=this.nn(v,y,x),Z=this.sn(v.indexId,C,O,P.inclusive,F,N.inclusive,z);return ge.forEach(Z,G=>r.J(G,n.limit).next(me=>{me.forEach(de=>{const ye=ot.fromSegments(de.documentKey);u.has(ye)||(u=u.add(ye),p.push(ye))})}))}).next(()=>p)}return ge.resolve(null)})}Ze(e){let n=this.Xe.get(e);return n||(n=0===e.filters.length?[e]:_R(fn.create(e.filters,"and")).map(r=>Ew(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,n),n)}sn(e,n,r,i,c,u,p){const v=(null!=n?n.length:1)*Math.max(r.length,c.length),y=v/(null!=n?n.length:1),E=[];for(let C=0;C<v;++C){const x=n?this.rn(n[C/y]):Ow,P=this.on(e,x,r[C%y],i),N=this.un(e,x,c[C%y],u),O=p.map(F=>this.on(e,x,F,!0));E.push(...this.createRange(P,N,O))}return E}on(e,n,r,i){const c=new xp(e,ot.empty(),n,r);return i?c:c.Ue()}un(e,n,r,i){const c=new xp(e,ot.empty(),n,r);return i?c.Ue():c}tn(e,n){const r=new yR(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(c=>{let u=null;for(const p of c)r.je(p)&&(!u||p.fields.length>u.fields.length)&&(u=p);return u})}getIndexType(e,n){let r=2;const i=this.Ze(n);return ge.forEach(i,c=>this.tn(e,c).next(u=>{u?0!==r&&u.fields.length<function(p){let v=new Tn(yr.comparator),y=!1;for(const E of p.filters)for(const C of E.getFlattenedFilters())C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?y=!0:v=v.add(C.field));for(const E of p.orderBy)E.field.isKeyField()||(v=v.add(E.field));return v.size+(y?1:0)}(c)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}cn(e,n){const r=new D_;for(const i of ph(e)){const c=n.data.field(i.fieldPath);if(null==c)return null;const u=r.qe(i.kind);Dp.Ie.ue(c,u)}return r.Fe()}rn(e){const n=new D_;return Dp.Ie.ue(e,n.qe(0)),n.Fe()}an(e,n){const r=new D_;return Dp.Ie.ue(yh(this.databaseId,n),r.qe(function(i){const c=ph(i);return 0===c.length?0:c[c.length-1].kind}(e))),r.Fe()}nn(e,n,r){if(null===r)return[];let i=[];i.push(new D_);let c=0;for(const u of ph(e)){const p=r[c++];for(const v of i)if(this.hn(n,u.fieldPath)&&Dm(p))i=this.ln(i,u,p);else{const y=v.qe(u.kind);Dp.Ie.ue(p,y)}}return this.fn(i)}en(e,n,r){return this.nn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Fe();return n}ln(e,n,r){const i=[...e],c=[];for(const u of r.arrayValue.values||[])for(const p of i){const v=new D_;v.seed(p.Fe()),Dp.Ie.ue(u,v.qe(n.kind)),c.push(v)}return c}hn(e,n){return!!e.filters.find(r=>r instanceof un&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Rw(e),i=A_(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(c=>{const u=[];return ge.forEach(c,p=>i.get([p.indexId,this.uid]).next(v=>{u.push(function(y,E){const C=E?new Cm(E.sequenceNumber,new Wi(Tp(E.readTime),new ot(Cc(E.documentKey)),E.largestBatchId)):Cm.empty(),x=y.fields.map(([P,N])=>new dp(yr.fromServerFormat(P),N));return new wm(y.indexId,y.collectionGroup,x,C)}(p,v))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const c=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==c?c:en(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Rw(e),c=A_(e);return this.dn(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(p=>ge.forEach(p,v=>c.put(PA(v.indexId,this.user,u,r)))))}updateIndexEntries(e,n){const r=new Map;return ge.forEach(n,(i,c)=>{const u=r.get(i.collectionGroup);return(u?ge.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),ge.forEach(p,v=>this._n(e,i,v).next(y=>{const E=this.wn(c,v);return y.isEqual(E)?ge.resolve():this.mn(e,c,v,y,E)}))))})}gn(e,n,r,i){return x_(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,n.key),documentKey:n.key.path.toArray()})}yn(e,n,r,i){return x_(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,n.key),n.key.path.toArray()])}_n(e,n,r){const i=x_(e);let c=new Tn(Ch);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,n)])},(u,p)=>{c=c.add(new xp(r.indexId,n,p.arrayValue,p.directionalValue))}).next(()=>c)}wn(e,n){let r=new Tn(Ch);const i=this.cn(n,e);if(null==i)return r;const c=a_(n);if(null!=c){const u=e.data.field(c.fieldPath);if(Dm(u))for(const p of u.arrayValue.values||[])r=r.add(new xp(n.indexId,e.key,this.rn(p),i))}else r=r.add(new xp(n.indexId,e.key,Ow,i));return r}mn(e,n,r,i,c){Ze("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const u=[];return function(p,v,y,E,C){const x=p.getIterator(),P=v.getIterator();let N=wp(x),O=wp(P);for(;N||O;){let F=!1,z=!1;if(N&&O){const Z=y(N,O);Z<0?z=!0:Z>0&&(F=!0)}else null!=N?z=!0:F=!0;F?(E(O),O=wp(P)):z?(C(N),N=wp(x)):(N=wp(x),O=wp(P))}}(i,c,Ch,p=>{u.push(this.gn(e,n,r,p))},p=>{u.push(this.yn(e,n,r,p))}),ge.waitFor(u)}dn(e){let n=1;return A_(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,c)=>{c.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((u,p)=>Ch(u,p)).filter((u,p,v)=>!p||0!==Ch(u,v[p-1]));const i=[];i.push(e);for(const u of r){const p=Ch(u,e),v=Ch(u,n);if(0===p)i[0]=e.Ue();else if(p>0&&v<0)i.push(u),i.push(u.Ue());else if(v>0)break}i.push(n);const c=[];for(let u=0;u<i.length;u+=2){if(this.pn(i[u],i[u+1]))return[];c.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,Ow,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,Ow,[]]))}return c}pn(e,n){return Ch(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(VA)}getMinOffset(e,n){return ge.mapArray(this.Ze(n),r=>this.tn(e,r).next(i=>i||gt())).next(VA)}}function UA(t){return ki(t,"collectionParents")}function x_(t){return ki(t,"indexEntries")}function Rw(t){return ki(t,"indexConfiguration")}function A_(t){return ki(t,"indexState")}function VA(t){Tt(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;l_(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Wi(e.readTime,e.documentKey,n)}const BA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zs{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zs(e,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jA(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),c=[],u=IDBKeyRange.only(n.batchId);let p=0;const v=r.Z({range:u},(E,C,x)=>(p++,x.delete()));c.push(v.next(()=>{Tt(1===p)}));const y=[];for(const E of n.mutations){const C=CA(e,E.key.path,n.batchId);c.push(i.delete(C)),y.push(E.key)}return ge.waitFor(c).next(()=>y)}function kw(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw gt();e=t.noDocument}return JSON.stringify(e).length}Zs.DEFAULT_COLLECTION_PERCENTILE=10,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zs.DEFAULT=new Zs(41943040,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zs.DISABLED=new Zs(-1,0,0);class Nw{constructor(e,n,r,i){this.userId=e,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,n,r,i){Tt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Nw(c,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ih(e).Z({index:"userMutationsIndex",range:r},(i,c,u)=>{n=!1,u.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const c=$m(e),u=Ih(e);return u.add({}).next(p=>{Tt("number"==typeof p);const v=new CS(p,n,r,i),y=function(x,P,N){const O=N.baseMutations.map(z=>I_(x.ie,z)),F=N.mutations.map(z=>I_(x.ie,z));return{userId:P,batchId:N.batchId,localWriteTimeMs:N.localWriteTime.toMillis(),baseMutations:O,mutations:F}}(this.yt,this.userId,v),E=[];let C=new Tn((x,P)=>en(x.canonicalString(),P.canonicalString()));for(const x of i){const P=CA(this.userId,x.key.path,p);C=C.add(x.key.path.popLast()),E.push(u.put(y)),E.push(c.put(P,KO))}return C.forEach(x=>{E.push(this.indexManager.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(()=>{this.In[p]=v.keys()}),ge.waitFor(E).next(()=>v)})}lookupMutationBatch(e,n){return Ih(e).get(n).next(r=>r?(Tt(r.userId===this.userId),Sp(this.yt,r)):null)}Tn(e,n){return this.In[n]?ge.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.In[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Ih(e).Z({index:"userMutationsIndex",range:i},(u,p,v)=>{p.userId===this.userId&&(Tt(p.batchId>=r),c=Sp(this.yt,p)),v.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ih(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,c,u)=>{r=c.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ih(e).W("userMutationsIndex",n).next(r=>r.map(i=>Sp(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=xw(this.userId,n.path),i=IDBKeyRange.lowerBound(r),c=[];return $m(e).Z({range:i},(u,p,v)=>{const[y,E,C]=u,x=Cc(E);if(y===this.userId&&n.path.isEqual(x))return Ih(e).get(C).next(P=>{if(!P)throw gt();Tt(P.userId===this.userId),c.push(Sp(this.yt,P))});v.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tn(en);const i=[];return n.forEach(c=>{const u=xw(this.userId,c.path),p=IDBKeyRange.lowerBound(u),v=$m(e).Z({range:p},(y,E,C)=>{const[x,P,N]=y,O=Cc(P);x===this.userId&&c.path.isEqual(O)?r=r.add(N):C.done()});i.push(v)}),ge.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,c=xw(this.userId,r),u=IDBKeyRange.lowerBound(c);let p=new Tn(en);return $m(e).Z({range:u},(v,y,E)=>{const[C,x,P]=v,N=Cc(x);C===this.userId&&r.isPrefixOf(N)?N.length===i&&(p=p.add(P)):E.done()}).next(()=>this.En(e,p))}En(e,n){const r=[],i=[];return n.forEach(c=>{i.push(Ih(e).get(c).next(u=>{if(null===u)throw gt();Tt(u.userId===this.userId),r.push(Sp(this.yt,u))}))}),ge.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return jA(e.se,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),ge.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ge.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return $m(e).Z({range:r},(c,u,p)=>{if(c[0]===this.userId){const v=Cc(c[1]);i.push(v)}else p.done()}).next(()=>{Tt(0===i.length)})})}containsKey(e,n){return HA(e,this.userId,n)}Rn(e){return ZA(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function HA(t,e,n){const r=xw(e,n.path),i=r[1],c=IDBKeyRange.lowerBound(r);let u=!1;return $m(t).Z({range:c,X:!0},(p,v,y)=>{const[E,C,x]=p;E===e&&C===i&&(u=!0),y.done()}).next(()=>u)}function Ih(t){return ki(t,"mutations")}function $m(t){return ki(t,"documentMutations")}function ZA(t){return ki(t,"mutationQueues")}class Ap{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ap(0)}static vn(){return new Ap(-1)}}class wR{constructor(e,n){this.referenceDelegate=e,this.yt=n}allocateTargetId(e){return this.Vn(e).next(n=>{const r=new Ap(n.highestTargetId);return n.highestTargetId=r.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>St.fromTimestamp(new zn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Sn(e,i)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(n,r),this.Sn(e,r))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Um(e).delete(n.targetId)).next(()=>this.Vn(e)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,n,r){let i=0;const c=[];return Um(e).Z((u,p)=>{const v=T_(p);v.sequenceNumber<=n&&null===r.get(v.targetId)&&(i++,c.push(this.removeTargetData(e,v)))}).next(()=>ge.waitFor(c)).next(()=>i)}forEachTarget(e,n){return Um(e).Z((r,i)=>{const c=T_(i);n(c)})}Vn(e){return zA(e).get("targetGlobalKey").next(n=>(Tt(null!==n),n))}Sn(e,n){return zA(e).put("targetGlobalKey",n)}Dn(e,n){return Um(e).put(AA(this.yt,n))}Cn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ju(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Um(e).Z({range:i,index:"queryTargetsIndex"},(u,p,v)=>{const y=T_(p);Cp(n,y.target)&&(c=y,v.done())}).next(()=>c)}addMatchingKeys(e,n,r){const i=[],c=Th(e);return n.forEach(u=>{const p=Ds(u.path);i.push(c.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,u))}),ge.waitFor(i)}removeMatchingKeys(e,n,r){const i=Th(e);return ge.forEach(n,c=>{const u=Ds(c.path);return ge.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,n){const r=Th(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Th(e);let c=rn();return i.Z({range:r,X:!0},(u,p,v)=>{const y=Cc(u[1]),E=new ot(y);c=c.add(E)}).next(()=>c)}containsKey(e,n){const r=Ds(n.path),i=IDBKeyRange.bound([r],[iw(r)],!1,!0);let c=0;return Th(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,p],v,y)=>{0!==u&&(c++,y.done())}).next(()=>c>0)}ne(e,n){return Um(e).get(n).next(r=>r?T_(r):null)}}function Um(t){return ki(t,"targets")}function zA(t){return ki(t,"targetGlobal")}function Th(t){return ki(t,"targetDocuments")}function GA([t,e],[n,r]){const i=en(t,n);return 0===i?en(e,r):i}class CR{constructor(e){this.xn=e,this.buffer=new Tn(GA),this.Nn=0}kn(){return++this.Nn}On(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var n=this;Ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Pe.Z)(function*(){n.Mn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){pc(r)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield fc(r)}yield n.Fn(3e5)}))}}class TR{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return ge.resolve(Ir.at);const r=new CR(n);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.$n.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(BA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BA):this.qn(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,n){let r,i,c,u,p,v,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),i=this.params.maximumSequenceNumbersToCollect):i=C,u=Date.now(),this.nthSequenceNumber(e,i))).next(C=>(r=C,p=Date.now(),this.removeTargets(e,r,n))).next(C=>(c=C,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(C=>(y=Date.now(),bm()<=Au.in.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${i} in `+(p-u)+`ms\n\tRemoved ${c} targets in `+(v-p)+`ms\n\tRemoved ${C} documents in `+(y-v)+`ms\nTotal Duration: ${y-E}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:C})))}}class SR{constructor(e,n){this.db=e,this.garbageCollector=new TR(this,n)}Bn(e){const n=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Un(e){let n=0;return this.Ln(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(r,i)=>n(i))}addReference(e,n,r){return Lw(e,r)}removeReference(e,n,r){return Lw(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Lw(e,n)}Gn(e,n){return function(r,i){let c=!1;return ZA(r).tt(u=>HA(r,u,i).next(p=>(p&&(c=!0),ge.resolve(!p)))).next(()=>c)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let c=0;return this.Kn(e,(u,p)=>{if(p<=n){const v=this.Gn(e,u).next(y=>{if(!y)return c++,r.getEntry(e,u).next(()=>(r.removeEntry(u,St.min()),Th(e).delete([0,Ds(u.path)])))});i.push(v)}}).next(()=>ge.waitFor(i)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Lw(e,n)}Kn(e,n){const r=Th(e);let i,c=Ir.at;return r.Z({index:"documentTargetsIndex"},([u,p],{path:v,sequenceNumber:y})=>{0===u?(c!==Ir.at&&n(new ot(Cc(i)),c),c=y,i=v):c=Ir.at}).next(()=>{c!==Ir.at&&n(new ot(Cc(i)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Lw(t,e){return Th(t).put((r=t.currentSequenceNumber,{targetId:0,path:Ds(e.path),sequenceNumber:r}));var r}class qA{constructor(){this.changes=new Eh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class DR{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Mp(e).put(r)}removeEntry(e,n,r){return Mp(e).delete(function(i,c){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Aw(c),u[u.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Qn(e,r)))}getEntry(e,n){let r=Vn.newInvalidDocument(n);return Mp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(M_(n))},(i,c)=>{r=this.jn(n,c)}).next(()=>r)}Wn(e,n){let r={size:0,document:Vn.newInvalidDocument(n)};return Mp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(M_(n))},(i,c)=>{r={document:this.jn(n,c),size:kw(c)}}).next(()=>r)}getEntries(e,n){let r=Hs();return this.zn(e,n,(i,c)=>{const u=this.jn(i,c);r=r.insert(i,u)}).next(()=>r)}Hn(e,n){let r=Hs(),i=new Xn(ot.comparator);return this.zn(e,n,(c,u)=>{const p=this.jn(c,u);r=r.insert(c,p),i=i.insert(c,kw(u))}).next(()=>({documents:r,Jn:i}))}zn(e,n,r){if(n.isEmpty())return ge.resolve();let i=new Tn(QA);n.forEach(v=>i=i.add(v));const c=IDBKeyRange.bound(M_(i.first()),M_(i.last())),u=i.getIterator();let p=u.getNext();return Mp(e).Z({index:"documentKeyIndex",range:c},(v,y,E)=>{const C=ot.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;p&&QA(p,C)<0;)r(p,null),p=u.getNext();p&&p.isEqual(C)&&(r(p,y),p=u.hasNext()?u.getNext():null),p?E.j(M_(p)):E.done()}).next(()=>{for(;p;)r(p,null),p=u.hasNext()?u.getNext():null})}getAllFromCollection(e,n,r){const i=[n.popLast().toArray(),n.lastSegment(),Aw(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mp(e).W(IDBKeyRange.bound(i,c,!0)).next(u=>{let p=Hs();for(const v of u){const y=this.jn(ot.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);p=p.insert(y.key,y)}return p})}getAllFromCollectionGroup(e,n,r,i){let c=Hs();const u=YA(n,r),p=YA(n,Wi.max());return Mp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,p,!0)},(v,y,E)=>{const C=this.jn(ot.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);c=c.insert(C.key,C),c.size===i&&E.done()}).next(()=>c)}newChangeBuffer(e){return new xR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return KA(e).get("remoteDocumentGlobalKey").next(n=>(Tt(!!n),n))}Qn(e,n){return KA(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const r=function hR(t,e){let n;if(e.document)n=gA(t.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ot.fromSegments(e.noDocument.path),i=Tp(e.noDocument.readTime);n=Vn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return gt();{const r=ot.fromSegments(e.unknownDocument.path),i=Tp(e.unknownDocument.version);n=Vn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new zn(r[0],r[1]);return St.fromTimestamp(i)}(e.readTime)),n}(this.yt,n);if(!r.isNoDocument()||!r.version.isEqual(St.min()))return r}return Vn.newInvalidDocument(e)}}function WA(t){return new DR(t)}class xR extends qA{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new Eh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Tn((c,u)=>en(c.canonicalString(),u.canonicalString()));return this.changes.forEach((c,u)=>{const p=this.Xn.get(c);if(n.push(this.Yn.removeEntry(e,c,p.readTime)),u.isValidDocument()){const v=xA(this.Yn.yt,u);i=i.add(c.path.popLast());const y=kw(v);r+=y-p.size,n.push(this.Yn.addEntry(e,c,v))}else if(r-=p.size,this.trackRemovals){const v=xA(this.Yn.yt,u.convertToNoDocument(St.min()));n.push(this.Yn.addEntry(e,c,v))}}),i.forEach(c=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,c))}),n.push(this.Yn.updateMetadata(e,r)),ge.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(r=>(this.Xn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:r,Jn:i})=>(i.forEach((c,u)=>{this.Xn.set(c,{size:u,readTime:r.get(c).readTime})}),r))}}function KA(t){return ki(t,"remoteDocumentGlobal")}function Mp(t){return ki(t,"remoteDocumentsV14")}function M_(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function YA(t,e){const n=e.documentKey.path.toArray();return[t,Aw(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function QA(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let c=0;c<n.length-2&&c<r.length-2;++c)if(i=en(n[c],r[c]),i)return i;return i=en(n.length,r.length),i||(i=en(n[n.length-2],r[r.length-2]),i||en(n[n.length-1],r[r.length-1]))}class AR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class XA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&v_(r.mutation,i,Ki.empty(),zn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rn()){const i=Ec();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(c=>{let u=y_();return c.forEach((p,v)=>{u=u.insert(p,v.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Ec();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rn()))}populateOverlays(e,n,r){const i=[];return r.forEach(c=>{n.has(c)||i.push(c)}),this.documentOverlayCache.getOverlays(e,i).next(c=>{c.forEach((u,p)=>{n.set(u,p)})})}computeViews(e,n,r,i){let c=Hs();const u=__(),p=__();return n.forEach((v,y)=>{const E=r.get(y.key);i.has(y.key)&&(void 0===E||E.mutation instanceof Hu)?c=c.insert(y.key,y):void 0!==E?(u.set(y.key,E.mutation.getFieldMask()),v_(E.mutation,y,E.mutation.getFieldMask(),zn.now())):u.set(y.key,Ki.empty())}),this.recalculateAndSaveOverlays(e,c).next(v=>(v.forEach((y,E)=>u.set(y,E)),n.forEach((y,E)=>{var C;return p.set(y,new AR(E,null!==(C=u.get(y))&&void 0!==C?C:null))}),p))}recalculateAndSaveOverlays(e,n){const r=__();let i=new Xn((u,p)=>u-p),c=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const p of u)p.keys().forEach(v=>{const y=n.get(v);if(null===y)return;let E=r.get(v)||Ki.empty();E=p.applyToLocalView(y,E),r.set(v,E);const C=(i.get(p.batchId)||rn()).add(v);i=i.insert(p.batchId,C)})}).next(()=>{const u=[],p=i.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,E=v.value,C=iA();E.forEach(x=>{if(!c.has(x)){const P=Kx(n.get(x),r.get(x));null!==P&&C.set(x,P),c=c.add(x)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,C))}return ge.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return ot.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Cw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(c=>{const u=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-c.size):ge.resolve(Ec());let p=-1,v=c;return u.next(y=>ge.forEach(y,(E,C)=>(p<C.largestBatchId&&(p=C.largestBatchId),c.get(E)?ge.resolve():this.remoteDocumentCache.getEntry(e,E).next(x=>{v=v.insert(E,x)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,v,y,rn())).next(E=>({batchId:p,changes:rA(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ot(n)).next(r=>{let i=y_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let c=y_();return this.indexManager.getCollectionParents(e,i).next(u=>ge.forEach(u,p=>{const v=(y=n,E=p.child(i),new bc(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,E;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(y=>{y.forEach((E,C)=>{c=c.insert(E,C)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(c=>(i=c,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(c=>{c.forEach((p,v)=>{const y=v.getKey();null===i.get(y)&&(i=i.insert(y,Vn.newInvalidDocument(y)))});let u=y_();return i.forEach((p,v)=>{const y=c.get(p);void 0!==y&&v_(y.mutation,v,Ki.empty(),zn.now()),g(n,v)&&(u=u.insert(p,v))}),u})}}class MR{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return ge.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:$r(r.createTime)}),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:SS(r.bundledQuery),readTime:$r(r.readTime)}),ge.resolve();var r}}class PR{constructor(){this.overlays=new Xn(ot.comparator),this.es=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ec();return ge.forEach(n,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,c)=>{this.oe(e,n,c)}),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=Ec(),c=n.length+1,u=new ot(n.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>r&&i.set(v.getKey(),v)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let c=new Xn((y,E)=>y-E);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=c.get(y.largestBatchId);null===E&&(E=Ec(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Ec(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((y,E)=>p.set(y,E)),!(p.size()>=i)););return ge.resolve(p)}oe(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new TS(n,r));let c=this.es.get(n);void 0===c&&(c=rn(),this.es.set(n,c)),this.es.set(n,c.add(r.key))}}class RS{constructor(){this.ns=new Tn(Ni.ss),this.rs=new Tn(Ni.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Ni(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Ni(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new ot(new mn([])),r=new Ni(n,e),i=new Ni(n,e+1),c=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),c.push(u.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new ot(new mn([])),r=new Ni(n,e),i=new Ni(n,e+1);let c=rn();return this.rs.forEachInRange([r,i],u=>{c=c.add(u.key)}),c}containsKey(e){const n=new Ni(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ni{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return ot.comparator(e.key,n.key)||en(e._s,n._s)}static os(e,n){return en(e._s,n._s)||ot.comparator(e.key,n.key)}}class OR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Tn(Ni.ss)}checkEmpty(e){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const c=this.ws;this.ws++;const u=new CS(c,n,r,i);this.mutationQueue.push(u);for(const p of i)this.gs=this.gs.add(new Ni(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(e,n){return ge.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),c=i<0?0:i;return ge.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ni(n,0),i=new Ni(n,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([r,i],u=>{const p=this.ys(u._s);c.push(p)}),ge.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tn(en);return n.forEach(i=>{const c=new Ni(i,0),u=new Ni(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,u],p=>{r=r.add(p._s)})}),ge.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let c=r;ot.isDocumentKey(c)||(c=c.child(""));const u=new Ni(new ot(c),0);let p=new Tn(en);return this.gs.forEachWhile(v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===i&&(p=p.add(v._s)),!0)},u),ge.resolve(this.Is(p))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Tt(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ge.forEach(n.mutations,i=>{const c=new Ni(i.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Ni(n,0),i=this.gs.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return ge.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RR{constructor(e){this.Es=e,this.docs=new Xn(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),c=i?i.size:0,u=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Hs();return n.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.mutableCopy():Vn.newInvalidDocument(i))}),ge.resolve(r)}getAllFromCollection(e,n,r){let i=Hs();const c=new ot(n.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:p,value:{document:v}}=u.getNext();if(!n.isPrefixOf(p.path))break;p.path.length>n.length+1||l_(ow(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return ge.resolve(i)}getAllFromCollectionGroup(e,n,r,i){gt()}As(e,n){return ge.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kR(this)}getSize(e){return ge.resolve(this.size)}}class kR extends qA{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ge.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class NR{constructor(e){this.persistence=e,this.Rs=new Eh(n=>ju(n),Cp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.bs=0,this.Ps=new RS,this.targetCount=0,this.vs=Ap.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),ge.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Ap(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Dn(n),ge.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const c=[];return this.Rs.forEach((u,p)=>{p.sequenceNumber<=n&&null===r.get(p.targetId)&&(this.Rs.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),ge.waitFor(c).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,c=[];return i&&n.forEach(u=>{c.push(i.markPotentiallyOrphaned(e,u))}),ge.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this.Ps.containsKey(n))}}class JA{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Ir(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new NR(this),this.indexManager=new bR,this.remoteDocumentCache=new RR(r=>this.referenceDelegate.xs(r)),this.yt=new DA(n),this.Ns=new MR(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new OR(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new LR(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(c=>this.referenceDelegate.Os(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}Ms(e,n){return ge.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class LR extends Ts{constructor(e){super(),this.currentSequenceNumber=e}}class Fw{constructor(e){this.persistence=e,this.Fs=new RS,this.$s=null}static Bs(e){return new Fw(e)}get Ls(){if(this.$s)return this.$s;throw gt()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(c=>this.Ls.add(c.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Ls,r=>{const i=ot.fromPath(r);return this.qs(e,i).next(c=>{c||n.removeEntry(i,St.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return ge.or([()=>ge.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class FR{constructor(e){this.yt=e}$(e,n,r,i){const c=new Im("createOrUpgrade",n);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wA,{unique:!0}),p.createObjectStore("documentMutations"),eM(e),function(p){p.createObjectStore("remoteDocuments")}(e));let u=ge.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),eM(e)),u=u.next(()=>function(p){const v=p.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",y)}(c))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(p,v){return v.store("mutations").W().next(y=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wA,{unique:!0});const E=v.store("mutations"),C=y.map(x=>E.put(x));return ge.waitFor(C)})}(e,c))),u=u.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Us(c))),r<6&&i>=6&&(u=u.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(c)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(c))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,c))),r<9&&i>=9&&(u=u.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(c))),r<11&&i>=11&&(u=u.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:aR});v.createIndex("collectionPathOverlayIndex",lR,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",cR,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:YO});v.createIndex("documentKeyIndex",QO),v.createIndex("collectionGroupIndex",XO)}(e)).next(()=>this.Ws(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,c))),r<15&&i>=15&&(u=u.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:rR}).createIndex("sequenceNumberIndex",iR,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:sR}).createIndex("documentKeyIndex",oR,{unique:!1})}(e))),u}Ks(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=kw(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>ge.forEach(i,c=>{const u=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(p=>ge.forEach(p,v=>{Tt(v.userId===c.userId);const y=Sp(this.yt,v);return jA(e,c.userId,y).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const c=[];return r.Z((u,p)=>{const v=new mn(u),y=[0,Ds(v)];c.push(n.get(y).next(E=>E?ge.resolve():n.put({targetId:0,path:Ds(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ge.waitFor(c))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:nR});const r=n.store("collectionParents"),i=new OS,c=u=>{if(i.add(u)){const p=u.lastSegment(),v=u.popLast();return r.put({collectionId:p,parent:Ds(v)})}};return n.store("remoteDocuments").Z({X:!0},(u,p)=>{const v=new mn(u);return c(v.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([u,p,v],y)=>{const E=Cc(p);return c(E.popLast())}))}js(e){const n=e.store("targets");return n.Z((r,i)=>{const c=T_(i),u=AA(this.yt,c);return n.put(u)})}Ws(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((c,u)=>{const p=n.store("remoteDocumentsV14"),v=(y=u,y.document?new ot(mn.fromString(y.document.name).popFirst(5)):y.noDocument?ot.fromSegments(y.noDocument.path):y.unknownDocument?ot.fromSegments(y.unknownDocument.path):gt()).path.toArray();var y;const E={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(p.put(E))}).next(()=>ge.waitFor(i))}zs(e,n){const r=n.store("mutations"),i=WA(this.yt),c=new JA(Fw.Bs,this.yt.ie);return r.W().next(u=>{const p=new Map;return u.forEach(v=>{var y;let E=null!==(y=p.get(v.userId))&&void 0!==y?y:rn();Sp(this.yt,v).keys().forEach(C=>E=E.add(C)),p.set(v.userId,E)}),ge.forEach(p,(v,y)=>{const E=new Lr(y),C=Mw.re(this.yt,E),x=c.getIndexManager(E),P=Nw.re(E,this.yt,x,c.referenceDelegate);return new XA(i,P,C,x).recalculateAndSaveOverlaysForDocumentKeys(new wS(n,Ir.at),v).next()})})}}function eM(t){t.createObjectStore("targetDocuments",{keyPath:eR}).createIndex("documentTargetsIndex",tR,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",JO,{unique:!0}),t.createObjectStore("targetGlobal")}const kS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NS{constructor(e,n,r,i,c,u,p,v,y,E,C=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Hs=c,this.window=u,this.document=p,this.Js=y,this.Ys=E,this.Xs=C,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=x=>Promise.resolve(),!NS.C())throw new He(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SR(this,i),this.ii=n+"main",this.yt=new DA(v),this.ri=new Ss(this.ii,this.Xs,new FR(this.yt)),this.Cs=new wR(this.referenceDelegate,this.yt),this.remoteDocumentCache=WA(this.yt),this.Ns=new fR,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&Cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(ve.FAILED_PRECONDITION,kS);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ir(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var n=this;return this.si=function(){var r=(0,Pe.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var n=(0,Pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Pe.Z)(function*(){n.started&&(yield n.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$w(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(pc(e))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return P_(e).get("owner").next(n=>ge.resolve(this.mi(n)))}gi(e){return $w(e).delete(this.clientId)}yi(){var e=this;return(0,Pe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ki(r,"clientMetadata");return i.W().next(c=>{const u=e.Ii(c,18e5),p=c.filter(v=>-1===u.indexOf(v));return ge.forEach(p,v=>i.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of n)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ge.resolve(!0):P_(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new He(ve.FAILED_PRECONDITION,kS);return!1}}return!(!this.networkEnabled||!this.inForeground)||$w(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Ze("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Pe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new wS(n,Ir.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,n){return e.filter(r=>this.pi(r.updateTimeMs,n)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>$w(e).W().next(n=>this.Ii(n,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return Nw.re(e,this.yt,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ER(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Mw.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,n,r){Ze("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",c=15===(u=this.Xs)?dR:14===u?SA:13===u?TA:12===u?uR:11===u?IA:void gt();var u;let p;return this.ri.runTransaction(e,i,c,v=>(p=new wS(v,this.Ss?this.Ss.next():Ir.at),"readwrite-primary"===n?this.fi(p).next(y=>!!y||this.di(p)).next(y=>{if(!y)throw Cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new He(ve.FAILED_PRECONDITION,tS);return r(p)}).next(y=>this.wi(p).next(()=>y)):this.Vi(p).next(()=>r(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}Vi(e){return P_(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new He(ve.FAILED_PRECONDITION,kS)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return P_(e).put("owner",n)}static C(){return Ss.C()}_i(e){const n=P_(e);return n.get("owner").next(r=>this.mi(r)?(Ze("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ge.resolve())}pi(e,n){const r=Date.now();return!(e<r-n||e>r&&(Cr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,nt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const r=null!==(null===(n=this.oi)||void 0===n?void 0:n.getItem(this.Ti(e)));return Ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Cr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Cr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function P_(t){return ki(t,"owner")}function $w(t){return ki(t,"clientMetadata")}function LS(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class FS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=rn(),i=rn();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new FS(e,n.fromCache,r,i)}}class tM{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(c=>c||this.Oi(e,n,i,r)).next(c=>c||this.Mi(e,n))}ki(e,n){if(gS(n))return ge.resolve(null);let r=as(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=o(n,null,"F"),r=as(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const u=rn(...c);return this.Ni.getDocuments(e,u).next(p=>this.indexManager.getMinOffset(e,r).next(v=>{const y=this.Fi(n,p);return this.$i(n,y,u,v.readTime)?this.ki(e,o(n,null,"F")):this.Bi(e,y,n,v)}))})))}Oi(e,n,r,i){return gS(n)||i.isEqual(St.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(c=>{const u=this.Fi(n,c);return this.$i(n,u,r,i)?this.Mi(e,n):(bm()<=Au.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),h(n)),this.Bi(e,u,n,js(i,-1)))})}Fi(e,n){let r=new Tn(I(e));return n.forEach((i,c)=>{g(e,c)&&(r=r.add(c))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Mi(e,n){return bm()<=Au.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",h(n)),this.Ni.getDocumentsMatchingQuery(e,n,Wi.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(c=>(n.forEach(u=>{c=c.insert(u.key,u)}),c))}}class $R{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new Xn(en),this.Ui=new Eh(c=>ju(c),Cp),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XA(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function nM(t,e,n,r){return new $R(t,e,n,r)}function rM(t,e){return $S.apply(this,arguments)}function $S(){return $S=(0,Pe.Z)(function*(t,e){const n=at(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(c=>(i=c,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const u=[],p=[];let v=rn();for(const y of i){u.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}return n.localDocuments.getDocuments(r,v).next(y=>({ji:y,removedBatchIds:u,addedBatchIds:p}))})})}),$S.apply(this,arguments)}function UR(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),c=n.Gi.newChangeBuffer({trackRemovals:!0});return function(u,p,v,y){const E=v.batch,C=E.keys();let x=ge.resolve();return C.forEach(P=>{x=x.next(()=>y.getEntry(p,P)).next(N=>{const O=v.docVersions.get(P);Tt(null!==O),N.version.compareTo(O)<0&&(E.applyToRemoteDocument(N,v),N.isValidDocument()&&(N.setReadTime(v.commitVersion),y.addEntry(N)))})}),x.next(()=>u.mutationQueue.removeMutationBatch(p,E))}(n,r,e,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let p=rn();for(let v=0;v<u.mutationResults.length;++v)u.mutationResults[v].transformResults.length>0&&(p=p.add(u.batch.mutations[v].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function iM(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function VR(t,e){const n=at(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const p=[];e.targetChanges.forEach((E,C)=>{const x=i.get(C);if(!x)return;p.push(n.Cs.removeMatchingKeys(c,E.removedDocuments,C).next(()=>n.Cs.addMatchingKeys(c,E.addedDocuments,C)));let P=x.withSequenceNumber(c.currentSequenceNumber);var N,O,F;e.targetMismatches.has(C)?P=P.withResumeToken(Tr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,r)),i=i.insert(C,P),O=P,F=E,(0===(N=x).resumeToken.approximateByteSize()||O.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0)&&p.push(n.Cs.updateTargetData(c,P))});let v=Hs(),y=rn();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),p.push(sM(c,u,e.documentUpdates).next(E=>{v=E.Wi,y=E.zi})),!r.isEqual(St.min())){const E=n.Cs.getLastRemoteSnapshotVersion(c).next(C=>n.Cs.setTargetsMetadata(c,c.currentSequenceNumber,r));p.push(E)}return ge.waitFor(p).next(()=>u.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,v,y)).next(()=>v)}).then(c=>(n.qi=i,c))}function sM(t,e,n){let r=rn(),i=rn();return n.forEach(c=>r=r.add(c)),e.getEntries(t,r).next(c=>{let u=Hs();return n.forEach((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(i=i.add(p)),v.isNoDocument()&&v.version.isEqual(St.min())?(e.removeEntry(p,v.readTime),u=u.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||0===v.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(v),u=u.insert(p,v)):Ze("LocalStore","Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)}),{Wi:u,zi:i}})}function BR(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Vm(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(c=>c?(i=c,ge.resolve(i)):n.Cs.allocateTargetId(r).next(u=>(i=new wh(e,u,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}function Bm(t,e,n){return US.apply(this,arguments)}function US(){return US=(0,Pe.Z)(function*(t,e,n){const r=at(t),i=r.qi.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",c,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!pc(u))throw u;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),US.apply(this,arguments)}function Uw(t,e,n){const r=at(t);let i=St.min(),c=rn();return r.persistence.runTransaction("Execute query","readonly",u=>function(p,v,y){const E=at(p),C=E.Ui.get(y);return void 0!==C?ge.resolve(E.qi.get(C)):E.Cs.getTargetData(v,y)}(r,u,as(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,p.targetId).next(v=>{c=v})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,n?i:St.min(),n?c:rn())).next(p=>(lM(r,b(e),p),{documents:p,Hi:c})))}function oM(t,e){const n=at(t),r=at(n.Cs),i=n.qi.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",c=>r.ne(c,e).next(u=>u?u.target:null))}function aM(t,e){const n=at(t),r=n.Ki.get(e)||St.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Gi.getAllFromCollectionGroup(i,e,js(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(lM(n,e,i),i))}function lM(t,e,n){let r=t.Ki.get(e)||St.min();n.forEach((i,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),t.Ki.set(e,r)}function VS(){return VS=(0,Pe.Z)(function*(t,e,n,r){const i=at(t);let c=rn(),u=Hs();for(const y of n){const E=e.Ji(y.metadata.name);y.document&&(c=c.add(E));const C=e.Yi(y);C.setReadTime(e.Xi(y.metadata.readTime)),u=u.insert(E,C)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),v=yield Vm(i,(y=r,as(_h(mn.fromString(`__bundle__/docs/${y}`)))));var y;return i.persistence.runTransaction("Apply bundle documents","readwrite",y=>sM(y,p,u).next(E=>(p.apply(y),E)).next(E=>i.Cs.removeMatchingKeysForTargetId(y,v.targetId).next(()=>i.Cs.addMatchingKeys(y,c,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(y,E.Wi,E.zi)).next(()=>E.Wi)))}),VS.apply(this,arguments)}function HR(t,e){return BS.apply(this,arguments)}function BS(){return BS=(0,Pe.Z)(function*(t,e,n=rn()){const r=yield Vm(t,as(SS(e.bundledQuery))),i=at(t);return i.persistence.runTransaction("Save named query","readwrite",c=>{const u=$r(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(c,e);const p=r.withResumeToken(Tr.EMPTY_BYTE_STRING,u);return i.qi=i.qi.insert(p.targetId,p),i.Cs.updateTargetData(c,p).next(()=>i.Cs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>i.Cs.addMatchingKeys(c,n,r.targetId)).next(()=>i.Ns.saveNamedQuery(c,e))})}),BS.apply(this,arguments)}function cM(t,e){return`firestore_clients_${t}_${e}`}function uM(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jS(t,e){return`firestore_targets_${t}_${e}`}class Vw{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Zi(e,n,r){const i=JSON.parse(r);let c,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(c=new He(i.error.code,i.error.message))),u?new Vw(e,n,i.state,c):(Cr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class O_{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Zi(e,n){const r=JSON.parse(n);let i,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(i=new He(r.error.code,r.error.message))),c?new O_(e,r.state,i):(Cr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bw{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,c=Sw();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=dw(r.activeTargetIds[u]),c=c.add(r.activeTargetIds[u]);return i?new Bw(e,c):(Cr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class HS{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new HS(n.clientId,n.onlineState):(Cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ZS{constructor(){this.activeTargetIds=Sw()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zS{constructor(e,n,r,i,c){this.window=e,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Xn(en),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ar=cM(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new ZS),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Pe.Z)(function*(){const n=yield e.syncEngine.vi();for(const i of n){if(i===e.sr)continue;const c=e.getItem(cM(e.persistenceKey,i));if(c){const u=Bw.Zi(i,c);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,r){this.Tr(e,n,r),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(jS(this.persistenceKey,e));if(r){const i=O_.Zi(e,r);i&&(n=i.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jS(this.persistenceKey,e))}updateQueryState(e,n,r){this.Rr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Ze("SharedClientState","READ",e,n),n}setItem(e,n){Ze("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Pe.Z)(function*(){if(n.started){if(null!==r.key)if(n.lr.test(r.key)){if(null==r.newValue){const i=n.vr(r.key);return n.Vr(i,null)}{const i=n.Sr(r.key,r.newValue);if(i)return n.Vr(i.clientId,i)}}else if(n.dr.test(r.key)){if(null!==r.newValue){const i=n.Dr(r.key,r.newValue);if(i)return n.Cr(i)}}else if(n._r.test(r.key)){if(null!==r.newValue){const i=n.Nr(r.key,r.newValue);if(i)return n.kr(i)}}else if(r.key===n.wr){if(null!==r.newValue){const i=n.yr(r.newValue);if(i)return n.pr(i)}}else if(r.key===n.hr){const i=function(c){let u=Ir.at;if(null!=c)try{const p=JSON.parse(c);Tt("number"==typeof p),u=p}catch(p){Cr("SharedClientState","Failed to read sequence number from WebStorage",p)}return u}(r.newValue);i!==Ir.at&&n.sequenceNumberHandler(i)}else if(r.key===n.mr){const i=n.Or(r.newValue);yield Promise.all(i.map(c=>n.syncEngine.Mr(c)))}}else n.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,r){const i=new Vw(this.currentUser,e,n,r),c=uM(this.persistenceKey,this.currentUser,e);this.setItem(c,i.tr())}Er(e){const n=uM(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,n,r){const i=jS(this.persistenceKey,e),c=new O_(e,n,r);this.setItem(i,c.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const r=this.vr(e);return Bw.Zi(r,n)}Dr(e,n){const r=this.dr.exec(e),i=Number(r[1]);return Vw.Zi(new Lr(void 0!==r[2]?r[2]:null),i,n)}Nr(e,n){const r=this._r.exec(e),i=Number(r[1]);return O_.Zi(i,n)}yr(e){return HS.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var n=this;return(0,Pe.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Fr(e.batchId,e.state,e.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const r=n?this.ur.insert(e,n):this.ur.remove(e),i=this.Ir(this.ur),c=this.Ir(r),u=[],p=[];return c.forEach(v=>{i.has(v)||u.push(v)}),i.forEach(v=>{c.has(v)||p.push(v)}),this.syncEngine.Br(u,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=Sw();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class dM{constructor(){this.Lr=new ZS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ZS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZR{Ur(e){}shutdown(){}}class hM{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const zR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GR{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class qR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,c){const u=this.ho(e,n);Ze("RestConnection","Sending: ",u,r);const p={};return this.lo(p,i,c),this.fo(e,u,p,r).then(v=>(Ze("RestConnection","Received: ",v),v),v=>{throw hc("RestConnection",`${e} failed with error: `,v,"url: ",u,"request:",r),v})}_o(e,n,r,i,c,u){return this.ao(e,n,r,i,c)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$u,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,c)=>e[c]=i),r&&r.headers.forEach((i,c)=>e[c]=i)}ho(e,n){return`${this.oo}/v1/${n}:${zR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((c,u)=>{const p=new XE;p.setWithCredentials(!0),p.listenOnce(WT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ym.NO_ERROR:const y=p.getResponseJson();Ze("Connection","XHR received:",JSON.stringify(y)),c(y);break;case ym.TIMEOUT:Ze("Connection",'RPC "'+e+'" timed out'),u(new He(ve.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const E=p.getStatus();if(Ze("Connection",'RPC "'+e+'" failed with status:',E,"response text:",p.getResponseText()),E>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const x=C?.error;if(x&&x.status&&x.message){const P=function(N){const O=N.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(O)>=0?O:ve.UNKNOWN}(x.status);u(new He(P,x.message))}else u(new He(ve.UNKNOWN,"Server responded with status "+p.getStatus()))}else u(new He(ve.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{Ze("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);p.send(n,"POST",v,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=qT(),u=YE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new KT({})),this.lo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const v=i.join("");Ze("Connection","Creating WebChannel: "+v,p);const y=c.createWebChannel(v,p);let E=!1,C=!1;const x=new GR({Hr:N=>{C?Ze("Connection","Not sending because WebChannel is closed:",N):(E||(Ze("Connection","Opening WebChannel transport."),y.open(),E=!0),Ze("Connection","WebChannel sending:",N),y.send(N))},Jr:()=>y.close()}),P=(N,O,F)=>{N.listen(O,z=>{try{F(z)}catch(Z){setTimeout(()=>{throw Z},0)}})};return P(y,_m.EventType.OPEN,()=>{C||Ze("Connection","WebChannel transport opened.")}),P(y,_m.EventType.CLOSE,()=>{C||(C=!0,Ze("Connection","WebChannel transport closed"),x.io())}),P(y,_m.EventType.ERROR,N=>{C||(C=!0,hc("Connection","WebChannel transport errored:",N),x.io(new He(ve.UNAVAILABLE,"The operation could not be completed")))}),P(y,_m.EventType.MESSAGE,N=>{var O;if(!C){const F=N.data[0];Tt(!!F);const Z=F.error||(null===(O=F[0])||void 0===O?void 0:O.error);if(Z){Ze("Connection","WebChannel received error:",Z);const G=Z.status;let me=function(ye){const Re=ti[ye];if(void 0!==Re)return tA(Re)}(G),de=Z.message;void 0===me&&(me=ve.INTERNAL,de="Unknown error status: "+G+" with message "+Z.message),C=!0,x.io(new He(me,de)),y.close()}else Ze("Connection","WebChannel received:",F),x.ro(F)}}),P(u,QE.STAT_EVENT,N=>{N.stat===i_.PROXY?Ze("Connection","Detected buffering proxy"):N.stat===i_.NOPROXY&&Ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.so()},0),x}}function fM(){return typeof window<"u"?window:null}function jw(){return typeof document<"u"?document:null}function R_(t){return new $O(t,!0)}class GS{constructor(e,n,r=1e3,i=1.5,c=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class pM{constructor(e,n,r,i,c,u,p,v){this.Hs=e,this.vo=r,this.Vo=i,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new GS(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Pe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Pe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var r=this;return(0,Pe.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):n&&n.code===ve.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new He(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Pe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WR extends pM{constructor(e,n,r,i,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.yt=c}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=function BO(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:gt(),i=e.targetChange.targetIds||[],c=function(v,y){return v.wt?(Tt(void 0===y||"string"==typeof y),Tr.fromBase64String(y||"")):(Tt(void 0===y||y instanceof Uint8Array),Tr.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(v){const y=void 0===v.code?ve.UNKNOWN:tA(v.code);return new He(y,v.message||"")}(u);n=new oA(r,i,c,p||null)}else if("documentChange"in e){const r=e.documentChange,i=wc(t,r.document.name),c=$r(r.document.updateTime),u=r.document.createTime?$r(r.document.createTime):St.min(),p=new Fr({mapValue:{fields:r.document.fields}}),v=Vn.newFoundDocument(i,c,u,p);n=new Dw(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,i=wc(t,r.document),c=r.readTime?$r(r.readTime):St.min(),u=Vn.newNoDocument(i,c);n=new Dw([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=wc(t,r.document);n=new Dw([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return gt();{const r=e.filter,c=new AO(r.count||0);n=new sA(r.targetId,c)}}var v;return n}(this.yt,e),r=function(i){if(!("targetChange"in i))return St.min();const c=i.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?$r(c.readTime):St.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=C_(this.yt),n.addTarget=function(i,c){let u;const p=c.target;return u=Om(p)?{documents:mA(i,p)}:{query:ES(i,p)},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?u.resumeToken=uA(i,c.resumeToken):c.snapshotVersion.compareTo(St.min())>0&&(u.readTime=Nm(i,c.snapshotVersion.toTimestamp())),u}(this.yt,e);const r=function HO(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gt()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=C_(this.yt),n.removeTarget=e,this.Bo(n)}}class KR extends pM{constructor(e,n,r,i,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.yt=c,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function jO(t,e){return t&&t.length>0?(Tt(void 0!==e),t.map(n=>function(r,i){let c=$r(r.updateTime?r.updateTime:i);return c.isEqual(St.min())&&(c=$r(i)),new SO(c,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.Zo(r,n)}return Tt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=C_(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>I_(this.yt,r))};this.Bo(n)}}class YR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new He(ve.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,c])=>this.connection.ao(e,n,r,i,c)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new He(ve.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection._o(e,n,r,c,u,i)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new He(ve.UNKNOWN,c.toString())})}terminate(){this.nu=!0}}class XR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Cr(n),this.ou=!1):Ze("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class JR{constructor(e,n,r,i,c){var u=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=c,this.mu.Ur(p=>{r.enqueueAndForget((0,Pe.Z)(function*(){var v;Zu(u)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Pe.Z)(function*(y){const E=at(y);E._u.add(4),yield jm(E),E.gu.set("Unknown"),E._u.delete(4),yield k_(E)}),function(y){return v.apply(this,arguments)})(u))}))}),this.gu=new XR(r,i)}}function k_(t){return WS.apply(this,arguments)}function WS(){return WS=(0,Pe.Z)(function*(t){if(Zu(t))for(const e of t.wu)yield e(!0)}),WS.apply(this,arguments)}function jm(t){return KS.apply(this,arguments)}function KS(){return KS=(0,Pe.Z)(function*(t){for(const e of t.wu)yield e(!1)}),KS.apply(this,arguments)}function Hw(t,e){const n=at(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),XS(n)?QS(n):Zm(n).ko()&&YS(n,e))}function N_(t,e){const n=at(t),r=Zm(n);n.du.delete(e),r.ko()&&gM(n,e),0===n.du.size&&(r.ko()?r.Fo():Zu(n)&&n.gu.set("Unknown"))}function YS(t,e){t.yu.Ot(e.targetId),Zm(t).zo(e)}function gM(t,e){t.yu.Ot(e),Zm(t).Ho(e)}function QS(t){t.yu=new kO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Zm(t).start(),t.gu.uu()}function XS(t){return Zu(t)&&!Zm(t).No()&&t.du.size>0}function Zu(t){return 0===at(t)._u.size}function mM(t){t.yu=void 0}function ek(t){return JS.apply(this,arguments)}function JS(){return JS=(0,Pe.Z)(function*(t){t.du.forEach((e,n)=>{YS(t,e)})}),JS.apply(this,arguments)}function tk(t,e){return eD.apply(this,arguments)}function eD(){return eD=(0,Pe.Z)(function*(t,e){mM(t),XS(t)?(t.gu.hu(e),QS(t)):t.gu.set("Unknown")}),eD.apply(this,arguments)}function nk(t,e,n){return tD.apply(this,arguments)}function tD(){return tD=(0,Pe.Z)(function*(t,e,n){if(t.gu.set("Online"),e instanceof oA&&2===e.state&&e.cause)try{yield(r=(0,Pe.Z)(function*(i,c){const u=c.cause;for(const p of c.targetIds)i.du.has(p)&&(yield i.remoteSyncer.rejectListen(p,u),i.du.delete(p),i.yu.removeTarget(p))}),function(i,c){return r.apply(this,arguments)})(t,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zw(t,r)}else if(e instanceof Dw?t.yu.Kt(e):e instanceof sA?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(St.min()))try{const r=yield iM(t.localStore);n.compareTo(r)>=0&&(yield function(i,c){const u=i.yu.Zt(c);return u.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const y=i.du.get(v);y&&i.du.set(v,y.withResumeToken(p.resumeToken,c))}}),u.targetMismatches.forEach(p=>{const v=i.du.get(p);if(!v)return;i.du.set(p,v.withResumeToken(Tr.EMPTY_BYTE_STRING,v.snapshotVersion)),gM(i,p);const y=new wh(v.target,p,1,v.sequenceNumber);YS(i,y)}),i.remoteSyncer.applyRemoteEvent(u)}(t,n))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield Zw(t,r)}var r}),tD.apply(this,arguments)}function Zw(t,e,n){return nD.apply(this,arguments)}function nD(){return nD=(0,Pe.Z)(function*(t,e,n){if(!pc(e))throw e;t._u.add(1),yield jm(t),t.gu.set("Offline"),n||(n=()=>iM(t.localStore)),t.asyncQueue.enqueueRetryable((0,Pe.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield n(),t._u.delete(1),yield k_(t)}))}),nD.apply(this,arguments)}function vM(t,e){return e().catch(n=>Zw(t,n,e))}function Hm(t){return rD.apply(this,arguments)}function rD(){return rD=(0,Pe.Z)(function*(t){const e=at(t),n=Sh(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;rk(e);)try{const i=yield BR(e.localStore,r);if(null===i){0===e.fu.length&&n.Fo();break}r=i.batchId,ik(e,i)}catch(i){yield Zw(e,i)}yM(e)&&_M(e)}),rD.apply(this,arguments)}function rk(t){return Zu(t)&&t.fu.length<10}function ik(t,e){t.fu.push(e);const n=Sh(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function yM(t){return Zu(t)&&!Sh(t).No()&&t.fu.length>0}function _M(t){Sh(t).start()}function sk(t){return iD.apply(this,arguments)}function iD(){return iD=(0,Pe.Z)(function*(t){Sh(t).eu()}),iD.apply(this,arguments)}function ok(t){return sD.apply(this,arguments)}function sD(){return sD=(0,Pe.Z)(function*(t){const e=Sh(t);for(const n of t.fu)e.Xo(n.mutations)}),sD.apply(this,arguments)}function ak(t,e,n){return oD.apply(this,arguments)}function oD(){return oD=(0,Pe.Z)(function*(t,e,n){const r=t.fu.shift(),i=IS.from(r,e,n);yield vM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Hm(t)}),oD.apply(this,arguments)}function lk(t,e){return aD.apply(this,arguments)}function aD(){return aD=(0,Pe.Z)(function*(t,e){var n;e&&Sh(t).Yo&&(yield(n=(0,Pe.Z)(function*(r,i){if(eA(c=i.code)&&c!==ve.ABORTED){const u=r.fu.shift();Sh(r).Mo(),yield vM(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Hm(r)}var c}),function(r,i){return n.apply(this,arguments)})(t,e)),yM(t)&&_M(t)}),aD.apply(this,arguments)}function bM(t,e){return lD.apply(this,arguments)}function lD(){return lD=(0,Pe.Z)(function*(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=Zu(n);n._u.add(3),yield jm(n),r&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield k_(n)}),lD.apply(this,arguments)}function cD(t,e){return uD.apply(this,arguments)}function uD(){return uD=(0,Pe.Z)(function*(t,e){const n=at(t);e?(n._u.delete(2),yield k_(n)):e||(n._u.add(2),yield jm(n),n.gu.set("Unknown"))}),uD.apply(this,arguments)}function Zm(t){return t.pu||(t.pu=function(e,n,r){const i=at(e);return i.su(),new WR(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:ek.bind(null,t),Zr:tk.bind(null,t),Wo:nk.bind(null,t)}),t.wu.push(function(){var e=(0,Pe.Z)(function*(n){n?(t.pu.Mo(),XS(t)?QS(t):t.gu.set("Unknown")):(yield t.pu.stop(),mM(t))});return function(n){return e.apply(this,arguments)}}())),t.pu}function Sh(t){return t.Iu||(t.Iu=function(e,n,r){const i=at(e);return i.su(),new KR(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:sk.bind(null,t),Zr:lk.bind(null,t),tu:ok.bind(null,t),Zo:ak.bind(null,t)}),t.wu.push(function(){var e=(0,Pe.Z)(function*(n){n?(t.Iu.Mo(),yield Hm(t)):(yield t.Iu.stop(),t.fu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Iu}class dD{constructor(e,n,r,i,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,n,r,i,c){const u=Date.now()+r,p=new dD(e,n,u,i,c);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new He(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),pc(t))return new He(ve.UNAVAILABLE,`${e}: ${t}`);throw t}class Gm{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ot.comparator(n.key,r.key):(n,r)=>ot.comparator(n.key,r.key),this.keyedMap=y_(),this.sortedSet=new Xn(this.comparator)}static emptySet(e){return new Gm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gm)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Gm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class EM{constructor(){this.Tu=new Xn(ot.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(n):1===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):gt():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class qm{constructor(e,n,r,i,c,u,p,v,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,i,c){const u=[];return n.forEach(p=>{u.push({type:0,doc:p})}),new qm(e,n,Gm.emptySet(n),u,r,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&a(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ck{constructor(){this.Au=void 0,this.listeners=[]}}class uk{constructor(){this.queries=new Eh(e=>d(e),a),this.onlineState="Unknown",this.Ru=new Set}}function hD(t,e){return fD.apply(this,arguments)}function fD(){return fD=(0,Pe.Z)(function*(t,e){const n=at(t),r=e.query;let i=!1,c=n.queries.get(r);if(c||(i=!0,c=new ck),i)try{c.Au=yield n.onListen(r)}catch(u){const p=zm(u,`Initialization of query '${h(e.query)}' failed`);return void e.onError(p)}n.queries.set(r,c),c.listeners.push(e),e.bu(n.onlineState),c.Au&&e.Pu(c.Au)&&mD(n)}),fD.apply(this,arguments)}function pD(t,e){return gD.apply(this,arguments)}function gD(){return gD=(0,Pe.Z)(function*(t,e){const n=at(t),r=e.query;let i=!1;const c=n.queries.get(r);if(c){const u=c.listeners.indexOf(e);u>=0&&(c.listeners.splice(u,1),i=0===c.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),gD.apply(this,arguments)}function dk(t,e){const n=at(t);let r=!1;for(const i of e){const u=n.queries.get(i.query);if(u){for(const p of u.listeners)p.Pu(i)&&(r=!0);u.Au=i}}r&&mD(n)}function hk(t,e,n){const r=at(t),i=r.queries.get(e);if(i)for(const c of i.listeners)c.onError(n);r.queries.delete(e)}function mD(t){t.Ru.forEach(e=>{e.next()})}class vD{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new qm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||(!this.options.Nu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=qm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class fk{constructor(e,n){this.ku=e,this.byteLength=n}Ou(){return"metadata"in this.ku}}class wM{constructor(e){this.yt=e}Ji(e){return wc(this.yt,e)}Yi(e){return e.metadata.exists?gA(this.yt,e.document,!1):Vn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return $r(e)}}class pk{constructor(e,n,r){this.Mu=e,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=CM(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++n;const r=mn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,r=new wM(this.yt);for(const i of e)if(i.metadata.queries){const c=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const p=(n.get(u)||rn()).add(c);n.set(u,p)}}return n}complete(){var e=this;return(0,Pe.Z)(function*(){const n=yield function jR(t,e,n,r){return VS.apply(this,arguments)}(e.localStore,new wM(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield HR(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:n}})()}}function CM(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class IM{constructor(e){this.key=e}}class TM{constructor(e){this.key=e}}class SM{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=rn(),this.mutatedKeys=rn(),this.Gu=I(e),this.Qu=new Gm(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new EM,i=n?n.Qu:this.Qu;let c=n?n.mutatedKeys:this.mutatedKeys,u=i,p=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,y="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((E,C)=>{const x=i.get(E),P=g(this.query,C)?C:null,N=!!x&&this.mutatedKeys.has(x.key),O=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;x&&P?x.data.isEqual(P.data)?N!==O&&(r.track({type:3,doc:P}),F=!0):this.Hu(x,P)||(r.track({type:2,doc:P}),F=!0,(v&&this.Gu(P,v)>0||y&&this.Gu(P,y)<0)&&(p=!0)):!x&&P?(r.track({type:0,doc:P}),F=!0):x&&!P&&(r.track({type:1,doc:x}),F=!0,(v||y)&&(p=!0)),F&&(P?(u=u.add(P),c=O?c.add(E):c.delete(E)):(u=u.delete(E),c=c.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{Qu:u,zu:r,$i:p,mutatedKeys:c}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Eu();c.sort((y,E)=>function(C,x){const P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return P(C)-P(x)}(y.type,E.type)||this.Gu(y.doc,E.doc)),this.Ju(r);const u=n?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,v=p!==this.Uu;return this.Uu=p,0!==c.length||v?{snapshot:new qm(this.query,e.Qu,i,c,e.mutatedKeys,0===p,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new EM,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=rn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new TM(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new IM(r))}),n}tc(e){this.qu=e.Hi,this.Ku=rn();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return qm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class gk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mk{constructor(e){this.key=e,this.nc=!1}}class vk{constructor(e,n,r,i,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Eh(p=>d(p),a),this.rc=new Map,this.oc=new Set,this.uc=new Xn(ot.comparator),this.cc=new Map,this.ac=new RS,this.hc={},this.lc=new Map,this.fc=Ap.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function yk(t,e){return yD.apply(this,arguments)}function yD(){return yD=(0,Pe.Z)(function*(t,e){const n=BD(t);let r,i;const c=n.ic.get(e);if(c)r=c.targetId,n.sharedClientState.addLocalQueryTarget(r),i=c.view.ec();else{const u=yield Vm(n.localStore,as(e));n.isPrimaryClient&&Hw(n.remoteStore,u);const p=n.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield _D(n,e,r,"current"===p,u.resumeToken)}return i}),yD.apply(this,arguments)}function _D(t,e,n,r,i){return bD.apply(this,arguments)}function bD(){return bD=(0,Pe.Z)(function*(t,e,n,r,i){t._c=(C,x,P)=>{return(N=(0,Pe.Z)(function*(O,F,z,Z){let G=F.view.Wu(z);G.$i&&(G=yield Uw(O.localStore,F.query,!1).then(({documents:ye})=>F.view.Wu(ye,G)));const me=Z&&Z.targetChanges.get(F.targetId),de=F.view.applyChanges(G,O.isPrimaryClient,me);return MD(O,F.targetId,de.Xu),de.snapshot}),function(O,F,z,Z){return N.apply(this,arguments)})(t,C,x,P);var N};const c=yield Uw(t.localStore,e,!0),u=new SM(e,c.Hi),p=u.Wu(c.documents),v=E_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),y=u.applyChanges(p,t.isPrimaryClient,v);MD(t,n,y.Xu);const E=new gk(e,n,u);return t.ic.set(e,E),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),y.snapshot}),bD.apply(this,arguments)}function _k(t,e){return ED.apply(this,arguments)}function ED(){return ED=(0,Pe.Z)(function*(t,e){const n=at(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(c=>!a(c,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Bm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),N_(n.remoteStore,r.targetId),Wm(n,r.targetId)}).catch(fc))):(Wm(n,r.targetId),yield Bm(n.localStore,r.targetId,!0))}),ED.apply(this,arguments)}function wD(){return wD=(0,Pe.Z)(function*(t,e,n){const r=jD(t);try{const i=yield function(c,u){const p=at(c),v=zn.now(),y=u.reduce((x,P)=>x.add(P.key),rn());let E,C;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let P=Hs(),N=rn();return p.Gi.getEntries(x,y).next(O=>{P=O,P.forEach((F,z)=>{z.isValidDocument()||(N=N.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,P)).next(O=>{E=O;const F=[];for(const z of u){const Z=xO(z,E.get(z.key).overlayedDocument);null!=Z&&F.push(new Hu(z.key,Z,bw(Z.value.mapValue),cr.exists(!0)))}return p.mutationQueue.addMutationBatch(x,v,F,u)}).next(O=>{C=O;const F=O.applyToLocalDocumentSet(E,N);return p.documentOverlayCache.saveOverlays(x,O.batchId,F)})}).then(()=>({batchId:C.batchId,changes:rA(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,u,p){let v=c.hc[c.currentUser.toKey()];v||(v=new Xn(en)),v=v.insert(u,p),c.hc[c.currentUser.toKey()]=v}(r,i.batchId,n),yield zu(r,i.changes),yield Hm(r.remoteStore)}catch(i){const c=zm(i,"Failed to persist write");n.reject(c)}}),wD.apply(this,arguments)}function DM(t,e){return CD.apply(this,arguments)}function CD(){return CD=(0,Pe.Z)(function*(t,e){const n=at(t);try{const r=yield VR(n.localStore,e);e.targetChanges.forEach((i,c)=>{const u=n.cc.get(c);u&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?Tt(u.nc):i.removedDocuments.size>0&&(Tt(u.nc),u.nc=!1))}),yield zu(n,r,e)}catch(r){yield fc(r)}}),CD.apply(this,arguments)}function xM(t,e,n){const r=at(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ic.forEach((c,u)=>{const p=u.view.bu(e);p.snapshot&&i.push(p.snapshot)}),function(c,u){const p=at(c);p.onlineState=u;let v=!1;p.queries.forEach((y,E)=>{for(const C of E.listeners)C.bu(u)&&(v=!0)}),v&&mD(p)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ek(t,e,n){return ID.apply(this,arguments)}function ID(){return ID=(0,Pe.Z)(function*(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),c=i&&i.key;if(c){let u=new Xn(ot.comparator);u=u.insert(c,Vn.newNoDocument(c,St.min()));const p=rn().add(c),v=new b_(St.min(),new Map,new Tn(en),u,p);yield DM(r,v),r.uc=r.uc.remove(c),r.cc.delete(e),PD(r)}else yield Bm(r.localStore,e,!1).then(()=>Wm(r,e,n)).catch(fc)}),ID.apply(this,arguments)}function wk(t,e){return TD.apply(this,arguments)}function TD(){return TD=(0,Pe.Z)(function*(t,e){const n=at(t),r=e.batch.batchId;try{const i=yield UR(n.localStore,e);AD(n,r,null),xD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield zu(n,i)}catch(i){yield fc(i)}}),TD.apply(this,arguments)}function Ck(t,e,n){return SD.apply(this,arguments)}function SD(){return SD=(0,Pe.Z)(function*(t,e,n){const r=at(t);try{const i=yield function(c,u){const p=at(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let y;return p.mutationQueue.lookupMutationBatch(v,u).next(E=>(Tt(null!==E),y=E.keys(),p.mutationQueue.removeMutationBatch(v,E))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,y,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,y)).next(()=>p.localDocuments.getDocuments(v,y))})}(r.localStore,e);AD(r,e,n),xD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield zu(r,i)}catch(i){yield fc(i)}}),SD.apply(this,arguments)}function DD(){return DD=(0,Pe.Z)(function*(t,e){const n=at(t);Zu(n.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const u=at(c);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.mutationQueue.getHighestUnacknowledgedBatchId(p))}(n.localStore);if(-1===r)return void e.resolve();const i=n.lc.get(r)||[];i.push(e),n.lc.set(r,i)}catch(r){const i=zm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),DD.apply(this,arguments)}function xD(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function AD(t,e,n){const r=at(t);let i=r.hc[r.currentUser.toKey()];if(i){const c=i.get(e);c&&(n?c.reject(n):c.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Wm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||AM(t,r)})}function AM(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(N_(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),PD(t))}function MD(t,e,n){for(const r of n)r instanceof IM?(t.ac.addReference(r.key,e),Tk(t,r)):r instanceof TM?(Ze("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||AM(t,r.key)):gt()}function Tk(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(Ze("SyncEngine","New document in limbo: "+n),t.oc.add(r),PD(t))}function PD(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new ot(mn.fromString(e)),r=t.fc.next();t.cc.set(r,new mk(n)),t.uc=t.uc.insert(n,r),Hw(t.remoteStore,new wh(as(_h(n.path)),r,2,Ir.at))}}function zu(t,e,n){return OD.apply(this,arguments)}function OD(){return OD=(0,Pe.Z)(function*(t,e,n){const r=at(t),i=[],c=[],u=[];var p;r.ic.isEmpty()||(r.ic.forEach((p,v)=>{u.push(r._c(v,e,n).then(y=>{if((y||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,y?.fromCache?"not-current":"current"),y){i.push(y);const E=FS.Ci(v.targetId,y);c.push(E)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(p=(0,Pe.Z)(function*(v,y){const E=at(v);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>ge.forEach(y,x=>ge.forEach(x.Si,P=>E.persistence.referenceDelegate.addReference(C,x.targetId,P)).next(()=>ge.forEach(x.Di,P=>E.persistence.referenceDelegate.removeReference(C,x.targetId,P)))))}catch(C){if(!pc(C))throw C;Ze("LocalStore","Failed to update sequence numbers: "+C)}for(const C of y){const x=C.targetId;if(!C.fromCache){const P=E.qi.get(x),O=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);E.qi=E.qi.insert(x,O)}}}),function(v,y){return p.apply(this,arguments)})(r.localStore,c))}),OD.apply(this,arguments)}function Sk(t,e){return RD.apply(this,arguments)}function RD(){return RD=(0,Pe.Z)(function*(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=yield rM(n.localStore,e);n.currentUser=e,(i=n).lc.forEach(u=>{u.forEach(p=>{p.reject(new He(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield zu(n,r.ji)}var i}),RD.apply(this,arguments)}function Dk(t,e){const n=at(t),r=n.cc.get(e);if(r&&r.nc)return rn().add(r.key);{let i=rn();const c=n.rc.get(e);if(!c)return i;for(const u of c){const p=n.ic.get(u);i=i.unionWith(p.view.ju)}return i}}function xk(t,e){return kD.apply(this,arguments)}function kD(){return kD=(0,Pe.Z)(function*(t,e){const n=at(t),r=yield Uw(n.localStore,e.query,!0),i=e.view.tc(r);return n.isPrimaryClient&&MD(n,e.targetId,i.Xu),i}),kD.apply(this,arguments)}function Ak(t,e){return ND.apply(this,arguments)}function ND(){return ND=(0,Pe.Z)(function*(t,e){const n=at(t);return aM(n.localStore,e).then(r=>zu(n,r))}),ND.apply(this,arguments)}function Mk(t,e,n,r){return LD.apply(this,arguments)}function LD(){return LD=(0,Pe.Z)(function*(t,e,n,r){const i=at(t),c=yield function(u,p){const v=at(u),y=at(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",E=>y.Tn(E,p).next(C=>C?v.localDocuments.getDocuments(E,C):ge.resolve(null)))}(i.localStore,e);var p;null!==c?("pending"===n?yield Hm(i.remoteStore):"acknowledged"===n||"rejected"===n?(AD(i,e,r||null),xD(i,e),p=e,at(at(i.localStore).mutationQueue).An(p)):gt(),yield zu(i,c)):Ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),LD.apply(this,arguments)}function FD(){return FD=(0,Pe.Z)(function*(t,e){const n=at(t);if(BD(n),jD(n),!0===e&&!0!==n.dc){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield MM(n,r.toArray());n.dc=!0,yield cD(n.remoteStore,!0);for(const c of i)Hw(n.remoteStore,c)}else if(!1===e&&!1!==n.dc){const r=[];let i=Promise.resolve();n.rc.forEach((c,u)=>{n.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Wm(n,u),Bm(n.localStore,u,!0))),N_(n.remoteStore,u)}),yield i,yield MM(n,r),function(c){const u=at(c);u.cc.forEach((p,v)=>{N_(u.remoteStore,v)}),u.ac.fs(),u.cc=new Map,u.uc=new Xn(ot.comparator)}(n),n.dc=!1,yield cD(n.remoteStore,!1)}}),FD.apply(this,arguments)}function MM(t,e,n){return $D.apply(this,arguments)}function $D(){return $D=(0,Pe.Z)(function*(t,e,n){const r=at(t),i=[],c=[];for(const u of e){let p;const v=r.rc.get(u);if(v&&0!==v.length){p=yield Vm(r.localStore,as(v[0]));for(const y of v){const E=r.ic.get(y),C=yield xk(r,E);C.snapshot&&c.push(C.snapshot)}}else{const y=yield oM(r.localStore,u);p=yield Vm(r.localStore,y),yield _D(r,PM(y),u,!1,p.resumeToken)}i.push(p)}return r.sc.Wo(c),i}),$D.apply(this,arguments)}function PM(t){return pS(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ok(t){const e=at(t);return at(at(e.localStore).persistence).vi()}function Rk(t,e,n,r){return UD.apply(this,arguments)}function UD(){return UD=(0,Pe.Z)(function*(t,e,n,r){const i=at(t);if(i.dc)return void Ze("SyncEngine","Ignoring unexpected query state notification.");const c=i.rc.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const u=yield aM(i.localStore,b(c[0])),p=b_.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Tr.EMPTY_BYTE_STRING);yield zu(i,u,p);break}case"rejected":yield Bm(i.localStore,e,!0),Wm(i,e,r);break;default:gt()}}),UD.apply(this,arguments)}function kk(t,e,n){return VD.apply(this,arguments)}function VD(){return VD=(0,Pe.Z)(function*(t,e,n){const r=BD(t);if(r.dc){for(const i of e){if(r.rc.has(i)){Ze("SyncEngine","Adding an already active target "+i);continue}const c=yield oM(r.localStore,i),u=yield Vm(r.localStore,c);yield _D(r,PM(c),u.targetId,!1,u.resumeToken),Hw(r.remoteStore,u)}for(const i of n)r.rc.has(i)&&(yield Bm(r.localStore,i,!1).then(()=>{N_(r.remoteStore,i),Wm(r,i)}).catch(fc))}}),VD.apply(this,arguments)}function BD(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ek.bind(null,e),e.sc.Wo=dk.bind(null,e.eventManager),e.sc.wc=hk.bind(null,e.eventManager),e}function jD(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ck.bind(null,e),e}class OM{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Pe.Z)(function*(){n.yt=R_(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return nM(this.persistence,new tM,e.initialUser,this.yt)}yc(e){return new JA(Fw.Bs,this.yt)}gc(e){return new dM}terminate(){var e=this;return(0,Pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class RM extends OM{constructor(e,n,r){super(),this.Ac=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,Pe.Z)(function*(){yield n().call(r,e),yield r.Ac.initialize(r,e),yield jD(r.Ac.syncEngine),yield Hm(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return nM(this.persistence,new tM,e.initialUser,this.yt)}Tc(e,n){return new IR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Ec(e,n){const r=new c_(n,this.persistence);return new nS(e.asyncQueue,r)}yc(e){const n=LS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Zs.withCacheSize(this.cacheSizeBytes):Zs.DEFAULT;return new NS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,fM(),jw(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new dM}}class Lk extends RM{constructor(e,n){super(e,n,!1),this.Ac=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,Pe.Z)(function*(){yield n().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof zS&&(r.sharedClientState.syncEngine={Fr:Mk.bind(null,i),$r:Rk.bind(null,i),Br:kk.bind(null,i),vi:Ok.bind(null,i),Mr:Ak.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var c=(0,Pe.Z)(function*(u){yield function Pk(t,e){return FD.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return c.apply(this,arguments)}}())})()}gc(e){const n=fM();if(!zS.C(n))throw new He(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=LS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zS(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class HD{initialize(e,n){var r=this;return(0,Pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>xM(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Sk.bind(null,r.syncEngine),yield cD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uk}createDatastore(e){const n=R_(e.databaseInfo.databaseId),r=new qR(e.databaseInfo);return new YR(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,c=p=>xM(this.syncEngine,p,0),u=hM.C()?new hM:new ZR,new JR(n,r,i,c,u);var n,r,i,c,u}createSyncEngine(e,n){return function(r,i,c,u,p,v,y){const E=new vk(r,i,c,u,p,v);return y&&(E.dc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Pe.Z)(function*(n){const r=at(n);Ze("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield jm(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function ZD(t,e,n){if(!n)throw new He(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kM(t,e,n,r){if(!0===e&&!0===r)throw new He(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NM(t){if(!ot.isDocumentKey(t))throw new He(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LM(t){if(ot.isDocumentKey(t))throw new He(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":gt()}function pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new He(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zw(t);throw new He(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function FM(t,e){if(e<=0)throw new He(ve.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}const $M=new Map;class UM{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new He(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new He(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,kM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class L_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new He(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new He(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UM(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Vx;switch(n.type){case"gapi":return new rw(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new He(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=$M.get(e);n&&(Ze("ComponentProvider","Removing Datastore"),$M.delete(e),n.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Yi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class Ic extends Yi{constructor(e,n,r){super(e,n,_h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new ot(e))}withConverter(e){return new Ic(this.firestore,e,this._path)}}function BM(t,e,...n){if(t=(0,nt.m9)(t),ZD("collection","path",e),t instanceof L_){const r=mn.fromString(e,...n);return LM(r),new Ic(t,null,r)}{if(!(t instanceof Jn||t instanceof Ic))throw new He(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mn.fromString(e,...n));return LM(r),new Ic(t.firestore,null,r)}}function Gw(t,e,...n){if(t=(0,nt.m9)(t),1===arguments.length&&(e=o_.R()),ZD("doc","path",e),t instanceof L_){const r=mn.fromString(e,...n);return NM(r),new Jn(t,null,new ot(r))}{if(!(t instanceof Jn||t instanceof Ic))throw new He(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mn.fromString(e,...n));return NM(r),new Jn(t.firestore,t instanceof Ic?t.converter:null,new ot(r))}}function jM(t,e){return t=(0,nt.m9)(t),e=(0,nt.m9)(e),(t instanceof Jn||t instanceof Ic)&&(e instanceof Jn||e instanceof Ic)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function zD(t,e){return t=(0,nt.m9)(t),e=(0,nt.m9)(e),t instanceof Yi&&e instanceof Yi&&t.firestore===e.firestore&&a(t._query,e._query)&&t.converter===e.converter}function HM(t,e=10240){let n=0;return{read:()=>(0,Pe.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,Pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class qw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class $k{constructor(e,n){this.Pc=e,this.yt=n,this.metadata=new ei,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Pe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Pe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Pe.Z)(function*(){const n=yield e.Sc();if(null===n)return null;const r=e.vc.decode(n),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const c=yield e.Cc(i);return new fk(JSON.parse(c),n.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Pe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const n=e.xc();n<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Cc(e){var n=this;return(0,Pe.Z)(function*(){for(;n.buffer.length<e;)(yield n.Nc())&&n.Dc("Reached the end of bundle when more is expected.");const r=n.vc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Pe.Z)(function*(){const n=yield e.Pc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Bk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Pe.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new He(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Pe.Z)(function*(c,u){const p=at(c),v=C_(p.yt)+"/documents",y={documents:u.map(P=>w_(p.yt,P))},E=yield p._o("BatchGetDocuments",v,y,u.length),C=new Map;E.forEach(P=>{const N=function VO(t,e){return"found"in e?function(n,r){Tt(!!r.found);const i=wc(n,r.found.name),c=$r(r.found.updateTime),u=r.found.createTime?$r(r.found.createTime):St.min(),p=new Fr({mapValue:{fields:r.found.fields}});return Vn.newFoundDocument(i,c,u,p)}(t,e):"missing"in e?function(n,r){Tt(!!r.missing),Tt(!!r.readTime);const i=wc(n,r.missing),c=$r(r.readTime);return Vn.newNoDocument(i,c)}(t,e):gt()}(p.yt,P);C.set(N.key.toString(),N)});const x=[];return u.forEach(P=>{const N=C.get(P.toString());Tt(!!N),x.push(N)}),x}),function(c,u){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new km(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const c=ot.fromPath(i);e.mutations.push(new vS(c,e.precondition(c)))}),yield(r=(0,Pe.Z)(function*(i,c){const u=at(i),p=C_(u.yt)+"/documents",v={writes:c.map(y=>I_(u.yt,y))};yield u.ao("Commit",p,v)}),function(i,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw gt();n=St.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new He(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(St.min())?cr.exists(!1):cr.updateTime(n):cr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(St.min()))throw new He(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cr.updateTime(n)}return cr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class jk{constructor(e,n,r,i,c){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=c,this.kc=r.maxAttempts,this.xo=new GS(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Pe.Z)(function*(){const n=new Bk(e.datastore),r=e.Mc(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(c=>{e.Fc(c)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const n=this.updateFunction(e);return!fp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!eA(n)}return!1}}class Hk{constructor(e,n,r,i){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lr.UNAUTHENTICATED,this.clientId=o_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,Pe.Z)(function*(p){Ze("FirestoreClient","Received user=",p.uid),yield c.authCredentialListener(p),c.user=p});return function(p){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Ze("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=zm(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function ZM(t,e){return GD.apply(this,arguments)}function GD(){return GD=(0,Pe.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,Pe.Z)(function*(c){r.isEqual(c)||(yield rM(e.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),GD.apply(this,arguments)}function zM(t,e){return qD.apply(this,arguments)}function qD(){return qD=(0,Pe.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield WD(t);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>bM(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,c)=>bM(e.remoteStore,c)),t.onlineComponents=e}),qD.apply(this,arguments)}function WD(t){return KD.apply(this,arguments)}function KD(){return KD=(0,Pe.Z)(function*(t){return t.offlineComponents||(Ze("FirestoreClient","Using default OfflineComponentProvider"),yield ZM(t,new OM)),t.offlineComponents}),KD.apply(this,arguments)}function Ww(t){return YD.apply(this,arguments)}function YD(){return YD=(0,Pe.Z)(function*(t){return t.onlineComponents||(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield zM(t,new HD)),t.onlineComponents}),YD.apply(this,arguments)}function GM(t){return WD(t).then(e=>e.persistence)}function Kw(t){return WD(t).then(e=>e.localStore)}function QD(t){return Ww(t).then(e=>e.remoteStore)}function XD(t){return Ww(t).then(e=>e.syncEngine)}function Km(t){return JD.apply(this,arguments)}function JD(){return JD=(0,Pe.Z)(function*(t){const e=yield Ww(t),n=e.eventManager;return n.onListen=yk.bind(null,e.syncEngine),n.onUnlisten=_k.bind(null,e.syncEngine),n}),JD.apply(this,arguments)}function WM(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(i,c,u,p,v){const y=new qw({next:C=>{c.enqueueAndForget(()=>pD(i,E));const x=C.docs.has(u);!x&&C.fromCache?v.reject(new He(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&C.fromCache&&p&&"server"===p.source?v.reject(new He(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),E=new vD(_h(u.path),y,{includeMetadataChanges:!0,Nu:!0});return hD(i,E)}(yield Km(t),t.asyncQueue,e,n,r)})),r.promise}function KM(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(i,c,u,p,v){const y=new qw({next:C=>{c.enqueueAndForget(()=>pD(i,E)),C.fromCache&&"server"===p.source?v.reject(new He(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),E=new vD(u,y,{includeMetadataChanges:!0,Nu:!0});return hD(i,E)}(yield Km(t),t.asyncQueue,e,n,r)})),r.promise}class Qk{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new GS(this,"async_queue_retry"),this.Wc=()=>{const n=jw();n&&Ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=jw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=jw();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new ei;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Pe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(n){if(!pc(n))throw n;Ze("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=dD.createAndSchedule(this,e,n,r,c=>this.Yc(c));return this.Uc.push(i),i}zc(){this.Kc&&gt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Pe.Z)(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function e1(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Xk{constructor(){this._progressObserver={},this._taskCompletionResolver=new ei,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class er extends L_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Qk,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YM(this),this._firestoreClient.terminate()}}function Ur(t){return t._firestoreClient||YM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YM(t){var e;const n=t._freezeSettings(),r=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new uw(t._databaseId,c,t._persistenceKey,(p=n).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var c,p;t._firestoreClient=new Hk(t._authCredentials,t._appCheckCredentials,t._queue,r)}function QM(t,e,n){const r=new ei;return t.asyncQueue.enqueue((0,Pe.Z)(function*(){try{yield ZM(t,n),yield zM(t,e),r.resolve()}catch(i){const c=i;if(!("FirebaseError"===(u=c).name?u.code===ve.FAILED_PRECONDITION||u.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw c;hc("Error enabling offline persistence. Falling back to persistence disabled: "+c),r.reject(c)}var u})).then(()=>r.promise)}function XM(t){if(t._initialized||t._terminated)throw new He(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tc(Tr.fromBase64String(e))}catch(n){throw new He(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tc(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new He(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pp{constructor(e){this._methodName=e}}class Yw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new He(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new He(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}}const lN=/^__.*__$/;class cN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Hu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rm(e,this.data,n,this.fieldTransforms)}}class JM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Hu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Qw{constructor(e,n,r,i,c,u){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===c&&this.na(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Qw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return eC(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(eP(this.sa)&&lN.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class uN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||R_(e)}da(e,n,r,i=!1){return new Qw({sa:e,methodName:n,fa:r,path:yr.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Op(t){const e=t._freezeSettings(),n=R_(t._databaseId);return new uN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Xw(t,e,n,r,i,c={}){const u=t.da(c.merge||c.mergeFields?2:0,e,n,i);i1("Data must be an object, but it was:",u,r);const p=rP(r,u);let v,y;if(c.merge)v=new Ki(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const E=[];for(const C of c.mergeFields){const x=s1(e,C,n);if(!u.contains(x))throw new He(ve.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);sP(E,x)||E.push(x)}v=new Ki(E),y=u.fieldTransforms.filter(C=>v.covers(C.field))}else v=null,y=u.fieldTransforms;return new cN(new Fr(p),v,y)}class F_ extends Pp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof F_}}function tP(t,e,n){return new Qw({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:n},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class t1 extends Pp{_toFieldTransform(e){return new m_(e.path,new it)}isEqual(e){return e instanceof t1}}class dN extends Pp{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=tP(this,e,!0),r=this._a.map(c=>Rp(c,n)),i=new dt(r);return new m_(e.path,i)}isEqual(e){return this===e}}class hN extends Pp{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=tP(this,e,!0),r=this._a.map(c=>Rp(c,n)),i=new Ve(r);return new m_(e.path,i)}isEqual(e){return this===e}}class fN extends Pp{constructor(e,n){super(e),this.wa=n}_toFieldTransform(e){const n=new Sn(e.yt,B(e.yt,this.wa));return new m_(e.path,n)}isEqual(e){return this===e}}function n1(t,e,n,r){const i=t.da(1,e,n);i1("Data must be an object, but it was:",i,r);const c=[],u=Fr.empty();Uu(r,(v,y)=>{const E=Jw(e,v,n);y=(0,nt.m9)(y);const C=i.ca(E);if(y instanceof F_)c.push(E);else{const x=Rp(y,C);null!=x&&(c.push(E),u.set(E,x))}});const p=new Ki(c);return new JM(u,p,i.fieldTransforms)}function r1(t,e,n,r,i,c){const u=t.da(1,e,n),p=[s1(e,r,n)],v=[i];if(c.length%2!=0)throw new He(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(s1(e,c[x])),v.push(c[x+1]);const y=[],E=Fr.empty();for(let x=p.length-1;x>=0;--x)if(!sP(y,p[x])){const P=p[x];let N=v[x];N=(0,nt.m9)(N);const O=u.ca(P);if(N instanceof F_)y.push(P);else{const F=Rp(N,O);null!=F&&(y.push(P),E.set(P,F))}}const C=new Ki(y);return new JM(E,C,u.fieldTransforms)}function nP(t,e,n,r=!1){return Rp(n,t.da(r?4:3,e))}function Rp(t,e){if(iP(t=(0,nt.m9)(t)))return i1("Unsupported field value:",e,t),rP(t,e);if(t instanceof Pp)return function(n,r){if(!eP(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let c=0;for(const u of n){let p=Rp(u,r.aa(c));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),c++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=(0,nt.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return B(r.yt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=zn.fromDate(n);return{timestampValue:Nm(r.yt,i)}}if(n instanceof zn){const i=new zn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Nm(r.yt,i)}}if(n instanceof Yw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Tc)return{bytesValue:uA(r.yt,n._byteString)};if(n instanceof Jn){const i=r.databaseId,c=n.firestore._databaseId;if(!c.isEqual(i))throw r.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${zw(n)}`)}(t,e)}function rP(t,e){const n={};return rS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uu(t,(r,i)=>{const c=Rp(i,e.ra(r));null!=c&&(n[r]=c)}),{mapValue:{fields:n}}}function iP(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof zn||t instanceof Yw||t instanceof Tc||t instanceof Jn||t instanceof Pp)}function i1(t,e,n){if(!iP(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=zw(n);throw e.ha("an object"===r?t+" a custom object":t+" "+r)}var r}function s1(t,e,n){if((e=(0,nt.m9)(e))instanceof Gu)return e._internalPath;if("string"==typeof e)return Jw(t,e);throw eC("Field path arguments must be of type string or ",t,!1,void 0,n)}const pN=new RegExp("[~\\*/\\[\\]]");function Jw(t,e,n){if(e.search(pN)>=0)throw eC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gu(...e.split("."))._internalPath}catch{throw eC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eC(t,e,n,r,i){const c=r&&!r.isEmpty(),u=void 0!==i;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||u)&&(v+=" (found",c&&(v+=` in field ${r}`),u&&(v+=` in document ${i}`),v+=")"),new He(ve.INVALID_ARGUMENT,p+t+v)}function sP(t,e){return t.some(n=>n.isEqual(e))}class $_{constructor(e,n,r,i,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class gN extends $_{data(){return super.data()}}function tC(t,e){return"string"==typeof e?Jw(t,e):e instanceof Gu?e._internalPath:e._delegate._internalPath}function oP(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new He(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o1{}class U_ extends o1{}function Dh(t,e,...n){let r=[];e instanceof o1&&r.push(e),r=r.concat(n),function(i){const c=i.filter(p=>p instanceof Ym).length,u=i.filter(p=>p instanceof V_).length;if(c>1||c>0&&u>0)throw new He(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class V_ extends U_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new V_(e,n,r)}_apply(e){const n=this._parse(e);return uP(e._query,n),new Yi(e.firestore,e.converter,s(e._query,n))}_parse(e){const n=Op(e.firestore);return function(i,c,u,p,v,y,E){let C;if(v.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new He(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){cP(E,y);const x=[];for(const P of E)x.push(lP(p,i,P));C={arrayValue:{values:x}}}else C=lP(p,i,E)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||cP(E,y),C=nP(u,"where",E,"in"===y||"not-in"===y);return un.create(v,y,C)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ym extends o1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ym(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let c=r;const u=i.getFlattenedFilters();for(const p of u)uP(c,p),c=s(c,p)}(e._query,n),new Yi(e.firestore,e.converter,s(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class a1 extends U_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new a1(e,n)}_apply(e){const n=function(r,i,c){if(null!==r.startAt)throw new He(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new He(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Bu(i,c);return function(p,v){if(null===ww(p)){const y=g_(p);null!==y&&dP(0,y,v.field)}}(r,u),u}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(r,i){const c=r.explicitOrderBy.concat([i]);return new bc(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class nC extends U_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new nC(e,n,r)}_apply(e){return new Yi(e.firestore,e.converter,o(e._query,this._limit,this._limitType))}}class rC extends U_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new rC(e,n,r)}_apply(e){const n=aP(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,(i=n,new bc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class iC extends U_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new iC(e,n,r)}_apply(e){const n=aP(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,(i=n,new bc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function aP(t,e,n,r){if(n[0]=(0,nt.m9)(n[0]),n[0]instanceof $_)return function(i,c,u,p,v){if(!p)throw new He(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const E of bh(i))if(E.field.isKeyField())y.push(yh(c,p.key));else{const C=p.data.field(E.field);if(hw(C))throw new He(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===C){const x=E.field.canonicalString();throw new He(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}y.push(C)}return new _c(y,v)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Op(t.firestore);return function(c,u,p,v,y,E){const C=c.explicitOrderBy;if(y.length>C.length)throw new He(ve.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let P=0;P<y.length;P++){const N=y[P];if(C[P].field.isKeyField()){if("string"!=typeof N)throw new He(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof N}`);if(!Cw(c)&&-1!==N.indexOf("/"))throw new He(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${N}' contains a slash.`);const O=c.path.child(mn.fromString(N));if(!ot.isDocumentKey(O))throw new He(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${O}' is not because it contains an odd number of segments.`);const F=new ot(O);x.push(yh(u,F))}else{const O=nP(p,v,N);x.push(O)}}return new _c(x,E)}(t._query,t.firestore._databaseId,i,e,n,r)}}function lP(t,e,n){if("string"==typeof(n=(0,nt.m9)(n))){if(""===n)throw new He(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cw(e)&&-1!==n.indexOf("/"))throw new He(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mn.fromString(n));if(!ot.isDocumentKey(r))throw new He(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yh(t,new ot(r))}if(n instanceof Jn)return yh(t,n._key);throw new He(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zw(n)}.`)}function cP(t,e){if(!Array.isArray(t)||0===t.length)throw new He(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new He(ve.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function uP(t,e){if(e.isInequality()){const r=g_(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new He(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const c=ww(t);null!==c&&dP(0,i,c)}const n=function(r,i){for(const c of r)for(const u of c.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new He(ve.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function dP(t,e,n){if(!n.isEqual(e))throw new He(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class l1{convertValue(e,n="none"){switch(vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw gt()}}convertObject(e,n){const r={};return Uu(e.fields,(i,c)=>{r[i]=this.convertValue(c,n)}),r}convertGeoPoint(e){return new Yw(ar(e.latitude),ar(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mh(e));default:return null}}convertTimestamp(e){const n=Ka(e);return new zn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mn.fromString(e);Tt(bA(r));const i=new ta(r.get(1),r.get(3)),c=new ot(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function sC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class IN extends l1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,n)}}class kp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qu extends $_{constructor(e,n,r,i,c,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new B_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class B_ extends qu{data(e={}){return super.data(e)}}class xh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new B_(this._firestore,this._userDataWriter,r.key,r,new kp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new He(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new B_(r._firestore,r._userDataWriter,u.doc.key,u.doc,new kp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const p=new B_(r._firestore,r._userDataWriter,u.doc.key,u.doc,new kp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,y=-1;return 0!==u.type&&(v=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),1!==u.type&&(c=c.add(u.doc),y=c.indexOf(u.doc.key)),{type:TN(u.type),doc:p,oldIndex:v,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function fP(t,e){return t instanceof qu&&e instanceof qu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof xh&&e instanceof xh&&t._firestore===e._firestore&&zD(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Ah extends l1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,n)}}function pP(t,e,n){t=pn(t,Jn);const r=pn(t.firestore,er),i=sC(t.converter,e,n);return Qm(r,[Xw(Op(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,cr.none())])}function gP(t,e,n,...r){t=pn(t,Jn);const i=pn(t.firestore,er),c=Op(i);let u;return u="string"==typeof(e=(0,nt.m9)(e))||e instanceof Gu?r1(c,"updateDoc",t._key,e,n,r):n1(c,"updateDoc",t._key,e),Qm(i,[u.toMutation(t._key,cr.exists(!0))])}function mP(t,...e){var n,r,i;t=(0,nt.m9)(t);let c={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||e1(e[u])||(c=e[u],u++);const p={includeMetadataChanges:c.includeMetadataChanges};if(e1(e[u])){const C=e[u];e[u]=null===(n=C.next)||void 0===n?void 0:n.bind(C),e[u+1]=null===(r=C.error)||void 0===r?void 0:r.bind(C),e[u+2]=null===(i=C.complete)||void 0===i?void 0:i.bind(C)}let v,y,E;if(t instanceof Jn)y=pn(t.firestore,er),E=_h(t._key.path),v={next:C=>{e[u]&&e[u](c1(y,t,C))},error:e[u+1],complete:e[u+2]};else{const C=pn(t,Yi);y=pn(C.firestore,er),E=C._query;const x=new Ah(y);v={next:P=>{e[u]&&e[u](new xh(y,x,C,P))},error:e[u+1],complete:e[u+2]},oP(t._query)}return function(C,x,P,N){const O=new qw(N),F=new vD(x,O,P);return C.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return hD(yield Km(C),F)})),()=>{O.bc(),C.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return pD(yield Km(C),F)}))}}(Ur(y),E,p,v)}function Qm(t,e){return function(n,r){const i=new ei;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function bk(t,e,n){return wD.apply(this,arguments)}(yield XD(n),r,i)})),i.promise}(Ur(t),e)}function c1(t,e,n){const r=n.docs.get(e._key),i=new Ah(t);return new qu(t,i,e._key,r,new kp(n.hasPendingWrites,n.fromCache),e.converter)}const NN={maxAttempts:5};class vP{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Op(e)}set(e,n,r){this._verifyNotCommitted();const i=Mh(e,this._firestore),c=sC(i.converter,n,r),u=Xw(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,cr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const c=Mh(e,this._firestore);let u;return u="string"==typeof(n=(0,nt.m9)(n))||n instanceof Gu?r1(this._dataReader,"WriteBatch.update",c._key,n,r,i):n1(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,cr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Mh(e,this._firestore);return this._mutations=this._mutations.concat(new km(n._key,cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mh(t,e){if((t=(0,nt.m9)(t)).firestore!==e)throw new He(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class LN extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Op(e)}get(e){const n=Mh(e,this._firestore),r=new IN(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||1!==i.length)return gt();const c=i[0];if(c.isFoundDocument())return new $_(this._firestore,r,c.key,c,n.converter);if(c.isNoDocument())return new $_(this._firestore,r,n._key,null,n.converter);throw gt()})}set(e,n,r){const i=Mh(e,this._firestore),c=sC(i.converter,n,r),u=Xw(this._dataReader,"Transaction.set",i._key,c,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,n,r,...i){const c=Mh(e,this._firestore);let u;return u="string"==typeof(n=(0,nt.m9)(n))||n instanceof Gu?r1(this._dataReader,"Transaction.update",c._key,n,r,i):n1(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,u),this}delete(e){const n=Mh(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Mh(e,this._firestore),r=new Ah(this._firestore);return super.get(e).then(i=>new qu(this._firestore,r,n._key,i._document,new kp(!1,!1),n.converter))}}function u1(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new He("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function _P(){if(typeof Uint8Array>"u")throw new He("unimplemented","Uint8Arrays are not available in this environment.")}function bP(){if(!function iS(){return typeof atob<"u"}())throw new He("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){$u=oc.SDK_VERSION,(0,oc._registerComponent)(new $f.wA("firestore",(n,{instanceIdentifier:r,options:i})=>{const c=n.getProvider("app").getImmediate(),u=new er(new Em(n.getProvider("auth-internal")),new s_(n.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new He(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(p.options.projectId,v)}(c,r),c);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,oc.registerVersion)(JE,"3.8.1",t),(0,oc.registerVersion)(JE,"3.8.1","esm2017")}();class j_{constructor(e){this._delegate=e}static fromBase64String(e){return bP(),new j_(Tc.fromBase64String(e))}static fromUint8Array(e){return _P(),new j_(Tc.fromUint8Array(e))}toBase64(){return bP(),this._delegate.toBase64()}toUint8Array(){return _P(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function d1(t){return function zN(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class GN{enableIndexedDbPersistence(e,n){return function eN(t,e){XM(t=pn(t,er));const n=Ur(t),r=t._freezeSettings(),i=new HD;return QM(n,i,new RM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function tN(t){XM(t=pn(t,er));const e=Ur(t),n=t._freezeSettings(),r=new HD;return QM(e,r,new Lk(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function nN(t){if(t._initialized&&!t._terminated)throw new He(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ei;return t._queue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{yield(n=(0,Pe.Z)(function*(r){if(!Ss.C())return Promise.resolve();const i=r+"main";yield Ss.delete(i)}),function(r){return n.apply(this,arguments)})(LS(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class EP{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ta||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&hc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function VM(t,e,n,r={}){var i;const c=(t=pn(t,L_))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&hc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let u,p;if("string"==typeof r.mockUserToken)u=r.mockUserToken,p=Lr.MOCK_USER;else{u=(0,nt.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new He(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Lr(v)}t._authCredentials=new tw(new lp(u,p))}}(this._delegate,e,n,r)}enableNetwork(){return function iN(t){return function Zk(t){return t.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield GM(t),n=yield QD(t);return e.setNetworkEnabled(!0),function(r){const i=at(r);return i._u.delete(0),k_(i)}(n)}))}(Ur(t=pn(t,er)))}(this._delegate)}disableNetwork(){return function sN(t){return function zk(t){return t.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield GM(t),n=yield QD(t);return e.setNetworkEnabled(!1),(r=(0,Pe.Z)(function*(i){const c=at(i);c._u.add(0),yield jm(c),c.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(n);var r}))}(Ur(t=pn(t,er)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,kM("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function rN(t){return function(e){const n=new ei;return e.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function Ik(t,e){return DD.apply(this,arguments)}(yield XD(e),n)})),n.promise}(Ur(t=pn(t,er)))}(this._delegate)}onSnapshotsInSync(e){return function kN(t,e){return function Wk(t,e){const n=new qw(e);return t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return r=yield Km(t),i=n,at(r).Ru.add(i),void i.next();var r,i})),()=>{n.bc(),t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return r=yield Km(t),i=n,void at(r).Ru.delete(i);var r,i}))}}(Ur(t=pn(t,er)),e1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new He("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xm(this,BM(this._delegate,e))}catch(n){throw xs(n,"collection()","Firestore.collection()")}}doc(e){try{return new ra(this,Gw(this._delegate,e))}catch(n){throw xs(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new As(this,function Fk(t,e){if(t=pn(t,L_),ZD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new He(ve.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yi(t,null,(n=e,new bc(mn.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw xs(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function FN(t,e,n){t=pn(t,er);const r=Object.assign(Object.assign({},NN),n);return function(i){if(i.maxAttempts<1)throw new He(ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,c,u){const p=new ei;return i.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){const v=yield function qM(t){return Ww(t).then(e=>e.datastore)}(i);new jk(i.asyncQueue,v,u,c,p).run()})),p.promise}(Ur(t),i=>e(new LN(t,i)),r)}(this._delegate,n=>e(new wP(this,n)))}batch(){return Ur(this._delegate),new CP(new vP(this._delegate,e=>Qm(this._delegate,e)))}loadBundle(e){return function oN(t,e){const n=Ur(t=pn(t,er)),r=new Xk;return function Kk(t,e,n,r){const i=function(c,u){let p;return p="string"==typeof c?(new TextEncoder).encode(c):c,v=function(v,y){if(v instanceof Uint8Array)return HM(v,y);if(v instanceof ArrayBuffer)return HM(new Uint8Array(v),y);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new $k(v,u);var v}(n,R_(e));t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){!function Nk(t,e,n){const r=at(t);var i;(i=(0,Pe.Z)(function*(c,u,p){try{const v=yield u.getMetadata();if(yield function(x,P){const N=at(x),O=$r(P.createTime);return N.persistence.runTransaction("hasNewerBundle","readonly",F=>N.Ns.getBundleMetadata(F,P.id)).then(F=>!!F&&F.createTime.compareTo(O)>=0)}(c.localStore,v))return yield u.close(),p._completeWith({taskState:"Success",documentsLoaded:(x=v).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);p._updateProgress(CM(v));const y=new pk(v,c.localStore,u.yt);let E=yield u.mc();for(;E;){const x=yield y.Fu(E);x&&p._updateProgress(x),E=yield u.mc()}const C=yield y.complete();return yield zu(c,C.Lu,void 0),yield function(x,P){const N=at(x);return N.persistence.runTransaction("Save bundle","readwrite",O=>N.Ns.saveBundleMetadata(O,P))}(c.localStore,v),p._completeWith(C.progress),Promise.resolve(C.Bu)}catch(v){return hc("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var x}),function(c,u,p){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield XD(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function aN(t,e){return function Yk(t,e){return t.asyncQueue.enqueue((0,Pe.Z)(function*(){return function(n,r){const i=at(n);return i.persistence.runTransaction("Get named query","readonly",c=>i.Ns.getNamedQuery(c,r))}(yield Kw(t),e)}))}(Ur(t=pn(t,er)),e).then(n=>n?new Yi(t,null,n.query):null)}(this._delegate,e).then(n=>n?new As(this,n):null)}}class oC extends l1{constructor(e){super(),this.firestore=e}convertBytes(e){return new j_(new Tc(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ra.forKey(n,this.firestore,null)}}class wP{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new oC(e)}get(e){const n=Lp(e);return this._delegate.get(n).then(r=>new H_(this._firestore,new qu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Lp(e);return r?(u1("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const c=Lp(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...i),this}delete(e){const n=Lp(e);return this._delegate.delete(n),this}}class CP{constructor(e){this._delegate=e}set(e,n,r){const i=Lp(e);return r?(u1("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const c=Lp(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...i),this}delete(e){const n=Lp(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Np{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new B_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Z_(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Np.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let c=i.get(n);return c||(c=new Np(e,new oC(e),n),i.set(n,c)),c}}Np.INSTANCES=new WeakMap;class ra{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new oC(e)}static forPath(e,n,r){if(e.length%2!=0)throw new He("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ra(n,new Jn(n._delegate,r,new ot(e)))}static forKey(e,n,r){return new ra(n,new Jn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Xm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xm(this.firestore,BM(this._delegate,e))}catch(n){throw xs(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,nt.m9)(e))instanceof Jn&&jM(this._delegate,e)}set(e,n){n=u1("DocumentReference.set",n);try{return n?pP(this._delegate,e,n):pP(this._delegate,e)}catch(r){throw xs(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?gP(this._delegate,e):gP(this._delegate,e,n,...r)}catch(i){throw xs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function ON(t){return Qm(pn(t.firestore,er),[new km(t._key,cr.none())])}(this._delegate)}onSnapshot(...e){const n=IP(e),r=TP(e,i=>new H_(this.firestore,new qu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return mP(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function DN(t){t=pn(t,Jn);const e=pn(t.firestore,er),n=Ur(e),r=new Ah(e);return function Gk(t,e){const n=new ei;return t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(r=(0,Pe.Z)(function*(i,c,u){try{const p=yield function(v,y){const E=at(v);return E.persistence.runTransaction("read document","readonly",C=>E.localDocuments.getDocument(C,y))}(i,c);p.isFoundDocument()?u.resolve(p):p.isNoDocument()?u.resolve(null):u.reject(new He(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=zm(p,`Failed to get document '${c} from cache`);u.reject(v)}}),function(i,c,u){return r.apply(this,arguments)})(yield Kw(t),e,n);var r})),n.promise}(n,t._key).then(i=>new qu(e,r,t._key,i,new kp(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function xN(t){t=pn(t,Jn);const e=pn(t.firestore,er);return WM(Ur(e),t._key,{source:"server"}).then(n=>c1(e,t,n))}(this._delegate):function SN(t){t=pn(t,Jn);const e=pn(t.firestore,er);return WM(Ur(e),t._key).then(n=>c1(e,t,n))}(this._delegate),n.then(r=>new H_(this.firestore,new qu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ra(this.firestore,this._delegate.withConverter(e?Np.getInstance(this.firestore,e):null))}}function xs(t,e,n){return t.message=t.message.replace(e,n),t}function IP(t){for(const e of t)if("object"==typeof e&&!d1(e))return e;return{}}function TP(t,e){var n,r;let i;return i=d1(t[0])?t[0]:d1(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:c=>{i.next&&i.next(e(c))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class H_{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return fP(this._delegate,e._delegate)}}class Z_ extends H_{data(e){const n=this._delegate.data(e);return function Ux(t,e){t||gt()}(void 0!==n),n}}class As{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new oC(e)}where(e,n,r){try{return new As(this.firestore,Dh(this._delegate,function mN(t,e,n){const r=e,i=tC("where",t);return V_._create(i,r,n)}(e,n,r)))}catch(i){throw xs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new As(this.firestore,Dh(this._delegate,function vN(t,e="asc"){const n=e,r=tC("orderBy",t);return a1._create(r,n)}(e,n)))}catch(r){throw xs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new As(this.firestore,Dh(this._delegate,function yN(t){return FM("limit",t),nC._create("limit",t,"F")}(e)))}catch(n){throw xs(n,"limit()","Query.limit()")}}limitToLast(e){try{return new As(this.firestore,Dh(this._delegate,function _N(t){return FM("limitToLast",t),nC._create("limitToLast",t,"L")}(e)))}catch(n){throw xs(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new As(this.firestore,Dh(this._delegate,function bN(...t){return rC._create("startAt",t,!0)}(...e)))}catch(n){throw xs(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new As(this.firestore,Dh(this._delegate,function EN(...t){return rC._create("startAfter",t,!1)}(...e)))}catch(n){throw xs(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new As(this.firestore,Dh(this._delegate,function wN(...t){return iC._create("endBefore",t,!1)}(...e)))}catch(n){throw xs(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new As(this.firestore,Dh(this._delegate,function CN(...t){return iC._create("endAt",t,!0)}(...e)))}catch(n){throw xs(n,"endAt()","Query.endAt()")}}isEqual(e){return zD(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function MN(t){t=pn(t,Yi);const e=pn(t.firestore,er),n=Ur(e),r=new Ah(e);return function qk(t,e){const n=new ei;return t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(r=(0,Pe.Z)(function*(i,c,u){try{const p=yield Uw(i,c,!0),v=new SM(c,p.Hi),y=v.Wu(p.documents),E=v.applyChanges(y,!1);u.resolve(E.snapshot)}catch(p){const v=zm(p,`Failed to execute query '${c} against cache`);u.reject(v)}}),function(i,c,u){return r.apply(this,arguments)})(yield Kw(t),e,n);var r})),n.promise}(n,t._query).then(i=>new xh(e,r,t,i))}(this._delegate):"server"===e?.source?function PN(t){t=pn(t,Yi);const e=pn(t.firestore,er),n=Ur(e),r=new Ah(e);return KM(n,t._query,{source:"server"}).then(i=>new xh(e,r,t,i))}(this._delegate):function AN(t){t=pn(t,Yi);const e=pn(t.firestore,er),n=Ur(e),r=new Ah(e);return oP(t._query),KM(n,t._query).then(i=>new xh(e,r,t,i))}(this._delegate),n.then(r=>new h1(this.firestore,new xh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=IP(e),r=TP(e,i=>new h1(this.firestore,new xh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return mP(this._delegate,n,r)}withConverter(e){return new As(this.firestore,this._delegate.withConverter(e?Np.getInstance(this.firestore,e):null))}}class WN{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Z_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class h1{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new As(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Z_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new WN(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Z_(this._firestore,r))})}isEqual(e){return fP(this._delegate,e._delegate)}}class Xm extends As{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ra(this.firestore,e):null}doc(e){try{return new ra(this.firestore,void 0===e?Gw(this._delegate):Gw(this._delegate,e))}catch(n){throw xs(n,"doc()","CollectionReference.doc()")}}add(e){return function RN(t,e){const n=pn(t.firestore,er),r=Gw(t),i=sC(t.converter,e);return Qm(n,[Xw(Op(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new ra(this.firestore,n))}isEqual(e){return jM(this._delegate,e._delegate)}withConverter(e){return new Xm(this.firestore,this._delegate.withConverter(e?Np.getInstance(this.firestore,e):null))}}function Lp(t){return pn(t,Jn)}class f1{constructor(...e){this._delegate=new Gu(...e)}static documentId(){return new f1(yr.keyField().canonicalString())}isEqual(e){return(e=(0,nt.m9)(e))instanceof Gu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function UN(){return new t1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Fp(e)}static delete(){const e=function $N(){return new F_("deleteField")}();return e._methodName="FieldValue.delete",new Fp(e)}static arrayUnion(...e){const n=function VN(...t){return new dN("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Fp(n)}static arrayRemove(...e){const n=function BN(...t){return new hN("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Fp(n)}static increment(e){const n=function jN(t){return new fN("increment",t)}(e);return n._methodName="FieldValue.increment",new Fp(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const KN={Firestore:EP,GeoPoint:Yw,Timestamp:zn,Blob:j_,Transaction:wP,WriteBatch:CP,DocumentReference:ra,DocumentSnapshot:H_,Query:As,QueryDocumentSnapshot:Z_,QuerySnapshot:h1,CollectionReference:Xm,FieldPath:f1,FieldValue:Fp,setLogLevel:function qN(t){!function YT(t){Wa.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function QN(t){(function YN(t,e){t.INTERNAL.registerComponent(new $f.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},KN)))})(t,(e,n)=>new EP(e,n,new GN)),t.registerVersion("@firebase/firestore-compat","0.3.1")}(gy.Z);var XN=V(6451),aC=V(5363),JN=V(6063);class eL extends is.x{constructor(e=1/0,n=1/0,r=JN.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:c,_windowTime:u}=this;n||(r.push(e),!i&&r.push(c.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,c=i.slice();for(let u=0;u<c.length&&!e.closed;u+=r?1:2)e.next(c[u]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,c=(i?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!i){const u=n.now();let p=0;for(let v=1;v<r.length&&r[v]<=u;v+=2)p=v;p&&r.splice(0,p+1)}}}var tL=V(3099);function SP(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,(0,tL.B)({connector:()=>new eL(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function DP(t,e){return(0,di.m)(e)?fr(()=>t,e):fr(()=>t)}var p1=V(9468);V(259);const m1=new Map,AP={activated:!1,tokenObservers:[]},oL={initialized:!1,enabled:!1};function Qi(t){return m1.get(t)||Object.assign({},AP)}function cC(){return oL}class hL{constructor(e,n,r,i,c){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=i,i>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,Pe.Z)(function*(){n.stop();try{n.pending=new nt.BH,yield function fL(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new nt.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ms=new nt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function PP(t){if(!Qi(t).activated)throw Ms.create("use-before-activation",{appName:t.name})}function _1(t,e){return b1.apply(this,arguments)}function b1(){return b1=(0,Pe.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const C=yield i.getHeartbeatsHeader();C&&(r["X-Firebase-Client"]=C)}const c={method:"POST",body:JSON.stringify(e),headers:r};let u,p;try{u=yield fetch(t,c)}catch(C){throw Ms.create("fetch-network-error",{originalErrorMessage:C?.message})}if(200!==u.status)throw Ms.create("fetch-status-error",{httpStatus:u.status});try{p=yield u.json()}catch(C){throw Ms.create("fetch-parse-error",{originalErrorMessage:C?.message})}const v=p.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Ms.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const y=1e3*Number(v[1]),E=Date.now();return{token:p.token,expireTimeMillis:E+y,issuedAtTimeMillis:E}}),b1.apply(this,arguments)}function vL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const z_="firebase-app-check-store";let hC=null;function RP(){return hC||(hC=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ms.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(z_,{keyPath:"compositeKey"})}}catch(n){e(Ms.create("storage-open",{originalErrorMessage:n?.message}))}}),hC)}function E1(){return E1=(0,Pe.Z)(function*(t,e){const r=(yield RP()).transaction(z_,"readwrite"),c=r.objectStore(z_).put({compositeKey:t,value:e});return new Promise((u,p)=>{c.onsuccess=v=>{u()},r.onerror=v=>{var y;p(Ms.create("storage-set",{originalErrorMessage:null===(y=v.target.error)||void 0===y?void 0:y.message}))}})}),E1.apply(this,arguments)}const G_=new Au.Yd("@firebase/app-check");function I1(t,e){return(0,nt.hl)()?function EL(t,e){return function kP(t,e){return E1.apply(this,arguments)}(function LP(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{G_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function FP(){return cC().enabled}function $P(){return S1.apply(this,arguments)}function S1(){return S1=(0,Pe.Z)(function*(){const t=cC();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),S1.apply(this,arguments)}const DL={error:"UNKNOWN_ERROR"};function xL(t){return nt.US.encodeString(JSON.stringify(t),!1)}function fC(t){return D1.apply(this,arguments)}function D1(){return D1=(0,Pe.Z)(function*(t,e=!1){const n=t.app;PP(n);const r=Qi(n);let c,i=r.token;if(i&&!Jm(i)&&(r.token=void 0,i=void 0),!i){const v=yield r.cachedTokenPromise;v&&(Jm(v)?i=v:yield I1(n,void 0))}if(!e&&i&&Jm(i))return{token:i.token};let p,u=!1;if(FP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_1(vL(n,yield $P()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const v=yield r.exchangeTokenPromise;return yield I1(n,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield Qi(n).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?G_.warn(v.message):G_.error(v),c=v}return i?c?p=Jm(i)?{token:i.token,internalError:c}:BP(c):(p={token:i.token},r.token=i,yield I1(n,i)):p=BP(c),u&&VP(n,p),p}),D1.apply(this,arguments)}function A1(t,e){const n=Qi(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function UP(t){const{app:e}=t,n=Qi(e);let r=n.tokenRefresher;r||(r=function AL(t){const{app:e}=t;return new hL((0,Pe.Z)(function*(){let r;if(r=Qi(e).token?yield fC(t,!0):yield fC(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Qi(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function VP(t,e){const n=Qi(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Jm(t){return t.expireTimeMillis-Date.now()>0}function BP(t){return{token:xL(DL),error:t}}class ML{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Qi(this.app);for(const n of e)A1(this.app,n.next);return Promise.resolve()}}const KP="app-check-internal";!function ZL(){(0,oc._registerComponent)(new $f.wA("app-check",t=>function PL(t,e){return new ML(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(KP).initialize()})),(0,oc._registerComponent)(new $f.wA(KP,t=>function OL(t){return{getToken:e=>fC(t,e),addTokenListener:e=>function x1(t,e,n,r){const{app:i}=t,c=Qi(i);if(c.tokenObservers=[...c.tokenObservers,{next:n,error:r,type:e}],c.token&&Jm(c.token)){const p=c.token;Promise.resolve().then(()=>{n({token:p.token}),UP(t)}).catch(()=>{})}c.cachedTokenPromise.then(()=>UP(t))}(t,"INTERNAL",e),removeTokenListener:e=>A1(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,oc.registerVersion)("@firebase/app-check","0.6.1")}();class R1{constructor(){return(0,Qr.vb)("app-check")}}typeof window<"u"&&window;var KL=V(9260);const QP=new l.OlP("angularfire2.auth.use-emulator"),XP=new l.OlP("angularfire2.auth.settings"),JP=new l.OlP("angularfire2.auth.tenant-id"),eO=new l.OlP("angularfire2.auth.langugage-code"),tO=new l.OlP("angularfire2.auth.use-device-language"),nO=new l.OlP("angularfire.auth.persistence"),rO=(t,e,n,r,i,c,u,p)=>(0,Pi.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const v=e.runOutsideAngular(()=>t.auth());if(n&&v.useEmulator(...n),r&&(v.tenantId=r),v.languageCode=i,c&&v.useDeviceLanguage(),u)for(const[y,E]of Object.entries(u))v.settings[y]=E;return p&&v.setPersistence(p),v},[n,r,i,c,u,p]);let iO=(()=>{class t{constructor(n,r,i,c,u,p,v,y,E,C,x,P){const N=new is.x,O=ft(void 0).pipe((0,aC.Q)(u.outsideAngular),fr(()=>c.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,750)))),(0,D.U)(()=>(0,Pi.on)(n,c,r)),(0,D.U)(F=>rO(F,c,p,y,E,C,v,x)),SP({bufferSize:1,refCount:!1}));if(tl(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ft(null);else{O.pipe(jo()).subscribe();const z=O.pipe(fr(me=>me.getRedirectResult().then(de=>de,()=>null)),Qr.iC,SP({bufferSize:1,refCount:!1})),Z=O.pipe(fr(me=>new wr.y(de=>({unsubscribe:c.runOutsideAngular(()=>me.onAuthStateChanged(ye=>de.next(ye),ye=>de.error(ye),()=>de.complete()))})))),G=O.pipe(fr(me=>new wr.y(de=>({unsubscribe:c.runOutsideAngular(()=>me.onIdTokenChanged(ye=>de.next(ye),ye=>de.error(ye),()=>de.complete()))}))));this.authState=z.pipe(DP(Z),(0,p1.R)(u.outsideAngular),(0,aC.Q)(u.insideAngular)),this.user=z.pipe(DP(G),(0,p1.R)(u.outsideAngular),(0,aC.Q)(u.insideAngular)),this.idToken=this.user.pipe(fr(me=>me?(0,yn.D)(me.getIdToken()):ft(null))),this.idTokenResult=this.user.pipe(fr(me=>me?(0,yn.D)(me.getIdTokenResult()):ft(null))),this.credential=(0,XN.T)(z,N,this.authState.pipe(_s(me=>!me))).pipe((0,D.U)(me=>me?.user?me:null),(0,p1.R)(u.outsideAngular),(0,aC.Q)(u.insideAngular))}return(0,Pi.pX)(this,O,c,{spy:{apply:(F,z,Z)=>{(F.startsWith("signIn")||F.startsWith("createUser"))&&Z.then(G=>N.next(G))}}})}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Pi.Dh),l.LFG(Pi.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Qr.HU),l.LFG(QP,8),l.LFG(XP,8),l.LFG(JP,8),l.LFG(eO,8),l.LFG(tO,8),l.LFG(nO,8),l.LFG(R1,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function sO(t,e){return function QL(t,e=lE.z){return new wr.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function N1(t,e){return sO(t,e).pipe((0,D.U)(n=>({payload:n,type:"query"})))}function gC(t,e){return N1(t,e).pipe(su(void 0),Za(),(0,D.U)(([n,r])=>{const i=r.payload.docChanges(),c=i.map(u=>({type:u.type,payload:u}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,p)=>{const v=i.find(E=>E.doc.ref.isEqual(u.ref)),y=n?.payload.docs.find(E=>E.ref.isEqual(u.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(u.metadata)||!v&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||c.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:u}})}),c}))}function oO(t,e,n){return gC(t,n).pipe(Aa((r,i)=>function JL(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function eF(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return L1(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return L1(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return L1(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(c=>c.payload),e),[]),function pT(t,e=S.y){return t=t??gT,(0,fi.e)((n,r)=>{let i,c=!0;n.subscribe((0,Oe.x)(r,u=>{const p=e(u);(c||!t(i,p))&&(c=!1,i=p,r.next(u))}))})}(),(0,D.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function L1(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function aO(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class lO{constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=gC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,D.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(su(void 0),Za(),_s(([r,i])=>i.length>0||!r),(0,D.U)(([r,i])=>i),Qr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Aa((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=aO(e);return oO(this.query,n,this.afs.schedulers.outsideAngular).pipe(Qr.iC)}valueChanges(e={}){return N1(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Qr.iC)}get(e){return(0,yn.D)(this.query.get(e)).pipe(Qr.iC)}add(e){return this.ref.add(e)}doc(e){return new cO(this.ref.doc(e),this.afs)}}class cO{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:c}=hO(r,n);return new lO(i,c,this.afs)}snapshotChanges(){return function XL(t,e){return sO(t,e).pipe(su(void 0),Za(),(0,D.U)(([n,r])=>r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,D.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,yn.D)(this.ref.get(e)).pipe(Qr.iC)}}class tF{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?gC(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),_s(n=>n.length>0),Qr.iC):gC(this.query,this.afs.schedulers.outsideAngular).pipe(Qr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Aa((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=aO(e);return oO(this.query,n,this.afs.schedulers.outsideAngular).pipe(Qr.iC)}valueChanges(e={}){return N1(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Qr.iC)}get(e){return(0,yn.D)(this.query.get(e)).pipe(Qr.iC)}}const uO=new l.OlP("angularfire2.enableFirestorePersistence"),dO=new l.OlP("angularfire2.firestore.persistenceSettings"),nF=new l.OlP("angularfire2.firestore.settings"),rF=new l.OlP("angularfire2.firestore.use-emulator");function hO(t,e=(n=>n)){return{query:e(t),ref:t}}let fO=(()=>{class t{constructor(n,r,i,c,u,p,v,y,E,C,x,P,N,O,F,z,Z){this.schedulers=v;const G=(0,Pi.on)(n,p,r),me=E;C&&rO(G,p,x,N,O,F,P,z),[this.firestore,this.persistenceEnabled$]=(0,Pi.cc)(`${G.name}.firestore`,"AngularFirestore",G.name,()=>{const de=p.runOutsideAngular(()=>G.firestore());if(c&&de.settings(c),me&&de.useEmulator(...me),i&&!tl(u)){const ye=()=>{try{return(0,yn.D)(de.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(Re){return typeof console<"u"&&console.warn(Re),ft(!1)}};return[de,p.runOutsideAngular(ye)]}return[de,ft(!1)]},[c,me,i])}collection(n,r){let i;i="string"==typeof n?this.firestore.collection(n):n;const{ref:c,query:u}=hO(i,r),p=this.schedulers.ngZone.run(()=>c);return new lO(p,u,this)}collectionGroup(n,r){const i=r||(u=>u),c=this.firestore.collectionGroup(n);return new tF(i(c),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const i=this.schedulers.ngZone.run(()=>r);return new cO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Pi.Dh),l.LFG(Pi.xv,8),l.LFG(uO,8),l.LFG(nF,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Qr.HU),l.LFG(dO,8),l.LFG(rF,8),l.LFG(iO,8),l.LFG(QP,8),l.LFG(XP,8),l.LFG(JP,8),l.LFG(eO,8),l.LFG(tO,8),l.LFG(nO,8),l.LFG(R1,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),iF=(()=>{class t{constructor(){KL.Z.registerVersion("angularfire",Qr.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:uO,useValue:!0},{provide:dO,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[fO]}),t})();class Qa{constructor(e){this._firestore=e,this.showAppsLinks()}getVideoSliders(){return this._firestore.collection("web").doc("slider").valueChanges()}getLecturesData(){return this._firestore.collection("web").doc("years").valueChanges()}getLessonsData(){return this._firestore.collection("web").doc("math_and_english").valueChanges()}getLeaderboard(){return this._firestore.collection("web_leaderboard").valueChanges()}getAppsLinks(){return this._firestore.collection("web").doc("appLink").valueChanges()}showAppsLinks(){this.getAppsLinks().subscribe(e=>{this.android=e.android,this.ios=e.ios})}}Qa.\u0275fac=function(e){return new(e||Qa)(l.LFG(fO))},Qa.\u0275prov=l.Yz7({token:Qa,factory:Qa.\u0275fac,providedIn:"root"});class Ph{transform(e){return e.toString().replaceAll("/","%2F")}}function sF(t,e){if(1&t&&(l.TgZ(0,"video",6),l._UZ(1,"source",7),l.ALo(2,"convertSlash"),l.qZA()),2&t){const n=l.oxw(2).$implicit;l.xp6(1),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(2,1,n.value.refrance),"?alt=media",l.LSH)}}function oF(t,e){if(1&t&&l.YNc(0,sF,3,3,"video",5),2&t){const n=l.oxw(2);l.Q6J("ngIf",n.isShow)}}function aF(t,e){1&t&&l.YNc(0,oF,1,1,"ng-template",4)}function lF(t,e){1&t&&(l.TgZ(0,"video",8),l._UZ(1,"source",9),l.qZA())}function cF(t,e){1&t&&l.YNc(0,lF,2,0,"ng-template",4)}Ph.\u0275fac=function(e){return new(e||Ph)},Ph.\u0275pipe=l.Yjl({name:"convertSlash",type:Ph,pure:!0}),Wd.use([function zb({swiper:t,extendParams:e,on:n}){e({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),function Ff(t){const{effect:e,swiper:n,on:r,setTranslate:i,setTransition:c,overwriteParams:u,perspective:p,recreateShadows:v,getEffectParams:y}=t;let E;r("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),p&&p()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const C=u?u():{};Object.assign(n.params,C),Object.assign(n.originalParams,C)}),r("setTranslate",()=>{n.params.effect===e&&i()}),r("setTransition",(C,x)=>{n.params.effect===e&&c(x)}),r("transitionEnd",()=>{if(n.params.effect===e&&v){if(!y||!y().slideShadows)return;n.slides.each(C=>{n.$(C).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),v()}}),r("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(E=!0),requestAnimationFrame(()=>{E&&n.slides&&n.slides.length&&(i(),E=!1)}))})}({effect:"coverflow",swiper:t,on:n,setTranslate:()=>{const{width:c,height:u,slides:p,slidesSizesGrid:v}=t,y=t.params.coverflowEffect,E=t.isHorizontal(),C=t.translate,x=E?c/2-C:u/2-C,P=E?y.rotate:-y.rotate,N=y.depth;for(let O=0,F=p.length;O<F;O+=1){const z=p.eq(O),Z=v[O],me=(x-z[0].swiperSlideOffset-Z/2)/Z,de="function"==typeof y.modifier?y.modifier(me):me*y.modifier;let ye=E?P*de:0,Re=E?0:P*de,tt=-N*Math.abs(de),vt=y.stretch;"string"==typeof vt&&-1!==vt.indexOf("%")&&(vt=parseFloat(y.stretch)/100*Z);let Ke=E?0:vt*de,_e=E?vt*de:0,se=1-(1-y.scale)*Math.abs(de);Math.abs(_e)<.001&&(_e=0),Math.abs(Ke)<.001&&(Ke=0),Math.abs(tt)<.001&&(tt=0),Math.abs(ye)<.001&&(ye=0),Math.abs(Re)<.001&&(Re=0),Math.abs(se)<.001&&(se=0);const xe=`translate3d(${_e}px,${Ke}px,${tt}px)  rotateX(${Re}deg) rotateY(${ye}deg) scale(${se})`;if(JI(y,z).transform(xe),z[0].style.zIndex=1-Math.abs(Math.round(de)),y.slideShadows){let Bt=z.find(E?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),Ie=z.find(E?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===Bt.length&&(Bt=Hb(y,z,E?"left":"top")),0===Ie.length&&(Ie=Hb(y,z,E?"right":"bottom")),Bt.length&&(Bt[0].style.opacity=de>0?de:0),Ie.length&&(Ie[0].style.opacity=-de>0?-de:0)}}},setTransition:c=>{const{transformEl:u}=t.params.coverflowEffect;(u?t.slides.find(u):t.slides).transition(c).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(c)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}]);class q_{constructor(e){this._data=e,this.isShow=!1,this.config={slidesPerView:3,spaceBetween:-25,navigation:!0,effect:"coverflow",grabCursor:!0,centeredSlides:!0,coverflowEffect:{rotate:0,stretch:0,depth:100,modifier:1,slideShadows:!0},initialSlide:1}}ngOnInit(){this.showVideoSliders()}showVideoSliders(){this._data.getVideoSliders().subscribe(e=>{this.isShow=!0,this.slidesView=e})}}q_.\u0275fac=function(e){return new(e||q_)(l.Y36(Qa))},q_.\u0275cmp=l.Xpm({type:q_,selectors:[["app-video-slider"]],decls:7,vars:5,consts:[[1,"text-center","mt-4"],[1,"mySwiper","mt-5",3,"config"],[4,"ngFor","ngForOf"],[4,"ngIf"],["swiperSlide",""],["controls","",4,"ngIf"],["controls",""],["type","video/mp4",3,"src"],["controls","","poster","assets/about/leader.png"],["src","","type","video/mp4"]],template:function(e,n){1&e&&(l.TgZ(0,"section",0)(1,"h2"),l._uU(2,"Videos"),l.qZA(),l.TgZ(3,"swiper",1),l.YNc(4,aF,1,0,null,2),l.ALo(5,"keyvalue"),l.YNc(6,cF,1,0,null,3),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("config",n.config),l.xp6(1),l.Q6J("ngForOf",l.lcZ(5,3,n.slidesView)),l.xp6(2),l.Q6J("ngIf",!n.isShow))},dependencies:[dr,wi,py,Lg,es,Ph],styles:['h2{color:#e5ba00;position:relative}h2:after{content:"";position:absolute;height:5px;width:270px;background:#e5ba00;left:50%;transform:translate(-50%);bottom:-20px}.mySwiper{width:75%;padding-top:50px;padding-bottom:50px}.mySwiper .swiper-slide{background-position:center;background-size:cover;width:300px}.mySwiper video{display:block;background:#000;width:120%;height:220px;border-radius:25px;box-shadow:1px 1px 15px 5px #141619}.mySwiper .swiper-button-next,.mySwiper .swiper-button-prev{background:#000;border-radius:50%;height:30px;width:30px}.mySwiper .swiper-button-prev{left:45px}.mySwiper .swiper-button-next{right:45px}.mySwiper .swiper-button-next:after,.mySwiper .swiper-button-prev:after{font-size:20px;font-weight:700;color:#e8ce62}@media (max-width: 767px){.mySwiper{width:90%}.mySwiper video{width:150%;margin-left:-30px}}@media (max-width: 576px){.mySwiper{width:100%}}\n'],encapsulation:2});class W_{}W_.\u0275fac=function(e){return new(e||W_)},W_.\u0275cmp=l.Xpm({type:W_,selectors:[["app-info"]],decls:13,vars:0,consts:[[1,"bg-dark","p-4","mt-4"],[1,"row","align-items-center"],[1,"col-12","col-md-6","left-info"],[1,"text-white","fw-bold","mx-5"],[1,"text-warning","mt-4"],[1,"col-12","col-md-5","position-relative","leader-container"],["src","assets/Dr_Nasahr.png","alt","Dr-Nashar",1,"border","p-4","rounded-pill","border-warning","leader-img"],[1,"waves","position-absolute"],["src","assets/wave.png","alt","Wave-1"],["src","assets/wave.png","alt","Wave-2"],["src","assets/wave.png","alt","Wave-3"]],template:function(e,n){1&e&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"p",3),l._uU(4," \u201c Our goals since more than 12 years is for the student to learn the nature of mathematics and the correct ways of thinking to solve mathematical and life problems. Your complete belief that you have a mind that is good at thinking alone is able to make you possess the world ,, "),l.qZA(),l.TgZ(5,"span",4),l._uU(6," Dr. Ahmed Emad EL-Nashar "),l.qZA()(),l.TgZ(7,"div",5),l._UZ(8,"img",6),l.TgZ(9,"div",7),l._UZ(10,"img",8)(11,"img",9)(12,"img",10),l.qZA()()()())},styles:['@import"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap";.row[_ngcontent-%COMP%]{column-gap:20px}.row[_ngcontent-%COMP%]   .left-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.row[_ngcontent-%COMP%]   .left-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Times New Roman,serif;font-size:19px;text-align:justify;letter-spacing:-1px;line-height:1.4}.row[_ngcontent-%COMP%]   .left-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:auto;font:italic 700 25px Dancing Script,cursive}.row[_ngcontent-%COMP%]   .leader-img[_ngcontent-%COMP%]{width:400px}.row[_ngcontent-%COMP%]   .waves[_ngcontent-%COMP%]{top:40%;transform:translate(-57%,-50%)}.row[_ngcontent-%COMP%]   .waves[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}@media (max-width: 991px){.leader-img[_ngcontent-%COMP%]{width:300px!important}}@media (max-width: 767px){.row[_ngcontent-%COMP%]{flex-direction:column-reverse;row-gap:20px}.leader-container[_ngcontent-%COMP%]{text-align:center}.waves[_ngcontent-%COMP%]{display:none}}@media (max-width: 500px){.left-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:-2px!important}.left-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px!important}}']});class K_{constructor(e){this.app=e}}K_.\u0275fac=function(e){return new(e||K_)(l.Y36(Qa))},K_.\u0275cmp=l.Xpm({type:K_,selectors:[["app-mobile-app"]],decls:18,vars:2,consts:[[1,"mt-5","container"],[1,"row","mt-5"],[1,"col-12","col-md-7","left-mobile-app"],[1,"fw-bold","mt-5"],[1,"text-warning"],[1,"apps"],[3,"href"],["src","assets/mobileaApp/appStore.png","alt","appStoreIcon",1,"me-4"],["src","assets/mobileaApp/googlePlay.png","alt","googlePlayIcon"],[1,"col-12","col-md-5","position-relative"],["src","assets/mobileaApp/smallPhone.png","alt","smallPhoneIcon"],["src","assets/mobileaApp/bigPhone.png","alt","bigPhoneIcon"]],template:function(e,n){1&e&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"p",3),l._uU(4," Downlaod "),l.TgZ(5,"span",4),l._uU(6,"Dr.Nashar"),l.qZA(),l._uU(7," application now and "),l._UZ(8,"br"),l._uU(9," start learning now! "),l.qZA(),l.TgZ(10,"div",5)(11,"a",6),l._UZ(12,"img",7),l.qZA(),l.TgZ(13,"a",6),l._UZ(14,"img",8),l.qZA()()(),l.TgZ(15,"div",9),l._UZ(16,"img",10)(17,"img",11),l.qZA()()()),2&e&&(l.xp6(11),l.s9C("href",n.app.ios,l.LSH),l.xp6(2),l.s9C("href",n.app.android,l.LSH))},styles:["section[_ngcontent-%COMP%]{margin-bottom:80px}.left-mobile-app[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2.7rem!important}.left-mobile-app[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170px}[alt=smallPhoneIcon][_ngcontent-%COMP%]{height:350px;position:relative;top:40px}[alt=bigPhoneIcon][_ngcontent-%COMP%]{height:400px;position:absolute;top:-10px;left:100px}@media (max-width: 991px){.left-mobile-app[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2.3rem!important}}@media (max-width: 767px){.row[_ngcontent-%COMP%]{flex-direction:column-reverse;row-gap:50px}p[_ngcontent-%COMP%]{text-align:center;letter-spacing:-1px}br[_ngcontent-%COMP%]{display:none}.apps[_ngcontent-%COMP%]{text-align:center}[alt=smallPhoneIcon][_ngcontent-%COMP%]{left:50%;transform:translate(-50%)}[alt=bigPhoneIcon][_ngcontent-%COMP%]{left:50%}}@media (max-width: 500px){p[_ngcontent-%COMP%]{letter-spacing:0px;text-align:center}[alt=smallPhoneIcon][_ngcontent-%COMP%]{left:37%}[alt=bigPhoneIcon][_ngcontent-%COMP%]{left:40%}.apps[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}}"]});class Y_{}function uF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Statistics"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 1 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function dF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Algebra"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 1 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function hF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Geometry"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 1 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function fF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Probability"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 1 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function pF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Algebra"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 1 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function gF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Geometry"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 1 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function mF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Algebra"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 2 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function vF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Geometry"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 2 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function yF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Statistics"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 2 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function _F(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Algebra"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 2 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function bF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Geometry"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 2 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function EF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Probability"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 2 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function wF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Algebra"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 3 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function CF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9," Geometry_and_Trigonometry "),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 3 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function IF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Statistics"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 3 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function TF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Algebra"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 3 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function SF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Geometry"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 3 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function DF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Probability"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," prep 3 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function xF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Algebra"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 1 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function AF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Geometry"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 1 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function MF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Trigonometry"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 1 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function PF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Algebra"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 1 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function OF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Geometry"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 1 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function RF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Trigonometry"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 1 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function kF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Algebra"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 2 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function NF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Calculuse"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 2 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function LF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Solid_Geometry"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 2 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function FF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Statics"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 2 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function $F(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Trigonometry"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 2 | 1st Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function UF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Algebra"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 2 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function VF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Calculuse"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 2 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function BF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Dynamics"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 2 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function jF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Probability"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 2 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function HF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Trigonometry"),l.qZA(),l.TgZ(10,"p",18),l._uU(11," Sec 2 | 2nd Term "),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function ZF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9," Algebra_and_solid_geometry "),l.qZA(),l.TgZ(10,"p",18),l._uU(11,"Sec 3"),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function zF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9," Differential_and_Integral_Calculuse "),l.qZA(),l.TgZ(10,"p",18),l._uU(11,"Sec 3"),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function GF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Dynamics"),l.qZA(),l.TgZ(10,"p",18),l._uU(11,"Sec 3"),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function qF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Statics"),l.qZA(),l.TgZ(10,"p",18),l._uU(11,"Sec 3"),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function WF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"video",14),l._UZ(4,"source",15),l.ALo(5,"convertSlash"),l.qZA()(),l.TgZ(6,"div",13)(7,"div",16)(8,"h4",17),l._uU(9,"Statistics"),l.qZA(),l.TgZ(10,"p",18),l._uU(11,"Sec 3"),l.qZA(),l.TgZ(12,"a",19),l._uU(13,"Enroll"),l.qZA()()()()()),2&t){const n=e.$implicit,r=l.oxw(2);l.xp6(4),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH),l.xp6(8),l.s9C("href",r.data.android,l.LSH)}}function KF(t,e){if(1&t&&(l.TgZ(0,"div",8)(1,"article"),l.YNc(2,uF,14,4,"div",9),l.ALo(3,"keyvalue"),l.YNc(4,dF,14,4,"div",9),l.ALo(5,"keyvalue"),l.YNc(6,hF,14,4,"div",9),l.ALo(7,"keyvalue"),l.YNc(8,fF,14,4,"div",9),l.ALo(9,"keyvalue"),l.YNc(10,pF,14,4,"div",9),l.ALo(11,"keyvalue"),l.YNc(12,gF,14,4,"div",9),l.ALo(13,"keyvalue"),l.qZA(),l.TgZ(14,"article",10),l.YNc(15,mF,14,4,"div",9),l.ALo(16,"keyvalue"),l.YNc(17,vF,14,4,"div",9),l.ALo(18,"keyvalue"),l.YNc(19,yF,14,4,"div",9),l.ALo(20,"keyvalue"),l.YNc(21,_F,14,4,"div",9),l.ALo(22,"keyvalue"),l.YNc(23,bF,14,4,"div",9),l.ALo(24,"keyvalue"),l.YNc(25,EF,14,4,"div",9),l.ALo(26,"keyvalue"),l.qZA(),l.TgZ(27,"article",10),l.YNc(28,wF,14,4,"div",9),l.ALo(29,"keyvalue"),l.YNc(30,CF,14,4,"div",9),l.ALo(31,"keyvalue"),l.YNc(32,IF,14,4,"div",9),l.ALo(33,"keyvalue"),l.YNc(34,TF,14,4,"div",9),l.ALo(35,"keyvalue"),l.YNc(36,SF,14,4,"div",9),l.ALo(37,"keyvalue"),l.YNc(38,DF,14,4,"div",9),l.ALo(39,"keyvalue"),l.qZA(),l.TgZ(40,"article",10),l.YNc(41,xF,14,4,"div",9),l.ALo(42,"keyvalue"),l.YNc(43,AF,14,4,"div",9),l.ALo(44,"keyvalue"),l.YNc(45,MF,14,4,"div",9),l.ALo(46,"keyvalue"),l.YNc(47,PF,14,4,"div",9),l.ALo(48,"keyvalue"),l.YNc(49,OF,14,4,"div",9),l.ALo(50,"keyvalue"),l.YNc(51,RF,14,4,"div",9),l.ALo(52,"keyvalue"),l.qZA(),l.TgZ(53,"article",10),l.YNc(54,kF,14,4,"div",9),l.ALo(55,"keyvalue"),l.YNc(56,NF,14,4,"div",9),l.ALo(57,"keyvalue"),l.YNc(58,LF,14,4,"div",9),l.ALo(59,"keyvalue"),l.YNc(60,FF,14,4,"div",9),l.ALo(61,"keyvalue"),l.YNc(62,$F,14,4,"div",9),l.ALo(63,"keyvalue"),l.YNc(64,UF,14,4,"div",9),l.ALo(65,"keyvalue"),l.YNc(66,VF,14,4,"div",9),l.ALo(67,"keyvalue"),l.YNc(68,BF,14,4,"div",9),l.ALo(69,"keyvalue"),l.YNc(70,jF,14,4,"div",9),l.ALo(71,"keyvalue"),l.YNc(72,HF,14,4,"div",9),l.ALo(73,"keyvalue"),l.qZA(),l.TgZ(74,"article",10),l.YNc(75,ZF,14,4,"div",9),l.ALo(76,"keyvalue"),l.YNc(77,zF,14,4,"div",9),l.ALo(78,"keyvalue"),l.YNc(79,GF,14,4,"div",9),l.ALo(80,"keyvalue"),l.YNc(81,qF,14,4,"div",9),l.ALo(82,"keyvalue"),l.YNc(83,WF,14,4,"div",9),l.ALo(84,"keyvalue"),l.qZA()()),2&t){const n=l.oxw();l.xp6(2),l.Q6J("ngForOf",l.lcZ(3,39,n.obj_1)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(5,41,n.obj_2)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(7,43,n.obj_3)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(9,45,n.obj_4)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(11,47,n.obj_5)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(13,49,n.obj_6)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(16,51,n.obj_7)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(18,53,n.obj_8)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(20,55,n.obj_9)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(22,57,n.obj_10)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(24,59,n.obj_11)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(26,61,n.obj_12)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(29,63,n.obj_13)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(31,65,n.obj_14)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(33,67,n.obj_15)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(35,69,n.obj_16)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(37,71,n.obj_17)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(39,73,n.obj_18)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(42,75,n.obj_19)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(44,77,n.obj_20)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(46,79,n.obj_21)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(48,81,n.obj_22)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(50,83,n.obj_23)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(52,85,n.obj_24)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(55,87,n.obj_25)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(57,89,n.obj_26)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(59,91,n.obj_27)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(61,93,n.obj_28)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(63,95,n.obj_29)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(65,97,n.obj_30)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(67,99,n.obj_31)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(69,101,n.obj_32)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(71,103,n.obj_33)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(73,105,n.obj_34)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(76,107,n.obj_35)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(78,109,n.obj_36)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(80,111,n.obj_37)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(82,113,n.obj_38)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(84,115,n.obj_39))}}function YF(t,e){1&t&&(l.TgZ(0,"div",20),l._UZ(1,"div")(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div"),l.qZA())}Y_.\u0275fac=function(e){return new(e||Y_)},Y_.\u0275cmp=l.Xpm({type:Y_,selectors:[["app-home"]],decls:4,vars:0,template:function(e,n){1&e&&l._UZ(0,"app-auto-slider")(1,"app-video-slider")(2,"app-info")(3,"app-mobile-app")},dependencies:[Yd,q_,W_,K_]});class Q_{constructor(e){this.data=e,this.isShow=!1}ngOnInit(){this.showTermOne()}showTermOne(){this.data.getLecturesData().subscribe({next:e=>{this.obj_1=e.prep_1.term_1.Statistics,this.obj_2=e.prep_1.term_1.algebra,this.obj_3=e.prep_1.term_1.Geometry,this.obj_4=e.prep_1.term_2.Probability,this.obj_5=e.prep_1.term_2.Algebra,this.obj_6=e.prep_1.term_2.Geometry,this.obj_7=e.prep_2.term_1.Algebra,this.obj_8=e.prep_2.term_1.Geometry,this.obj_9=e.prep_2.term_1.Statistics,this.obj_10=e.prep_2.term_2.Algebra,this.obj_11=e.prep_2.term_2.Geometry,this.obj_12=e.prep_2.term_2.Probability,this.obj_13=e.prep_3.term_1.Algebra,this.obj_14=e.prep_3.term_1.Geometry_and_Trigonometry,this.obj_15=e.prep_3.term_1.Statistics,this.obj_16=e.prep_3.term_2.Algebra,this.obj_17=e.prep_3.term_2.Geometry,this.obj_18=e.prep_3.term_2.Probability,this.obj_19=e.sec_1.term_1.Algebra,this.obj_20=e.sec_1.term_1.Geometry,this.obj_21=e.sec_1.term_1.Trigonometry,this.obj_22=e.sec_1.term_2.Algebra,this.obj_23=e.sec_1.term_2.Geometry,this.obj_24=e.sec_1.term_2.Trigonometry,this.obj_25=e.sec_2.term_1.Algebra,this.obj_26=e.sec_2.term_1.Calculuse,this.obj_27=e.sec_2.term_1.Solid_Geometry,this.obj_28=e.sec_2.term_1.Statics,this.obj_29=e.sec_2.term_1.Trigonometry,this.obj_30=e.sec_2.term_2.Algebra,this.obj_31=e.sec_2.term_2.Calculuse,this.obj_32=e.sec_2.term_2.Dynamics,this.obj_33=e.sec_2.term_2.Probability,this.obj_34=e.sec_2.term_2.Trigonometry,this.obj_35=e.sec_3.general.Algebra_and_solid_geometry,this.obj_36=e.sec_3.general.Differential_and_Integral_Calculuse,this.obj_37=e.sec_3.general.Dynamics,this.obj_38=e.sec_3.general.Statics,this.obj_39=e.sec_3.general.Statistics,this.isShow=!0}})}goToLink(e){const n=e.target.innerHTML,r=document.querySelectorAll("#links a"),i=document.querySelectorAll("article");i.forEach((c,u)=>{c.classList.add("hide"),r[u].classList.remove("active")}),"Prep 1"==n?(i[0].classList.remove("hide"),e.target.classList.add("active")):"Prep 2"==n?(i[1].classList.remove("hide"),e.target.classList.add("active")):"Prep 3"==n?(i[2].classList.remove("hide"),e.target.classList.add("active")):"Sec 1"==n?(i[3].classList.remove("hide"),e.target.classList.add("active")):"Sec 2"==n?(i[4].classList.remove("hide"),e.target.classList.add("active")):"Sec 3"==n&&(i[5].classList.remove("hide"),e.target.classList.add("active"))}}function QF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"span"),l._uU(2),l.qZA(),l._UZ(3,"i",12),l.qZA()),2&t){const n=e.$implicit;l.MGl("routerLink","s2/",n.value,""),l.xp6(2),l.Oqu(n.value)}}function XF(t,e){if(1&t&&(l.TgZ(0,"div",8)(1,"div",9),l.YNc(2,QF,4,2,"div",10),l.ALo(3,"keyvalue"),l.qZA()()),2&t){const n=l.oxw(2);l.xp6(2),l.Q6J("ngForOf",l.lcZ(3,1,n.sec_2))}}function JF(t,e){if(1&t&&(l.TgZ(0,"div",11)(1,"span"),l._uU(2),l.qZA(),l._UZ(3,"i",12),l.qZA()),2&t){const n=e.$implicit;l.MGl("routerLink","s3/",n.value,""),l.xp6(2),l.Oqu(n.value)}}function e2(t,e){if(1&t&&(l.TgZ(0,"div",8)(1,"div",9),l.YNc(2,JF,4,2,"div",10),l.ALo(3,"keyvalue"),l.qZA()()),2&t){const n=l.oxw(2);l.xp6(2),l.Q6J("ngForOf",l.lcZ(3,1,n.sec_3))}}function t2(t,e){if(1&t&&(l.TgZ(0,"div",6),l.YNc(1,XF,4,3,"div",7),l.YNc(2,e2,4,3,"div",7),l.qZA()),2&t){const n=l.oxw();l.xp6(1),l.Q6J("ngIf",n.showSec2),l.xp6(1),l.Q6J("ngIf",n.showSec3)}}function n2(t,e){1&t&&(l.TgZ(0,"div",13),l._UZ(1,"div")(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div"),l.qZA())}Q_.\u0275fac=function(e){return new(e||Q_)(l.Y36(Qa))},Q_.\u0275cmp=l.Xpm({type:Q_,selectors:[["app-lecture"]],decls:17,vars:2,consts:[[1,"container","mt-4","px-5"],["id","links"],[1,"btn","btn-outline-dark","rounded-pill","mx-2","px-4","mb-2","active",3,"click"],[1,"btn","btn-outline-dark","rounded-pill","me-2","px-4","mb-2",3,"click"],[1,"btn","btn-outline-dark","rounded-pill","px-4","mb-2",3,"click"],[1,"btn","btn-outline-dark","rounded-pill","mx-2","px-4","mb-2",3,"click"],["class","mt-5 content",4,"ngIf","ngIfElse"],["spinner",""],[1,"mt-5","content"],["class","card mb-4",4,"ngFor","ngForOf"],[1,"hide"],[1,"card","mb-4"],[1,"row","g-0"],[1,"col-md-6"],["controls","",1,"img-fluid","rounded-start"],["type","",3,"src"],[1,"card-body","text-center","h-100","d-flex","justify-content-center","flex-column"],[1,"card-title"],[1,"card-text","text-secondary"],[1,"btn","btn-warning","fw-bold","text-white","rounded-pill","px-5","mx-auto",3,"href"],[1,"lds-roller"]],template:function(e,n){if(1&e&&(l.TgZ(0,"section",0)(1,"div",1)(2,"a",2),l.NdJ("click",function(i){return n.goToLink(i)}),l._uU(3,"Prep 1"),l.qZA(),l.TgZ(4,"a",3),l.NdJ("click",function(i){return n.goToLink(i)}),l._uU(5,"Prep 2"),l.qZA(),l.TgZ(6,"a",4),l.NdJ("click",function(i){return n.goToLink(i)}),l._uU(7,"Prep 3"),l.qZA(),l.TgZ(8,"a",5),l.NdJ("click",function(i){return n.goToLink(i)}),l._uU(9,"Sec 1"),l.qZA(),l.TgZ(10,"a",5),l.NdJ("click",function(i){return n.goToLink(i)}),l._uU(11,"Sec 2"),l.qZA(),l.TgZ(12,"a",4),l.NdJ("click",function(i){return n.goToLink(i)}),l._uU(13,"Sec 3"),l.qZA()(),l.YNc(14,KF,85,117,"div",6),l.YNc(15,YF,9,0,"ng-template",null,7,l.W1O),l.qZA()),2&e){const r=l.MAs(16);l.xp6(14),l.Q6J("ngIf",n.isShow)("ngIfElse",r)}},dependencies:[dr,wi,es,Ph],styles:['a.btn-warning[_ngcontent-%COMP%]{background:#daa520!important}.img-fluid[_ngcontent-%COMP%]{width:520px}.lds-roller[_ngcontent-%COMP%]{height:50vh;width:100%;display:flex;justify-content:center;align-items:center;position:relative}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#000;margin:-4px 0 0 -4px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1):after{top:63px;left:63px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:68px;left:56px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.108s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:71px;left:48px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.144s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:72px;left:40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:71px;left:32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.216s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:68px;left:24px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){animation-delay:-.252s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:63px;left:17px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){animation-delay:-.288s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:56px;left:12px}@keyframes _ngcontent-%COMP%_lds-roller{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 767px){video[_ngcontent-%COMP%]{border-bottom-left-radius:0!important;border-top-right-radius:.375rem}}@media (max-width: 500px){h4[_ngcontent-%COMP%]{font-size:20px}}.hide[_ngcontent-%COMP%]{display:none}']});class X_{constructor(e){this._data=e,this.isShow=!1,this.showSec2=!0,this.showSec3=!1,this.sec_2={},this.sec_3={}}ngOnInit(){this.showLessonsData()}showLessonsData(){this._data.getLessonsData().subscribe(e=>{this.sec_2=Object.keys(e.sec_2),this.sec_3=Object.keys(e.sec_3),this.isShow=!0})}showSecTwo(){this.showSec2=!0,this.showSec3=!1,document.querySelectorAll("#links a")[0].classList.add("active"),document.querySelectorAll("#links a")[1].classList.remove("active")}showSecThree(){this.showSec2=!1,this.showSec3=!0,document.querySelectorAll("#links a")[0].classList.remove("active"),document.querySelectorAll("#links a")[1].classList.add("active")}}function r2(t,e){if(1&t&&(l.TgZ(0,"div")(1,"h4",11),l._uU(2),l.qZA(),l.TgZ(3,"video",12),l._UZ(4,"source",13),l.ALo(5,"convertSlash"),l.qZA()()),2&t){const n=e.$implicit;l.xp6(2),l.Oqu(n.key),l.xp6(2),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(5,2,n.value.refrance),"?alt=media",l.LSH)}}function i2(t,e){if(1&t&&(l.TgZ(0,"div"),l.YNc(1,r2,6,4,"div",10),l.ALo(2,"keyvalue"),l.qZA()),2&t){const n=l.oxw();l.xp6(1),l.Q6J("ngForOf",l.lcZ(2,1,n.lessonVideos))}}function s2(t,e){1&t&&(l.TgZ(0,"div",14),l._UZ(1,"div")(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div"),l.qZA())}X_.\u0275fac=function(e){return new(e||X_)(l.Y36(Qa))},X_.\u0275cmp=l.Xpm({type:X_,selectors:[["app-lessons"]],decls:9,vars:2,consts:[[1,"container","mt-4"],["id","links",1,"mb-4"],[1,"btn","btn-outline-dark","rounded-pill","mx-2","px-4","mb-2","active",3,"click"],[1,"btn","btn-outline-dark","rounded-pill","mx-2","px-4","mb-2",3,"click"],["class","accordion","id","accordionExample",4,"ngIf","ngIfElse"],["spinner",""],["id","accordionExample",1,"accordion"],["class","accordion-item shadow rounded-pill mb-4",4,"ngIf"],[1,"accordion-item","shadow","rounded-pill","mb-4"],["id","collapseTwo","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse"],["class","accordion-body mx-auto d-flex",3,"routerLink",4,"ngFor","ngForOf"],[1,"accordion-body","mx-auto","d-flex",3,"routerLink"],[1,"fa-regular","fa-circle-play","fa-2x","ms-auto"],[1,"lds-roller"]],template:function(e,n){if(1&e&&(l.TgZ(0,"section",0)(1,"div",1)(2,"a",2),l.NdJ("click",function(){return n.showSecTwo()}),l._uU(3,"Sec 2"),l.qZA(),l.TgZ(4,"a",3),l.NdJ("click",function(){return n.showSecThree()}),l._uU(5,"Sec 3"),l.qZA()(),l.YNc(6,t2,3,2,"div",4),l.YNc(7,n2,9,0,"ng-template",null,5,l.W1O),l.qZA()),2&e){const r=l.MAs(8);l.xp6(6),l.Q6J("ngIf",n.isShow)("ngIfElse",r)}},dependencies:[dr,wi,xf,es],styles:['.accordion-body[_ngcontent-%COMP%]{width:90%}.accordion-body[_ngcontent-%COMP%]:not(:last-child){border-bottom:thin solid #000}.accordion-body[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:500;cursor:pointer;transition:.5s}.accordion-body[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer;transition:.5s}.accordion-body[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover, .accordion-body[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{color:#daa520;transform:scale(1.1)}.lds-roller[_ngcontent-%COMP%]{height:50vh;width:100%;display:flex;justify-content:center;align-items:center;position:relative}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#000;margin:-4px 0 0 -4px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1):after{top:63px;left:63px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:68px;left:56px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.108s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:71px;left:48px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.144s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:72px;left:40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:71px;left:32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.216s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:68px;left:24px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){animation-delay:-.252s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:63px;left:17px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){animation-delay:-.288s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:56px;left:12px}@keyframes _ngcontent-%COMP%_lds-roller{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']});class J_{constructor(e,n){this._route=e,this.data=n,this.isShow=!1,this.lessonVideos={math:{name:void 0,refrance:void 0},english:{name:void 0,refrance:void 0}}}ngOnInit(){this.showLessonsVideo()}showLessonsVideo(){let e=this._route.snapshot.paramMap.get("lec"),n=this._route.snapshot.paramMap.get("les");this.data.getLessonsData().subscribe(r=>{"s2"===e&&(this.lessonVideos=r.sec_2[Object.keys(r.sec_2).find(i=>i===n)]),"s3"===e&&(this.lessonVideos=r.sec_3[Object.keys(r.sec_3).find(i=>i===n)]),this.isShow=!0})}}function o2(t,e){if(1&t&&(l.TgZ(0,"div",12)(1,"div",13),l._UZ(2,"img",14),l.ALo(3,"convertSlash"),l.TgZ(4,"div",15)(5,"h5",16),l._uU(6),l.qZA()()()()),2&t){const n=e.$implicit;l.xp6(2),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(3,3,n.value.photo),"?alt=media",l.LSH),l.s9C("alt",n.value.name),l.xp6(4),l.hij(" ",n.value.name," ")}}function a2(t,e){if(1&t&&(l.TgZ(0,"div",12)(1,"div",13),l._UZ(2,"img",14),l.ALo(3,"convertSlash"),l.TgZ(4,"div",15)(5,"h5",16),l._uU(6),l.qZA()()()()),2&t){const n=e.$implicit;l.xp6(2),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(3,3,n.value.photo),"?alt=media",l.LSH),l.s9C("alt",n.value.name),l.xp6(4),l.hij(" ",n.value.name," ")}}function l2(t,e){if(1&t&&(l.TgZ(0,"div",12)(1,"div",13),l._UZ(2,"img",14),l.ALo(3,"convertSlash"),l.TgZ(4,"div",15)(5,"h5",16),l._uU(6),l.qZA()()()()),2&t){const n=e.$implicit;l.xp6(2),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(3,3,n.value.photo),"?alt=media",l.LSH),l.s9C("alt",n.value.name),l.xp6(4),l.hij(" ",n.value.name," ")}}function c2(t,e){if(1&t&&(l.TgZ(0,"div",12)(1,"div",13),l._UZ(2,"img",14),l.ALo(3,"convertSlash"),l.TgZ(4,"div",15)(5,"h5",16),l._uU(6),l.qZA()()()()),2&t){const n=e.$implicit;l.xp6(2),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(3,3,n.value.photo),"?alt=media",l.LSH),l.s9C("alt",n.value.name),l.xp6(4),l.hij(" ",n.value.name," ")}}function u2(t,e){if(1&t&&(l.TgZ(0,"div",12)(1,"div",13),l._UZ(2,"img",14),l.ALo(3,"convertSlash"),l.TgZ(4,"div",15)(5,"h5",16),l._uU(6),l.qZA()()()()),2&t){const n=e.$implicit;l.xp6(2),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(3,3,n.value.photo),"?alt=media",l.LSH),l.s9C("alt",n.value.name),l.xp6(4),l.hij(" ",n.value.name," ")}}function d2(t,e){if(1&t&&(l.TgZ(0,"div",12)(1,"div",13),l._UZ(2,"img",14),l.ALo(3,"convertSlash"),l.TgZ(4,"div",15)(5,"h5",16),l._uU(6),l.qZA()()()()),2&t){const n=e.$implicit;l.xp6(2),l.MGl("src","https://firebasestorage.googleapis.com/v0/b/dr-nashar.appspot.com/o/",l.lcZ(3,3,n.value.photo),"?alt=media",l.LSH),l.s9C("alt",n.value.name),l.xp6(4),l.hij(" ",n.value.name," ")}}function h2(t,e){if(1&t&&(l.TgZ(0,"div",8)(1,"article",9),l.YNc(2,o2,7,5,"div",10),l.ALo(3,"keyvalue"),l.qZA(),l.TgZ(4,"article",11),l.YNc(5,a2,7,5,"div",10),l.ALo(6,"keyvalue"),l.qZA(),l.TgZ(7,"article",11),l.YNc(8,l2,7,5,"div",10),l.ALo(9,"keyvalue"),l.qZA(),l.TgZ(10,"article",11),l.YNc(11,c2,7,5,"div",10),l.ALo(12,"keyvalue"),l.qZA(),l.TgZ(13,"article",11),l.YNc(14,u2,7,5,"div",10),l.ALo(15,"keyvalue"),l.qZA(),l.TgZ(16,"article",11),l.YNc(17,d2,7,5,"div",10),l.ALo(18,"keyvalue"),l.qZA()()),2&t){const n=l.oxw();l.xp6(2),l.Q6J("ngForOf",l.lcZ(3,6,n.prep_1)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(6,8,n.prep_2)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(9,10,n.prep_3)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(12,12,n.sec_1)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(15,14,n.sec_2)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(18,16,n.sec_3))}}function f2(t,e){1&t&&(l.TgZ(0,"div",17),l._UZ(1,"div")(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div"),l.qZA())}J_.\u0275fac=function(e){return new(e||J_)(l.Y36(ct),l.Y36(Qa))},J_.\u0275cmp=l.Xpm({type:J_,selectors:[["app-lesson-details"]],decls:17,vars:4,consts:[[1,"container","mt-4","px-5"],[4,"ngIf","ngIfElse"],["spinner",""],[1,"my-5","row"],[1,"lesson-info","col-12","col-sm-6"],[1,"text-warning"],[1,"col-12","col-sm-6","text-center","mt-4","mt-sm-0","text-sm-end"],[3,"href"],["src","assets/mobileaApp/appStore.png","alt","App Store",1,"me-3"],["src","assets/mobileaApp/googlePlay.png","alt","Google Play"],[4,"ngFor","ngForOf"],[1,"text-secondary","mt-4"],["controls","",1,"img-fluid","rounded-start"],["type","",3,"src"],[1,"lds-roller"]],template:function(e,n){if(1&e&&(l.TgZ(0,"div",0),l.YNc(1,i2,3,3,"div",1),l.YNc(2,s2,9,0,"ng-template",null,2,l.W1O),l.TgZ(4,"div",3)(5,"h5",4),l._uU(6," Want full lesson? "),l._UZ(7,"br"),l._uU(8," buy it now from "),l.TgZ(9,"span",5),l._uU(10,"Dr. Nashar"),l.qZA(),l._uU(11," app "),l.qZA(),l.TgZ(12,"div",6)(13,"a",7),l._UZ(14,"img",8),l.qZA(),l.TgZ(15,"a",7),l._UZ(16,"img",9),l.qZA()()()()),2&e){const r=l.MAs(3);l.xp6(1),l.Q6J("ngIf",n.isShow)("ngIfElse",r),l.xp6(12),l.s9C("href",n.data.ios,l.LSH),l.xp6(2),l.s9C("href",n.data.android,l.LSH)}},dependencies:[dr,wi,es,Ph],styles:['[alt=Lesson][_ngcontent-%COMP%]{border-radius:15px}h4[_ngcontent-%COMP%]{text-transform:capitalize}video[_ngcontent-%COMP%]{width:100%}.lesson-info[_ngcontent-%COMP%]{color:#000;font-weight:700}[alt="App Store"][_ngcontent-%COMP%], [alt="Google Play"][_ngcontent-%COMP%]{width:170px}.lds-roller[_ngcontent-%COMP%]{height:50vh;width:100%;display:flex;justify-content:center;align-items:center;position:relative}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#000;margin:-4px 0 0 -4px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1):after{top:63px;left:63px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:68px;left:56px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.108s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:71px;left:48px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.144s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:72px;left:40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:71px;left:32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.216s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:68px;left:24px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){animation-delay:-.252s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:63px;left:17px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){animation-delay:-.288s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:56px;left:12px}@keyframes _ngcontent-%COMP%_lds-roller{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 991px){[alt="App Store"][_ngcontent-%COMP%], [alt="Google Play"][_ngcontent-%COMP%]{width:100px;height:40px}}@media (max-width: 767px){.lesson-info[_ngcontent-%COMP%]{font-size:14px}[alt="App Store"][_ngcontent-%COMP%], [alt="Google Play"][_ngcontent-%COMP%]{width:85px;height:35px}}@media (max-width: 576px){.lesson-info[_ngcontent-%COMP%]{font-size:17px}}']});class e0{constructor(e){this._data=e,this.isShow=!1,this.showLeaderBoars()}showLeaderBoars(){this._data.getLeaderboard().subscribe(e=>{this.isShow=!0,this.prep_1=e[0],this.prep_2=e[1],this.prep_3=e[2],this.sec_1=e[3],this.sec_2=e[4],this.sec_3=e[5]})}goToLink(e){const n=e.target.innerHTML,r=document.querySelectorAll("#links a"),i=document.querySelectorAll("article");i.forEach((c,u)=>{c.classList.add("hide"),r[u].classList.remove("active")}),"Prep 1"==n?(i[0].classList.remove("hide"),e.target.classList.add("active")):"Prep 2"==n?(i[1].classList.remove("hide"),e.target.classList.add("active")):"Prep 3"==n?(i[2].classList.remove("hide"),e.target.classList.add("active")):"Sec 1"==n?(i[3].classList.remove("hide"),e.target.classList.add("active")):"Sec 2"==n?(i[4].classList.remove("hide"),e.target.classList.add("active")):"Sec 3"==n&&(i[5].classList.remove("hide"),e.target.classList.add("active"))}}e0.\u0275fac=function(e){return new(e||e0)(l.Y36(Qa))},e0.\u0275cmp=l.Xpm({type:e0,selectors:[["app-leader-board"]],decls:17,vars:2,consts:[[1,"container","mt-4","px-5"],["id","links"],[1,"btn","btn-outline-dark","rounded-pill","mx-2","px-4","mb-2","active",3,"click"],[1,"btn","btn-outline-dark","rounded-pill","me-2","px-4","mb-2",3,"click"],[1,"btn","btn-outline-dark","rounded-pill","px-4","mb-2",3,"click"],[1,"btn","btn-outline-dark","rounded-pill","mx-2","px-4","mb-2",3,"click"],["class","mt-5",4,"ngIf","ngIfElse"],["spinner",""],[1,"mt-5"],[1,"row"],["class","col-12 col-md-6 col-lg-4 mb-5",4,"ngFor","ngForOf"],[1,"row","hide"],[1,"col-12","col-md-6","col-lg-4","mb-5"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title","text-center","text-capitalize"],[1,"lds-roller"]],template:function(e,n){if(1&e&&(l.TgZ(0,"section",0)(1,"div",1)(2,"a",2),l.NdJ("click",function(i){return n.goToLink(i)}),l._uU(3,"Prep 1"),l.qZA(),l.TgZ(4,"a",3),l.NdJ("click",function(i){return n.goToLink(i)}),l._uU(5,"Prep 2"),l.qZA(),l.TgZ(6,"a",4),l.NdJ("click",function(i){return n.goToLink(i)}),l._uU(7,"Prep 3"),l.qZA(),l.TgZ(8,"a",5),l.NdJ("click",function(i){return n.goToLink(i)}),l._uU(9,"Sec 1"),l.qZA(),l.TgZ(10,"a",5),l.NdJ("click",function(i){return n.goToLink(i)}),l._uU(11,"Sec 2"),l.qZA(),l.TgZ(12,"a",4),l.NdJ("click",function(i){return n.goToLink(i)}),l._uU(13,"Sec 3"),l.qZA()(),l.YNc(14,h2,19,18,"div",6),l.YNc(15,f2,9,0,"ng-template",null,7,l.W1O),l.qZA()),2&e){const r=l.MAs(16);l.xp6(14),l.Q6J("ngIf",n.isShow)("ngIfElse",r)}},dependencies:[dr,wi,es,Ph],styles:['.hide[_ngcontent-%COMP%]{display:none}.lds-roller[_ngcontent-%COMP%]{height:50vh;width:100%;display:flex;justify-content:center;align-items:center;position:relative}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#000;margin:-4px 0 0 -4px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1):after{top:63px;left:63px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:68px;left:56px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.108s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:71px;left:48px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.144s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:72px;left:40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:71px;left:32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.216s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:68px;left:24px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){animation-delay:-.252s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:63px;left:17px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){animation-delay:-.288s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:56px;left:12px}@keyframes _ngcontent-%COMP%_lds-roller{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']});class t0{}t0.\u0275fac=function(e){return new(e||t0)},t0.\u0275cmp=l.Xpm({type:t0,selectors:[["app-about"]],decls:37,vars:0,consts:[[1,"about-top"],[1,"container","d-flex","leader-name-img"],[1,"text-white"],[1,"image-boarder","position-relative","ms-auto"],["src","assets/about/leader.png","alt","Leader","id","Leader",1,"position-absolute"],[1,"about-bottom","container","mb-5"],[1,"leader-info","card","flex-row","w-75","mx-auto","justify-content-evenly","align-items-center","py-4","mb-5"],[1,"text-center","fw-bold","text-secondary"],[1,"fa-solid","fa-address-card","fa-2x","mb-2"],[1,"w-75"],[1,"row","w-75","mx-auto","justify-content-between","leader-edu-exp"],[1,"leader-education","card","col-5","p-4","text-center"],[1,"fa-solid","fa-graduation-cap","fa-2x","mb-2"],[1,"text-secondary","mb-3"],[1,"fw-semibold"],[1,"leader-experience","card","col-5","p-4","text-center"],[1,"fa-solid","fa-person-chalkboard","fa-2x"],[1,"text-secondary","mb-4"]],template:function(e,n){1&e&&(l.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"h3",2),l._uU(4," Dr. Ahmed Emad "),l._UZ(5,"br"),l.TgZ(6,"span"),l._uU(7,"EL-Nashar"),l.qZA()(),l.TgZ(8,"div",3),l._UZ(9,"img",4),l.qZA()()(),l.TgZ(10,"div",5)(11,"div",6)(12,"p",7),l._UZ(13,"i",8)(14,"br"),l._uU(15," About "),l.qZA(),l.TgZ(16,"p",9),l._uU(17," Is a pioneer in both, online and offline tutoring; acquiring top notch technologies and staying up to date with high standard teaching practices and elaborative methods, which gives his students advantages and makes them steps ahead of traditional teaching methods. "),l.qZA()(),l.TgZ(18,"div",10)(19,"div",11),l._UZ(20,"i",12),l.TgZ(21,"h4",13),l._uU(22,"Education"),l.qZA(),l.TgZ(23,"p",14),l._uU(24," B.s faculty of education (2010) "),l._UZ(25,"br"),l._uU(26," Master in M.M.O.T.M (2020) "),l._UZ(27,"br"),l._uU(28," PHD. in M.M.O.T.M (2023) "),l.qZA()(),l.TgZ(29,"div",15),l._UZ(30,"i",16),l.TgZ(31,"h4",17),l._uU(32,"Experience"),l.qZA(),l.TgZ(33,"p",14),l._uU(34," +12 years "),l._UZ(35,"br"),l._uU(36," secondary stage "),l.qZA()()()()())},styles:["h3[_ngcontent-%COMP%]{font-size:60px;align-self:end;margin-bottom:80px}h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#daa520}.about-top[_ngcontent-%COMP%]{height:250px;background:#daa520}.image-boarder[_ngcontent-%COMP%]{width:290px;height:300px;margin-top:100px;background:linear-gradient(#fff,#fff) padding-box,linear-gradient(to top,#daa520 20%,#fff 50%) border-box;border-radius:50%;border:18px solid transparent}.image-boarder[_ngcontent-%COMP%]   #Leader[_ngcontent-%COMP%]{width:300px;top:-50px!important;left:-25px}.card[_ngcontent-%COMP%]{border-radius:30px}svg[_ngcontent-%COMP%]{color:#daa520!important}.leader-info[_ngcontent-%COMP%]{margin-top:200px}.leader-education[_ngcontent-%COMP%], .leader-experience[_ngcontent-%COMP%]{width:47%}@media (max-width: 991px){h3[_ngcontent-%COMP%]{font-size:45px;margin-bottom:100px}.leader-education[_ngcontent-%COMP%]{font-size:14px}.about-bottom[_ngcontent-%COMP%]   .leader-info[_ngcontent-%COMP%], .about-bottom[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%!important}}@media (max-width: 767px){h3[_ngcontent-%COMP%]{font-size:40px;white-space:nowrap;margin-bottom:25px}.leader-info[_ngcontent-%COMP%]{margin-top:130px}.image-boarder[_ngcontent-%COMP%]{left:5px;height:220px;width:200px;border-width:15px}.image-boarder[_ngcontent-%COMP%]   #Leader[_ngcontent-%COMP%]{width:210px;top:-37px!important;left:-19px}}@media (max-width: 576px){.about-top[_ngcontent-%COMP%]{height:200px}.leader-name-img[_ngcontent-%COMP%]{flex-direction:column-reverse;margin-left:0%;transform:translate(-25%)}.leader-name-img[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:#daa520!important;margin-right:-30px}.leader-name-img[_ngcontent-%COMP%]   .image-boarder[_ngcontent-%COMP%]{margin-top:70px;height:250px;width:240px;border-width:18px}.leader-name-img[_ngcontent-%COMP%]   .image-boarder[_ngcontent-%COMP%]   #Leader[_ngcontent-%COMP%]{width:260px;top:-60px!important;left:-20px}.leader-info[_ngcontent-%COMP%]{margin-top:240px}.leader-edu-exp[_ngcontent-%COMP%]{flex-direction:column;row-gap:40px}.leader-education[_ngcontent-%COMP%], .leader-experience[_ngcontent-%COMP%]{width:100%}}@media (max-width: 449px){.leader-name-img[_ngcontent-%COMP%]{margin-left:40px}.leader-info[_ngcontent-%COMP%]{flex-direction:column!important}}"]});class n0{}n0.\u0275fac=function(e){return new(e||n0)},n0.\u0275cmp=l.Xpm({type:n0,selectors:[["app-error"]],decls:13,vars:0,consts:[[1,"container","my-5","py-5"],[1,"d-flex","align-items-center","justify-content-center"],[1,"text-center"],[1,"display-1","fw-bold"],[1,"fs-3"],[1,"text-danger"],[1,"lead"],["routerLink","",1,"btn","btn-primary"]],template:function(e,n){1&e&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),l._uU(4,"404"),l.qZA(),l.TgZ(5,"p",4)(6,"span",5),l._uU(7,"Opps!"),l.qZA(),l._uU(8," Page not found. "),l.qZA(),l.TgZ(9,"p",6),l._uU(10,"The page you\u2019re looking for doesn\u2019t exist."),l.qZA(),l.TgZ(11,"a",7),l._uU(12,"Go Home"),l.qZA()()()())},dependencies:[xf]});const g2=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Y_},{path:"lectuers",component:Q_},{path:"lessons",component:X_},{path:"lessons/:lec/:les",component:J_},{path:"leader",component:e0},{path:"about",component:t0},{path:"**",component:n0}];class ev{}ev.\u0275fac=function(e){return new(e||ev)},ev.\u0275mod=l.oAB({type:ev}),ev.\u0275inj=l.cJS({imports:[vg.forRoot(g2,{scrollPositionRestoration:"enabled",anchorScrolling:"enabled"}),vg]});class r0{}r0.\u0275fac=function(e){return new(e||r0)},r0.\u0275cmp=l.Xpm({type:r0,selectors:[["app-navbar"]],decls:35,vars:0,consts:[[1,"navbar","navbar-expand-md","bg-dark","navbar-dark"],[1,"container"],["routerLink","home",1,"navbar-brand","text-center"],["src","assets/Logo.png","alt","Logo"],[1,"brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","true","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item"],["routerLinkActive","active","routerLink","home",1,"nav-link"],["routerLinkActive","active","routerLink","lectuers",1,"nav-link"],["routerLinkActive","active","routerLink","lessons",1,"nav-link"],["routerLinkActive","active","routerLink","leader",1,"nav-link"],["routerLinkActive","active","routerLink","about",1,"nav-link"],[1,"icons"],["href","https://www.facebook.com/drnashar/",1,"text-white","me-2"],[1,"fa-brands","fa-facebook","fs-4"],["href","https://wa.me/message/H67KXSHBYLBFE1",1,"text-white","mx-2"],[1,"fa-brands","fa-whatsapp","fs-4"],["href","https://www.youtube.com/channel/UCHpsAYPlVsfWpebDRmTDQvg",1,"text-white","mx-2"],[1,"fa-brands","fa-youtube","fs-4"],["href","mailto:info@dr-nashar.com",1,"text-white","ms-2"],[1,"fa-solid","fa-envelope","fs-4"]],template:function(e,n){1&e&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._UZ(3,"img",3)(4,"br"),l.TgZ(5,"span",4),l._uU(6,"Dr. Nasahr"),l.qZA()(),l.TgZ(7,"button",5),l._UZ(8,"span",6),l.qZA(),l.TgZ(9,"div",7)(10,"ul",8)(11,"li",9)(12,"a",10),l._uU(13,"Home"),l.qZA()(),l.TgZ(14,"li",9)(15,"a",11),l._uU(16,"lectures"),l.qZA()(),l.TgZ(17,"li",9)(18,"a",12),l._uU(19,"Math & English"),l.qZA()(),l.TgZ(20,"li",9)(21,"a",13),l._uU(22," Top Students "),l.qZA()(),l.TgZ(23,"li",9)(24,"a",14),l._uU(25,"About"),l.qZA()()(),l.TgZ(26,"div",15)(27,"a",16),l._UZ(28,"i",17),l.qZA(),l.TgZ(29,"a",18),l._UZ(30,"i",19),l.qZA(),l.TgZ(31,"a",20),l._UZ(32,"i",21),l.qZA(),l.TgZ(33,"a",22),l._UZ(34,"i",23),l.qZA()()()()())},dependencies:[xf,$v],styles:[".bg-dark[_ngcontent-%COMP%]{background:#1e1f1f!important}.bg-dark[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:block;font-size:16px;margin-top:-12px}.bg-dark[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:600;margin-left:10px}@media (max-width: 991px) and (min-width: 768px){nav[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{max-width:750px}.nav-link[_ngcontent-%COMP%]{font-size:15px}svg[_ngcontent-%COMP%]{font-size:21px!important}}@media (max-width: 767px){.navbar-brand[_ngcontent-%COMP%]{padding-top:0;margin-top:-5px}.icons[_ngcontent-%COMP%]{text-align:center}.icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:34px!important;margin-left:34px!important}.icons[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:.5s}.icons[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#e5ba00}.nav-link[_ngcontent-%COMP%]{padding-left:50px;transition:.5s}.nav-link[_ngcontent-%COMP%]:hover{padding-left:90px;color:#e5ba00}}@media (max-width: 500px){.icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:20px!important;margin-left:20px!important}}"]});class s0{}s0.\u0275fac=function(e){return new(e||s0)},s0.\u0275cmp=l.Xpm({type:s0,selectors:[["app-footer"]],decls:19,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-8","col-md-5"],[1,"copy-right"],[1,"col-4","col-md-4"],[1,"fw-bold","middle"],[1,"col-12","col-md-3"],[1,"icons"],["href","https://www.facebook.com/drnashar/",1,"me-2"],[1,"fa-brands","fa-facebook","fs-4"],["href","https://wa.me/message/H67KXSHBYLBFE1",1,"mx-2"],[1,"fa-brands","fa-whatsapp","fs-4"],["href","https://www.youtube.com/channel/UCHpsAYPlVsfWpebDRmTDQvg",1,"mx-2"],[1,"fa-brands","fa-youtube","fs-4"],["href","mailto:info@dr-nashar.com",1,"ms-2"],[1,"fa-solid","fa-envelope","fs-4"]],template:function(e,n){1&e&&(l.TgZ(0,"section",0),l._UZ(1,"hr"),l.TgZ(2,"div",1)(3,"div",2)(4,"span",3),l._uU(5,"\xa9 2023 Dr Nashar. ALL RIGHTS RESERVED"),l.qZA()(),l.TgZ(6,"div",4)(7,"span",5),l._uU(8,"dr-nashar.com"),l.qZA()(),l.TgZ(9,"div",6)(10,"div",7)(11,"a",8),l._UZ(12,"i",9),l.qZA(),l.TgZ(13,"a",10),l._UZ(14,"i",11),l.qZA(),l.TgZ(15,"a",12),l._UZ(16,"i",13),l.qZA(),l.TgZ(17,"a",14),l._UZ(18,"i",15),l.qZA()()()()())},styles:["section[_ngcontent-%COMP%]{margin-top:20px}section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{opacity:1;border-top:4px solid;margin-bottom:5px}section[_ngcontent-%COMP%]   .copy-right[_ngcontent-%COMP%]{font-size:13px;text-transform:uppercase}section[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{text-align:right}section[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}@media (max-width: 767px){.icons[_ngcontent-%COMP%]{text-align:center!important;margin-top:10px;margin-bottom:10px}.middle[_ngcontent-%COMP%]{display:block;width:100%;text-align:end}svg[_ngcontent-%COMP%]{margin-left:20px}}@media (max-width: 500px){.copy-right[_ngcontent-%COMP%]{font-size:10px!important;font-weight:700}.middle[_ngcontent-%COMP%]{font-size:13px}}"]});class o0{constructor(){this.title="Dr_Nasahr"}}o0.\u0275fac=function(e){return new(e||o0)},o0.\u0275cmp=l.Xpm({type:o0,selectors:[["app-root"]],decls:3,vars:0,template:function(e,n){1&e&&l._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[mv,r0,s0]});class tv{}tv.\u0275fac=function(e){return new(e||tv)},tv.\u0275mod=l.oAB({type:tv,bootstrap:[o0]}),tv.\u0275inj=l.cJS({imports:[hd,ev,iE,Pi.hO.initializeApp({apiKey:"AIzaSyCkCn8NdJKPgb3GJmlnxJFfta5P6ilipnA",authDomain:"dr-nashar.firebaseapp.com",projectId:"dr-nashar",storageBucket:"dr-nashar.appspot.com",messagingSenderId:"582450987697",appId:"1:582450987697:web:78bd5798845e25b6ed5890",measurementId:"G-75YLK0GQVR"}),iF]}),Zi().bootstrapModule(tv).catch(t=>console.error(t))},9751:(wt,Le,V)=>{V.d(Le,{y:()=>Ee});var l=V(2961),ie=V(727),U=V(8822),he=V(9635),fe=V(2416),pe=V(576),Te=V(2806);let Ee=(()=>{class te{constructor($e){$e&&(this._subscribe=$e)}lift($e){const rt=new te;return rt.source=this,rt.operator=$e,rt}subscribe($e,rt,bt){const we=function Y(te){return te&&te instanceof l.Lv||function K(te){return te&&(0,pe.m)(te.next)&&(0,pe.m)(te.error)&&(0,pe.m)(te.complete)}(te)&&(0,ie.Nn)(te)}($e)?$e:new l.Hp($e,rt,bt);return(0,Te.x)(()=>{const{operator:Ue,source:Fe}=this;we.add(Ue?Ue.call(we,Fe):Fe?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe($e){try{return this._subscribe($e)}catch(rt){$e.error(rt)}}forEach($e,rt){return new(rt=be(rt))((bt,we)=>{const Ue=new l.Hp({next:Fe=>{try{$e(Fe)}catch(qe){we(qe),Ue.unsubscribe()}},error:we,complete:bt});this.subscribe(Ue)})}_subscribe($e){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe($e)}[U.L](){return this}pipe(...$e){return(0,he.U)($e)(this)}toPromise($e){return new($e=be($e))((rt,bt)=>{let we;this.subscribe(Ue=>we=Ue,Ue=>bt(Ue),()=>rt(we))})}}return te.create=Xe=>new te(Xe),te})();function be(te){var Xe;return null!==(Xe=te??fe.v.Promise)&&void 0!==Xe?Xe:Promise}},7579:(wt,Le,V)=>{V.d(Le,{x:()=>Te});var l=V(9751),ie=V(727);const he=(0,V(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=V(8737),pe=V(2806);let Te=(()=>{class be extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const te=new Ee(this,this);return te.operator=Y,te}_throwIfClosed(){if(this.closed)throw new he}next(Y){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(Y)}})}error(Y){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:te}=this;for(;te.length;)te.shift().error(Y)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:te,isStopped:Xe,observers:$e}=this;return te||Xe?ie.Lc:(this.currentObservers=null,$e.push(Y),new ie.w0(()=>{this.currentObservers=null,(0,fe.P)($e,Y)}))}_checkFinalizedStatuses(Y){const{hasError:te,thrownError:Xe,isStopped:$e}=this;te?Y.error(Xe):$e&&Y.complete()}asObservable(){const Y=new l.y;return Y.source=this,Y}}return be.create=(K,Y)=>new Ee(K,Y),be})();class Ee extends Te{constructor(K,Y){super(),this.destination=K,this.source=Y}next(K){var Y,te;null===(te=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===te||te.call(Y,K)}error(K){var Y,te;null===(te=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===te||te.call(Y,K)}complete(){var K,Y;null===(Y=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===Y||Y.call(K)}_subscribe(K){var Y,te;return null!==(te=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(K))&&void 0!==te?te:ie.Lc}}},2961:(wt,Le,V)=>{V.d(Le,{Hp:()=>bt,Lv:()=>te});var l=V(576),ie=V(727),U=V(2416),he=V(7849);function fe(){}const pe=be("C",void 0,void 0);function be(Be,ke,je){return{kind:Be,value:ke,error:je}}var K=V(3410),Y=V(2806);class te extends ie.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,ie.Nn)(ke)&&ke.add(this)):this.destination=qe}static create(ke,je,We){return new bt(ke,je,We)}next(ke){this.isStopped?Fe(function Ee(Be){return be("N",Be,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?Fe(function Te(Be){return be("E",void 0,Be)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?Fe(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function $e(Be,ke){return Xe.call(Be,ke)}class rt{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:je}=this;if(je.next)try{je.next(ke)}catch(We){we(We)}}error(ke){const{partialObserver:je}=this;if(je.error)try{je.error(ke)}catch(We){we(We)}else we(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(je){we(je)}}}class bt extends te{constructor(ke,je,We){let ze;if(super(),(0,l.m)(ke)||!ke)ze={next:ke??void 0,error:je??void 0,complete:We??void 0};else{let q;this&&U.v.useDeprecatedNextContext?(q=Object.create(ke),q.unsubscribe=()=>this.unsubscribe(),ze={next:ke.next&&$e(ke.next,q),error:ke.error&&$e(ke.error,q),complete:ke.complete&&$e(ke.complete,q)}):ze=ke}this.destination=new rt(ze)}}function we(Be){U.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Be):(0,he.h)(Be)}function Fe(Be,ke){const{onStoppedNotification:je}=U.v;je&&K.z.setTimeout(()=>je(Be,ke))}const qe={closed:!0,next:fe,error:function Ue(Be){throw Be},complete:fe}},727:(wt,Le,V)=>{V.d(Le,{Lc:()=>pe,w0:()=>fe,Nn:()=>Te});var l=V(576);const U=(0,V(3888).d)(be=>function(Y){be(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((te,Xe)=>`${Xe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var he=V(8737);class fe{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const $e of Y)$e.remove(this);else Y.remove(this);const{initialTeardown:te}=this;if((0,l.m)(te))try{te()}catch($e){K=$e instanceof U?$e.errors:[$e]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const $e of Xe)try{Ee($e)}catch(rt){K=K??[],rt instanceof U?K=[...K,...rt.errors]:K.push(rt)}}if(K)throw new U(K)}}add(K){var Y;if(K&&K!==this)if(this.closed)Ee(K);else{if(K instanceof fe){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(K)}}_hasParent(K){const{_parentage:Y}=this;return Y===K||Array.isArray(Y)&&Y.includes(K)}_addParent(K){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(K),Y):Y?[Y,K]:K}_removeParent(K){const{_parentage:Y}=this;Y===K?this._parentage=null:Array.isArray(Y)&&(0,he.P)(Y,K)}remove(K){const{_finalizers:Y}=this;Y&&(0,he.P)(Y,K),K instanceof fe&&K._removeParent(this)}}fe.EMPTY=(()=>{const be=new fe;return be.closed=!0,be})();const pe=fe.EMPTY;function Te(be){return be instanceof fe||be&&"closed"in be&&(0,l.m)(be.remove)&&(0,l.m)(be.add)&&(0,l.m)(be.unsubscribe)}function Ee(be){(0,l.m)(be)?be():be.unsubscribe()}},2416:(wt,Le,V)=>{V.d(Le,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,Le,V)=>{V.d(Le,{E:()=>ie});const ie=new(V(9751).y)(fe=>fe.complete())},8996:(wt,Le,V)=>{V.d(Le,{D:()=>ke});var l=V(8421),ie=V(5363),U=V(9468),pe=V(9751),Ee=V(2202),be=V(576),K=V(9672);function te(je,We){if(!je)throw new Error("Iterable cannot be null");return new pe.y(ze=>{(0,K.f)(ze,We,()=>{const q=je[Symbol.asyncIterator]();(0,K.f)(ze,We,()=>{q.next().then(Me=>{Me.done?ze.complete():ze.next(Me.value)})},0,!0)})})}var Xe=V(3670),$e=V(8239),rt=V(1144),bt=V(6495),we=V(2206),Ue=V(4532),Fe=V(3260);function ke(je,We){return We?function Be(je,We){if(null!=je){if((0,Xe.c)(je))return function he(je,We){return(0,l.Xf)(je).pipe((0,U.R)(We),(0,ie.Q)(We))}(je,We);if((0,rt.z)(je))return function Te(je,We){return new pe.y(ze=>{let q=0;return We.schedule(function(){q===je.length?ze.complete():(ze.next(je[q++]),ze.closed||this.schedule())})})}(je,We);if((0,$e.t)(je))return function fe(je,We){return(0,l.Xf)(je).pipe((0,U.R)(We),(0,ie.Q)(We))}(je,We);if((0,we.D)(je))return te(je,We);if((0,bt.T)(je))return function Y(je,We){return new pe.y(ze=>{let q;return(0,K.f)(ze,We,()=>{q=je[Ee.h](),(0,K.f)(ze,We,()=>{let Me,J;try{({value:Me,done:J}=q.next())}catch(re){return void ze.error(re)}J?ze.complete():ze.next(Me)},0,!0)}),()=>(0,be.m)(q?.return)&&q.return()})}(je,We);if((0,Fe.L)(je))return function qe(je,We){return te((0,Fe.Q)(je),We)}(je,We)}throw(0,Ue.z)(je)}(je,We):(0,l.Xf)(je)}},8421:(wt,Le,V)=>{V.d(Le,{Xf:()=>Xe});var l=V(655),ie=V(1144),U=V(8239),he=V(9751),fe=V(3670),pe=V(2206),Te=V(4532),Ee=V(6495),be=V(3260),K=V(576),Y=V(7849),te=V(8822);function Xe(Be){if(Be instanceof he.y)return Be;if(null!=Be){if((0,fe.c)(Be))return function $e(Be){return new he.y(ke=>{const je=Be[te.L]();if((0,K.m)(je.subscribe))return je.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,ie.z)(Be))return function rt(Be){return new he.y(ke=>{for(let je=0;je<Be.length&&!ke.closed;je++)ke.next(Be[je]);ke.complete()})}(Be);if((0,U.t)(Be))return function bt(Be){return new he.y(ke=>{Be.then(je=>{ke.closed||(ke.next(je),ke.complete())},je=>ke.error(je)).then(null,Y.h)})}(Be);if((0,pe.D)(Be))return Ue(Be);if((0,Ee.T)(Be))return function we(Be){return new he.y(ke=>{for(const je of Be)if(ke.next(je),ke.closed)return;ke.complete()})}(Be);if((0,be.L)(Be))return function Fe(Be){return Ue((0,be.Q)(Be))}(Be)}throw(0,Te.z)(Be)}function Ue(Be){return new he.y(ke=>{(function qe(Be,ke){var je,We,ze,q;return(0,l.mG)(this,void 0,void 0,function*(){try{for(je=(0,l.KL)(Be);!(We=yield je.next()).done;)if(ke.next(We.value),ke.closed)return}catch(Me){ze={error:Me}}finally{try{We&&!We.done&&(q=je.return)&&(yield q.call(je))}finally{if(ze)throw ze.error}}ke.complete()})})(Be,ke).catch(je=>ke.error(je))})}},6451:(wt,Le,V)=>{V.d(Le,{T:()=>pe});var l=V(8189),ie=V(8421),U=V(515),he=V(7669),fe=V(8996);function pe(...Te){const Ee=(0,he.yG)(Te),be=(0,he._6)(Te,1/0),K=Te;return K.length?1===K.length?(0,ie.Xf)(K[0]):(0,l.J)(be)((0,fe.D)(K,Ee)):U.E}},5403:(wt,Le,V)=>{V.d(Le,{x:()=>ie});var l=V(2961);function ie(he,fe,pe,Te,Ee){return new U(he,fe,pe,Te,Ee)}class U extends l.Lv{constructor(fe,pe,Te,Ee,be,K){super(fe),this.onFinalize=be,this.shouldUnsubscribe=K,this._next=pe?function(Y){try{pe(Y)}catch(te){fe.error(te)}}:super._next,this._error=Ee?function(Y){try{Ee(Y)}catch(te){fe.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(Y){fe.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(wt,Le,V)=>{V.d(Le,{U:()=>U});var l=V(4482),ie=V(5403);function U(he,fe){return(0,l.e)((pe,Te)=>{let Ee=0;pe.subscribe((0,ie.x)(Te,be=>{Te.next(he.call(fe,be,Ee++))}))})}},8189:(wt,Le,V)=>{V.d(Le,{J:()=>U});var l=V(5577),ie=V(4671);function U(he=1/0){return(0,l.z)(ie.y,he)}},5577:(wt,Le,V)=>{V.d(Le,{z:()=>Ee});var l=V(4004),ie=V(8421),U=V(4482),he=V(9672),fe=V(5403),Te=V(576);function Ee(be,K,Y=1/0){return(0,Te.m)(K)?Ee((te,Xe)=>(0,l.U)(($e,rt)=>K(te,$e,Xe,rt))((0,ie.Xf)(be(te,Xe))),Y):("number"==typeof K&&(Y=K),(0,U.e)((te,Xe)=>function pe(be,K,Y,te,Xe,$e,rt,bt){const we=[];let Ue=0,Fe=0,qe=!1;const Be=()=>{qe&&!we.length&&!Ue&&K.complete()},ke=We=>Ue<te?je(We):we.push(We),je=We=>{$e&&K.next(We),Ue++;let ze=!1;(0,ie.Xf)(Y(We,Fe++)).subscribe((0,fe.x)(K,q=>{Xe?.(q),$e?ke(q):K.next(q)},()=>{ze=!0},void 0,()=>{if(ze)try{for(Ue--;we.length&&Ue<te;){const q=we.shift();rt?(0,he.f)(K,rt,()=>je(q)):je(q)}Be()}catch(q){K.error(q)}}))};return be.subscribe((0,fe.x)(K,ke,()=>{qe=!0,Be()})),()=>{bt?.()}}(te,Xe,be,Y)))}},5363:(wt,Le,V)=>{V.d(Le,{Q:()=>he});var l=V(9672),ie=V(4482),U=V(5403);function he(fe,pe=0){return(0,ie.e)((Te,Ee)=>{Te.subscribe((0,U.x)(Ee,be=>(0,l.f)(Ee,fe,()=>Ee.next(be),pe),()=>(0,l.f)(Ee,fe,()=>Ee.complete(),pe),be=>(0,l.f)(Ee,fe,()=>Ee.error(be),pe)))})}},3099:(wt,Le,V)=>{V.d(Le,{B:()=>fe});var l=V(8421),ie=V(7579),U=V(2961),he=V(4482);function fe(Te={}){const{connector:Ee=(()=>new ie.x),resetOnError:be=!0,resetOnComplete:K=!0,resetOnRefCountZero:Y=!0}=Te;return te=>{let Xe,$e,rt,bt=0,we=!1,Ue=!1;const Fe=()=>{$e?.unsubscribe(),$e=void 0},qe=()=>{Fe(),Xe=rt=void 0,we=Ue=!1},Be=()=>{const ke=Xe;qe(),ke?.unsubscribe()};return(0,he.e)((ke,je)=>{bt++,!Ue&&!we&&Fe();const We=rt=rt??Ee();je.add(()=>{bt--,0===bt&&!Ue&&!we&&($e=pe(Be,Y))}),We.subscribe(je),!Xe&&bt>0&&(Xe=new U.Hp({next:ze=>We.next(ze),error:ze=>{Ue=!0,Fe(),$e=pe(qe,be,ze),We.error(ze)},complete:()=>{we=!0,Fe(),$e=pe(qe,K),We.complete()}}),(0,l.Xf)(ke).subscribe(Xe))})(te)}}function pe(Te,Ee,...be){if(!0===Ee)return void Te();if(!1===Ee)return;const K=new U.Hp({next:()=>{K.unsubscribe(),Te()}});return Ee(...be).subscribe(K)}},9468:(wt,Le,V)=>{V.d(Le,{R:()=>ie});var l=V(4482);function ie(U,he=0){return(0,l.e)((fe,pe)=>{pe.add(U.schedule(()=>fe.subscribe(pe),he))})}},8505:(wt,Le,V)=>{V.d(Le,{b:()=>fe});var l=V(576),ie=V(4482),U=V(5403),he=V(4671);function fe(pe,Te,Ee){const be=(0,l.m)(pe)||Te||Ee?{next:pe,error:Te,complete:Ee}:pe;return be?(0,ie.e)((K,Y)=>{var te;null===(te=be.subscribe)||void 0===te||te.call(be);let Xe=!0;K.subscribe((0,U.x)(Y,$e=>{var rt;null===(rt=be.next)||void 0===rt||rt.call(be,$e),Y.next($e)},()=>{var $e;Xe=!1,null===($e=be.complete)||void 0===$e||$e.call(be),Y.complete()},$e=>{var rt;Xe=!1,null===(rt=be.error)||void 0===rt||rt.call(be,$e),Y.error($e)},()=>{var $e,rt;Xe&&(null===($e=be.unsubscribe)||void 0===$e||$e.call(be)),null===(rt=be.finalize)||void 0===rt||rt.call(be)}))}):he.y}},4408:(wt,Le,V)=>{V.d(Le,{o:()=>fe});var l=V(727);class ie extends l.w0{constructor(Te,Ee){super()}schedule(Te,Ee=0){return this}}const U={setInterval(pe,Te,...Ee){const{delegate:be}=U;return be?.setInterval?be.setInterval(pe,Te,...Ee):setInterval(pe,Te,...Ee)},clearInterval(pe){const{delegate:Te}=U;return(Te?.clearInterval||clearInterval)(pe)},delegate:void 0};var he=V(8737);class fe extends ie{constructor(Te,Ee){super(Te,Ee),this.scheduler=Te,this.work=Ee,this.pending=!1}schedule(Te,Ee=0){var be;if(this.closed)return this;this.state=Te;const K=this.id,Y=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(Y,K,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(be=this.id)&&void 0!==be?be:this.requestAsyncId(Y,this.id,Ee),this}requestAsyncId(Te,Ee,be=0){return U.setInterval(Te.flush.bind(Te,this),be)}recycleAsyncId(Te,Ee,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return Ee;null!=Ee&&U.clearInterval(Ee)}execute(Te,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(Te,Ee);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Ee){let K,be=!1;try{this.work(Te)}catch(Y){be=!0,K=Y||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Ee}=this,{actions:be}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(be,this),null!=Te&&(this.id=this.recycleAsyncId(Ee,Te,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,Le,V)=>{V.d(Le,{v:()=>U});var l=V(6063);class ie{constructor(fe,pe=ie.now){this.schedulerActionCtor=fe,this.now=pe}schedule(fe,pe=0,Te){return new this.schedulerActionCtor(this,fe).schedule(Te,pe)}}ie.now=l.l.now;class U extends ie{constructor(fe,pe=ie.now){super(fe,pe),this.actions=[],this._active=!1}flush(fe){const{actions:pe}=this;if(this._active)return void pe.push(fe);let Te;this._active=!0;do{if(Te=fe.execute(fe.state,fe.delay))break}while(fe=pe.shift());if(this._active=!1,Te){for(;fe=pe.shift();)fe.unsubscribe();throw Te}}}},4986:(wt,Le,V)=>{V.d(Le,{z:()=>U});var l=V(4408);const U=new(V(7565).v)(l.o)},6063:(wt,Le,V)=>{V.d(Le,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(wt,Le,V)=>{V.d(Le,{z:()=>l});const l={setTimeout(ie,U,...he){const{delegate:fe}=l;return fe?.setTimeout?fe.setTimeout(ie,U,...he):setTimeout(ie,U,...he)},clearTimeout(ie){const{delegate:U}=l;return(U?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},2202:(wt,Le,V)=>{V.d(Le,{h:()=>ie});const ie=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,Le,V)=>{V.d(Le,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(wt,Le,V)=>{V.d(Le,{_6:()=>pe,jO:()=>he,yG:()=>fe});var l=V(576);function U(Te){return Te[Te.length-1]}function he(Te){return(0,l.m)(U(Te))?Te.pop():void 0}function fe(Te){return function ie(Te){return Te&&(0,l.m)(Te.schedule)}(U(Te))?Te.pop():void 0}function pe(Te,Ee){return"number"==typeof U(Te)?Te.pop():Ee}},8737:(wt,Le,V)=>{function l(ie,U){if(ie){const he=ie.indexOf(U);0<=he&&ie.splice(he,1)}}V.d(Le,{P:()=>l})},3888:(wt,Le,V)=>{function l(ie){const he=ie(fe=>{Error.call(fe),fe.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}V.d(Le,{d:()=>l})},2806:(wt,Le,V)=>{V.d(Le,{O:()=>he,x:()=>U});var l=V(2416);let ie=null;function U(fe){if(l.v.useDeprecatedSynchronousErrorHandling){const pe=!ie;if(pe&&(ie={errorThrown:!1,error:null}),fe(),pe){const{errorThrown:Te,error:Ee}=ie;if(ie=null,Te)throw Ee}}else fe()}function he(fe){l.v.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=fe)}},9672:(wt,Le,V)=>{function l(ie,U,he,fe=0,pe=!1){const Te=U.schedule(function(){he(),pe?ie.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(ie.add(Te),!pe)return Te}V.d(Le,{f:()=>l})},4671:(wt,Le,V)=>{function l(ie){return ie}V.d(Le,{y:()=>l})},1144:(wt,Le,V)=>{V.d(Le,{z:()=>l});const l=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},2206:(wt,Le,V)=>{V.d(Le,{D:()=>ie});var l=V(576);function ie(U){return Symbol.asyncIterator&&(0,l.m)(U?.[Symbol.asyncIterator])}},576:(wt,Le,V)=>{function l(ie){return"function"==typeof ie}V.d(Le,{m:()=>l})},3670:(wt,Le,V)=>{V.d(Le,{c:()=>U});var l=V(8822),ie=V(576);function U(he){return(0,ie.m)(he[l.L])}},6495:(wt,Le,V)=>{V.d(Le,{T:()=>U});var l=V(2202),ie=V(576);function U(he){return(0,ie.m)(he?.[l.h])}},8239:(wt,Le,V)=>{V.d(Le,{t:()=>ie});var l=V(576);function ie(U){return(0,l.m)(U?.then)}},3260:(wt,Le,V)=>{V.d(Le,{L:()=>he,Q:()=>U});var l=V(655),ie=V(576);function U(fe){return(0,l.FC)(this,arguments,function*(){const Te=fe.getReader();try{for(;;){const{value:Ee,done:be}=yield(0,l.qq)(Te.read());if(be)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Ee)}}finally{Te.releaseLock()}})}function he(fe){return(0,ie.m)(fe?.getReader)}},4482:(wt,Le,V)=>{V.d(Le,{A:()=>ie,e:()=>U});var l=V(576);function ie(he){return(0,l.m)(he?.lift)}function U(he){return fe=>{if(ie(fe))return fe.lift(function(pe){try{return he(pe,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(wt,Le,V)=>{V.d(Le,{U:()=>U,z:()=>ie});var l=V(4671);function ie(...he){return U(he)}function U(he){return 0===he.length?l.y:1===he.length?he[0]:function(pe){return he.reduce((Te,Ee)=>Ee(Te),pe)}}},7849:(wt,Le,V)=>{V.d(Le,{h:()=>U});var l=V(2416),ie=V(3410);function U(he){ie.z.setTimeout(()=>{const{onUnhandledError:fe}=l.v;if(!fe)throw he;fe(he)})}},4532:(wt,Le,V)=>{function l(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Le,{z:()=>l})},655:(wt,Le,V)=>{function he(J,re){var ue={};for(var ce in J)Object.prototype.hasOwnProperty.call(J,ce)&&re.indexOf(ce)<0&&(ue[ce]=J[ce]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(ce=Object.getOwnPropertySymbols(J);Qe<ce.length;Qe++)re.indexOf(ce[Qe])<0&&Object.prototype.propertyIsEnumerable.call(J,ce[Qe])&&(ue[ce[Qe]]=J[ce[Qe]])}return ue}function Ee(J,re,ue,ce){return new(ue||(ue=Promise))(function(Ge,Ct){function hn(Qt){try{zt(ce.next(Qt))}catch(Dt){Ct(Dt)}}function wn(Qt){try{zt(ce.throw(Qt))}catch(Dt){Ct(Dt)}}function zt(Qt){Qt.done?Ge(Qt.value):function Qe(Ge){return Ge instanceof ue?Ge:new ue(function(Ct){Ct(Ge)})}(Qt.value).then(hn,wn)}zt((ce=ce.apply(J,re||[])).next())})}function we(J){return this instanceof we?(this.v=J,this):new we(J)}function Ue(J,re,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,ce=ue.apply(J,re||[]),Ge=[];return Qe={},Ct("next"),Ct("throw"),Ct("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe;function Ct(dn){ce[dn]&&(Qe[dn]=function(Sr){return new Promise(function(Vr,Mt){Ge.push([dn,Sr,Vr,Mt])>1||hn(dn,Sr)})})}function hn(dn,Sr){try{!function wn(dn){dn.value instanceof we?Promise.resolve(dn.value.v).then(zt,Qt):Dt(Ge[0][2],dn)}(ce[dn](Sr))}catch(Vr){Dt(Ge[0][3],Vr)}}function zt(dn){hn("next",dn)}function Qt(dn){hn("throw",dn)}function Dt(dn,Sr){dn(Sr),Ge.shift(),Ge.length&&hn(Ge[0][0],Ge[0][1])}}function qe(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,re=J[Symbol.asyncIterator];return re?re.call(J):(J=function te(J){var re="function"==typeof Symbol&&Symbol.iterator,ue=re&&J[re],ce=0;if(ue)return ue.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ce>=J.length&&(J=void 0),{value:J&&J[ce++],done:!J}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ue={},ce("next"),ce("throw"),ce("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function ce(Ge){ue[Ge]=J[Ge]&&function(Ct){return new Promise(function(hn,wn){!function Qe(Ge,Ct,hn,wn){Promise.resolve(wn).then(function(zt){Ge({value:zt,done:hn})},Ct)}(hn,wn,(Ct=J[Ge](Ct)).done,Ct.value)})}}}V.d(Le,{FC:()=>Ue,KL:()=>qe,_T:()=>he,mG:()=>Ee,qq:()=>we})},4650:(wt,Le,V)=>{V.d(Le,{$8M:()=>Jc,$WT:()=>Gn,$Z:()=>G0,AFp:()=>nw,ALo:()=>Xf,AaK:()=>Ee,Akn:()=>Wo,BQk:()=>Nf,CRH:()=>Qn,CZH:()=>Em,CqO:()=>Cb,D6c:()=>Om,DdM:()=>jy,EJc:()=>up,F$t:()=>Ab,F4k:()=>wb,FYo:()=>Ov,FiY:()=>Pl,Gf:()=>lh,GfV:()=>w0,Hsn:()=>Mb,JOm:()=>$t,LFG:()=>Je,LSH:()=>bv,Lbi:()=>JT,Lck:()=>Kg,MAs:()=>bb,MGl:()=>Dg,MMx:()=>Qg,NdJ:()=>sy,OlP:()=>on,Oqu:()=>dy,P3R:()=>f0,PXZ:()=>pp,Q6J:()=>ty,QGY:()=>iy,Qsj:()=>RC,R0b:()=>Ts,RDi:()=>po,Rgc:()=>sh,SBq:()=>Bd,Sil:()=>wm,Suo:()=>VE,TTD:()=>nl,TgZ:()=>Ig,Tol:()=>QI,VKq:()=>OE,W1O:()=>Qy,X6Q:()=>d_,XFs:()=>xt,Xpm:()=>oa,Xts:()=>wv,Y36:()=>Hd,YKP:()=>Ny,YNc:()=>_b,Yjl:()=>la,Yz7:()=>Mt,Z0I:()=>Br,ZZ4:()=>Pm,_UZ:()=>ry,_Vd:()=>Vd,_c5:()=>ju,_uU:()=>Wb,aQg:()=>Fr,c2e:()=>iw,cJS:()=>bi,cg1:()=>gy,dDg:()=>cw,dqk:()=>jt,eFA:()=>Ka,eoX:()=>Tm,f3M:()=>ht,g9A:()=>XT,h0i:()=>Bs,hGG:()=>Cp,hij:()=>Og,iGM:()=>ah,ifc:()=>sn,ip1:()=>tw,jDz:()=>Wf,kL8:()=>oc,lG2:()=>aa,lcZ:()=>Jf,lqb:()=>wu,lri:()=>lw,n5z:()=>Xc,oAB:()=>Nn,oxw:()=>xb,q4F:()=>C0,qLn:()=>Tf,qZA:()=>Tg,rWj:()=>gc,s9C:()=>oy,sBO:()=>pw,s_b:()=>im,soG:()=>St,tb:()=>o_,tp0:()=>D,uIk:()=>Gi,vHH:()=>we,vpe:()=>Jo,wAp:()=>nt,xp6:()=>Df,ynx:()=>Sg,z2F:()=>yc,zSh:()=>Yl,zs3:()=>Ql});var l=V(7579),ie=V(727),U=V(9751),he=V(6451),fe=V(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function Ee(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ee).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function be(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const K=pe({__forward_ref__:pe});function Y(s){return s.__forward_ref__=Y,s.toString=function(){return Ee(this())},s}function te(s){return Xe(s)?s():s}function Xe(s){return"function"==typeof s&&s.hasOwnProperty(K)&&s.__forward_ref__===Y}function $e(s){return s&&!!s.\u0275providers}const bt="https://g.co/ng/security#xss";class we extends Error{constructor(o,a){super(function Ue(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function Fe(s){return"string"==typeof s?s:null==s?"":String(s)}function We(s,o){throw new we(-201,!1)}function Qt(s,o){null==s&&function Dt(s,o,a,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${a} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Mt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function bi(s){return{providers:s.providers||[],imports:s.imports||[]}}function ni(s){return jr(s,Hr)||jr(s,Cn)}function Br(s){return null!==ni(s)}function jr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Li(s){return s&&(s.hasOwnProperty(Gs)||s.hasOwnProperty(ri))?s[Gs]:null}const Hr=pe({\u0275prov:pe}),Gs=pe({\u0275inj:pe}),Cn=pe({ngInjectableDef:pe}),ri=pe({ngInjectorDef:pe});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let ls;function On(s){const o=ls;return ls=s,o}function Zr(s,o,a){const d=ni(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&xt.Optional?null:void 0!==o?o:void We(Ee(s))}const jt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),$n={},Rn="__NG_DI_FLAG__",$i="ngTempTokenPath",ia=/\n/gm,us="__source";let an;function xr(s){const o=an;return an=s,o}function Xi(s,o=xt.Default){if(void 0===an)throw new we(-203,!1);return null===an?Zr(s,void 0,o):an.get(s,o&xt.Optional?null:void 0,o)}function Je(s,o=xt.Default){return(function Fi(){return ls}()||Xi)(te(s),o)}function ht(s,o=xt.Default){return Je(s,Lt(o))}function Lt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Ut(s){const o=[];for(let a=0;a<s.length;a++){const d=te(s[a]);if(Array.isArray(d)){if(0===d.length)throw new we(900,!1);let h,g=xt.Default;for(let b=0;b<d.length;b++){const I=d[b],T=W(I);"number"==typeof T?-1===T?h=I.token:g|=T:h=I}o.push(Je(h,g))}else o.push(Je(d))}return o}function qt(s,o){return s[Rn]=o,s.prototype[Rn]=o,s}function W(s){return s[Rn]}function Se(s){return{toString:s}.toString()}var ae=(()=>((ae=ae||{})[ae.OnPush=0]="OnPush",ae[ae.Default=1]="Default",ae))(),sn=(()=>{return(s=sn||(sn={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",sn;var s})();const kn={},Ot=[],ur=pe({\u0275cmp:pe}),tn=pe({\u0275dir:pe}),tr=pe({\u0275pipe:pe}),yo=pe({\u0275mod:pe}),Ar=pe({\u0275fac:pe}),sa=pe({__NG_ELEMENT_ID__:pe});let Oh=0;function oa(s){return Se(()=>{const a=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ae.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ot,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||sn.Emulated,id:"c"+Oh++,styles:s.styles||Ot,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},g=s.dependencies,b=s.features;return h.inputs=Dc(s.inputs,d),h.outputs=Dc(s.outputs),b&&b.forEach(I=>I(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Sc).filter(Ku):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(Bn).filter(Ku):null,h})}function Sc(s){return ln(s)||nr(s)}function Ku(s){return null!==s}function Nn(s){return Se(()=>({type:s.type,bootstrap:s.bootstrap||Ot,declarations:s.declarations||Ot,imports:s.imports||Ot,exports:s.exports||Ot,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Dc(s,o){if(null==s)return kn;const a={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=d,o&&(o[h]=g)}return a}const aa=oa;function la(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function ln(s){return s[ur]||null}function nr(s){return s[tn]||null}function Bn(s){return s[tr]||null}function Gn(s){const o=ln(s)||nr(s)||Bn(s);return null!==o&&o.standalone}function Mr(s,o){const a=s[yo]||null;if(!a&&!0===o)throw new Error(`Type ${Ee(s)} does not have '\u0275mod' property.`);return a}function ii(s){return Array.isArray(s)&&"object"==typeof s[1]}function Vi(s){return Array.isArray(s)&&!0===s[1]}function ca(s){return 0!=(4&s.flags)}function Bi(s){return s.componentOffset>-1}function Ac(s){return 1==(1&s.flags)}function si(s){return null!==s.template}function ua(s){return 0!=(256&s[2])}function Ys(s,o){return s.hasOwnProperty(Ar)?s[Ar]:null}class Qs{constructor(o,a,d){this.previousValue=o,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function nl(){return Io}function Io(s){return s.type.prototype.ngOnChanges&&(s.setInput=To),rl}function rl(){const s=da(this),o=s?.current;if(o){const a=s.previous;if(a===kn)s.previous=o;else for(let d in o)a[d]=o[d];s.current=null,this.ngOnChanges(o)}}function To(s,o,a,d){const h=this.declaredInputs[a],g=da(s)||function td(s,o){return s[Xs]=o}(s,{previous:kn,current:null}),b=g.current||(g.current={}),I=g.previous,T=I[h];b[h]=new Qs(T&&T.currentValue,o,I===kn),s[d]=o}nl.ngInherit=!0;const Xs="__ngSimpleChanges__";function da(s){return s[Xs]||null}function jn(s){for(;Array.isArray(s);)s=s[0];return s}function Js(s,o){return jn(o[s])}function Wn(s,o){return jn(o[s.index])}function xo(s,o){return s.data[o]}function eo(s,o){return s[o]}function hr(s,o){const a=o[s];return ii(a)?a:a[0]}function Ao(s){return 64==(64&s[2])}function ps(s,o){return null==o?null:s[o]}function fa(s){s[18]=0}function pa(s,o){s[5]+=o;let a=s,d=s[3];for(;null!==d&&(1===o&&1===a[5]||-1===o&&0===a[5]);)d[5]+=o,a=d,d=d[3]}const Vt={lFrame:nv(null),bindingsEnabled:!0};function cl(){return Vt.bindingsEnabled}function De(){return Vt.lFrame.lView}function cn(){return Vt.lFrame.tView}function br(){let s=ga();for(;null!==s&&64===s.type;)s=s.parent;return s}function ga(){return Vt.lFrame.currentTNode}function ai(s,o){const a=Vt.lFrame;a.currentTNode=s,a.isParent=o}function dl(){return Vt.lFrame.isParent}function hl(){Vt.lFrame.isParent=!1}function rr(){const s=Vt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function to(){return Vt.lFrame.bindingIndex++}function od(s,o){const a=Vt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Vc(o)}function Vc(s){Vt.lFrame.currentDirectiveIndex=s}function ad(){return Vt.lFrame.currentQueryIndex}function Bc(s){Vt.lFrame.currentQueryIndex=s}function ld(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function $h(s,o,a){if(a&xt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||a&xt.Host||(h=ld(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Vt.lFrame=Uh();return d.currentTNode=o,d.lView=s,!0}function pl(s){const o=Uh(),a=s[1];Vt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Uh(){const s=Vt.lFrame,o=null===s?null:s.child;return null===o?nv(s):o}function nv(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function jp(){const s=Vt.lFrame;return Vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const jc=jp;function Hp(){const s=jp();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function qr(){return Vt.lFrame.selectedIndex}function Mo(s){Vt.lFrame.selectedIndex=s}function xn(){const s=Vt.lFrame;return xo(s.tView,s.selectedIndex)}function va(s,o){for(let a=o.directiveStart,d=o.directiveEnd;a<d;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:I,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:k}=g;b&&(s.contentHooks||(s.contentHooks=[])).push(-a,b),I&&((s.contentHooks||(s.contentHooks=[])).push(a,I),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,I)),T&&(s.viewHooks||(s.viewHooks=[])).push(-a,T),A&&((s.viewHooks||(s.viewHooks=[])).push(a,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,A)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(a,k)}}function Ns(s,o,a){Zc(s,o,3,a)}function Oo(s,o,a,d){(3&s[2])===a&&Zc(s,o,a,d)}function Si(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Zc(s,o,a,d){const g=d??-1,b=o.length-1;let I=0;for(let T=void 0!==d?65535&s[18]:0;T<b;T++)if("number"==typeof o[T+1]){if(I=o[T],null!=d&&I>=d)break}else o[T]<0&&(s[18]+=65536),(I<g||-1==g)&&(gl(s,a,o,T),s[18]=(4294901760&s[18])+T+2),T++}function gl(s,o,a,d){const h=a[d]<0,g=a[d+1],I=s[h?-a[d]:a[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(I)}finally{}}}else try{g.call(I)}finally{}}class ko{constructor(o,a,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function In(s,o,a){let d=0;for(;d<a.length;){const h=a[d];if("number"==typeof h){if(0!==h)break;d++;const g=a[d++],b=a[d++],I=a[d++];s.setAttribute(o,b,I,g)}else{const g=h,b=a[++d];ro(g)?s.setProperty(o,g,b):s.setAttribute(o,g,b),d++}}return d}function ba(s){return 3===s||4===s||6===s}function ro(s){return 64===s.charCodeAt(0)}function ms(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?a=h:0===a||Ea(s,a,h,null,-1===a||2===a?o[++d]:null)}}return s}function Ea(s,o,a,d,h){let g=0,b=s.length;if(-1===o)b=-1;else for(;g<s.length;){const I=s[g++];if("number"==typeof I){if(I===o){b=-1;break}if(I>o){b=g-1;break}}}for(;g<s.length;){const I=s[g];if("number"==typeof I)break;if(I===a){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==b&&(s.splice(b,0,o),g=b+1),s.splice(g++,0,a),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function qc(s){return-1!==s}function vl(s){return 32767&s}function _l(s,o){let a=function yl(s){return s>>16}(s),d=o;for(;a>0;)d=d[15],a--;return d}let Ls=!0;function io(s){const o=Ls;return Ls=s,o}let Wc=0;const Wr={};function Lo(s,o){const a=El(s,o);if(-1!==a)return a;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,ao(d.data,s),ao(o,null),ao(d.blueprint,null));const h=wa(s,o),g=s.injectorIndex;if(qc(h)){const b=vl(h),I=_l(h,o),T=I[1].data;for(let A=0;A<8;A++)o[g+A]=I[b+A]|T[b+A]}return o[g+8]=h,g}function ao(s,o){s.push(0,0,0,0,0,0,0,0,o)}function El(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function wa(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,d=null,h=o;for(;null!==h;){if(d=Hh(h),null===d)return-1;if(a++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return-1}function Kc(s,o,a){!function bl(s,o,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(sa)&&(d=a[sa]),null==d&&(d=a[sa]=Wc++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function lo(s,o,a){if(a&xt.Optional||void 0!==s)return s;We()}function Fo(s,o,a,d){if(a&xt.Optional&&void 0===d&&(d=null),!(a&(xt.Self|xt.Host))){const h=s[9],g=On(void 0);try{return h?h.get(o,d,a&xt.Optional):Zr(o,d,a&xt.Optional)}finally{On(g)}}return lo(d,0,a)}function Bh(s,o,a,d=xt.Default,h){if(null!==s){if(1024&o[2]){const b=function hd(s,o,a,d,h){let g=s,b=o;for(;null!==g&&null!==b&&1024&b[2]&&!(256&b[2]);){const I=vs(g,b,a,d|xt.Self,Wr);if(I!==Wr)return I;let T=g.parent;if(!T){const A=b[21];if(A){const k=A.get(a,Wr,d);if(k!==Wr)return k}T=Hh(b),b=b[15]}g=T}return h}(s,o,a,d,Wr);if(b!==Wr)return b}const g=vs(s,o,a,d,Wr);if(g!==Wr)return g}return Fo(o,a,d,h)}function vs(s,o,a,d,h){const g=function Yc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(sa)?s[sa]:void 0;return"number"==typeof o?o>=0?255&o:jh:o}(a);if("function"==typeof g){if(!$h(o,s,d))return d&xt.Host?lo(h,0,d):Fo(o,a,d,h);try{const b=g(d);if(null!=b||d&xt.Optional)return b;We()}finally{jc()}}else if("number"==typeof g){let b=null,I=El(s,o),T=-1,A=d&xt.Host?o[16][6]:null;for((-1===I||d&xt.SkipSelf)&&(T=-1===I?wa(s,o):o[I+8],-1!==T&&Hi(d,!1)?(b=o[1],I=vl(T),o=_l(T,o)):I=-1);-1!==I;){const k=o[1];if(Qc(g,I,k.data)){const B=Ca(I,o,a,b,d,A);if(B!==Wr)return B}T=o[I+8],-1!==T&&Hi(d,o[1].data[I+8]===A)&&Qc(g,I,o)?(b=k,I=vl(T),o=_l(T,o)):I=-1}}return h}function Ca(s,o,a,d,h,g){const b=o[1],I=b.data[s+8],k=wl(I,b,a,null==d?Bi(I)&&Ls:d!=b&&0!=(3&I.type),h&xt.Host&&g===I);return null!==k?ji(o,b,k,I):Wr}function wl(s,o,a,d,h){const g=s.providerIndexes,b=o.data,I=1048575&g,T=s.directiveStart,k=g>>20,Q=h?I+k:s.directiveEnd;for(let oe=d?I:I+k;oe<Q;oe++){const Ae=b[oe];if(oe<T&&a===Ae||oe>=T&&Ae.type===a)return oe}if(h){const oe=b[T];if(oe&&si(oe)&&oe.type===a)return T}return null}function ji(s,o,a,d){let h=s[a];const g=o.data;if(function Di(s){return s instanceof ko}(h)){const b=h;b.resolving&&function Be(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${a}`)}(function qe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Fe(s)}(g[a]));const I=io(b.canSeeViewProviders);b.resolving=!0;const T=b.injectImpl?On(b.injectImpl):null;$h(s,d,xt.Default);try{h=s[a]=b.factory(void 0,g,s,d),o.firstCreatePass&&a>=d.directiveStart&&function zp(s,o,a){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const b=Io(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,b),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,b)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==T&&On(T),io(I),b.resolving=!1,jc()}}return h}function Qc(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Hi(s,o){return!(s&xt.Self||s&xt.Host&&o)}class Zi{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,d){return Bh(this._tNode,this._lView,o,Lt(d),a)}}function jh(){return new Zi(br(),De())}function Xc(s){return Se(()=>{const o=s.prototype.constructor,a=o[Ar]||Cl(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[Ar]||Cl(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Cl(s){return Xe(s)?()=>{const o=Cl(te(s));return o&&o()}:Ys(s)}function Hh(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function Jc(s){return function dd(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const d=a.length;let h=0;for(;h<d;){const g=a[h];if(ba(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof a[h];)h++;else{if(g===o)return a[h+1];h+=2}}}return null}(br(),s)}const Ia="__parameters__";function Il(s,o,a){return Se(()=>{const d=function pd(s){return function(...a){if(s){const d=s(...a);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const b=new h(...g);return I.annotation=b,I;function I(T,A,k){const B=T.hasOwnProperty(Ia)?T[Ia]:Object.defineProperty(T,Ia,{value:[]})[Ia];for(;B.length<=k;)B.push(null);return(B[k]=B[k]||[]).push(b),T}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class on{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Mt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function rs(s,o){s.forEach(a=>Array.isArray(a)?rs(a,o):o(a))}function Al(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Ta(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Uo(s,o){const a=[];for(let d=0;d<s;d++)a.push(o);return a}function Kr(s,o,a){let d=Rr(s,o);return d>=0?s[1|d]=a:(d=~d,function Wh(s,o,a,d){let h=s.length;if(h==o)s.push(a,d);else if(1===h)s.push(d,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=d}}(s,d,o,a)),d}function yn(s,o){const a=Rr(s,o);if(a>=0)return s[1|a]}function Rr(s,o){return function is(s,o,a){let d=0,h=s.length>>a;for(;h!==d;){const g=d+(h-d>>1),b=s[g<<a];if(o===b)return g<<a;b>o?h=g:d=g+1}return~(h<<a)}(s,o,1)}const Pl=qt(Il("Optional"),8),D=qt(Il("SkipSelf"),4);var $t=(()=>(($t=$t||{})[$t.Important=1]="Important",$t[$t.DashCase=2]="DashCase",$t))();const au=new Map;let Fs=0;const Id="__ngContext__";function kr(s,o){ii(o)?(s[Id]=o[20],function Qp(s){au.set(s[20],s)}(o)):s[Id]=o}function Oa(s,o){return undefined(s,o)}function Ra(s){const o=s[3];return Vi(o)?o[3]:o}function Ll(s){return Jp(s[13])}function Fl(s){return Jp(s[4])}function Jp(s){for(;null!==s&&!Vi(s);)s=s[4];return s}function Ho(s,o,a,d,h){if(null!=d){let g,b=!1;Vi(d)?g=d:ii(d)&&(b=!0,d=d[0]);const I=jn(d);0===s&&null!==a?null==h?Bl(o,a,I):Na(o,a,I,h||null,!0):1===s&&null!==a?Na(o,a,I,h||null,!0):2===s?function La(s,o,a){const d=ho(s,o);d&&function jl(s,o,a,d){s.removeChild(o,a,d)}(s,d,o,a)}(o,I,b):3===s&&o.destroyNode(I),null!=g&&function vu(s,o,a,d,h){const g=a[7];g!==jn(a)&&Ho(o,s,d,g,h);for(let I=10;I<a.length;I++){const T=a[I];gu(T[1],T,s,o,d,g)}}(o,s,g,a,h)}}function du(s,o,a){return s.createElement(o,a)}function hu(s,o){const a=s[9],d=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,pa(h,-1)),a.splice(d,1)}function df(s,o){if(s.length<=10)return;const a=10+o,d=s[a];if(d){const h=d[17];null!==h&&h!==s&&hu(h,d),o>0&&(s[a-1][4]=d[4]);const g=Ta(s,10+o);!function lv(s,o){gu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const b=g[19];null!==b&&b.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Sd(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&gu(s,o,a,3,null,null),function uf(s){let o=s[13];if(!o)return Vl(s[1],s);for(;o;){let a=null;if(ii(o))a=o[13];else{const d=o[10];d&&(a=d)}if(!a){for(;o&&!o[4]&&o!==s;)ii(o)&&Vl(o[1],o),o=o[3];null===o&&(o=s),ii(o)&&Vl(o[1],o),a=o&&o[4]}o=a}}(o)}}function Vl(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function ka(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let d=0;d<a.length;d+=2){const h=o[a[d]];if(!(h instanceof ko)){const g=a[d+1];if(Array.isArray(g))for(let b=0;b<g.length;b+=2){const I=h[g[b]],T=g[b+1];try{T.call(I)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function eg(s,o){const a=s.cleanup,d=o[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const b=a[g+3];b>=0?d[h=b]():d[h=-b].unsubscribe(),g+=2}else{const b=d[h=a[g+1]];a[g].call(b)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Vi(o[3])){a!==o[3]&&hu(a,o);const d=o[19];null!==d&&d.detachView(s)}!function c0(s){au.delete(s[20])}(o)}}function Dd(s,o,a){return function hv(s,o,a){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return a[0];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=s.data[d.directiveStart+h];if(g===sn.None||g===sn.Emulated)return null}return Wn(d,a)}}(s,o.parent,a)}function Na(s,o,a,d,h){s.insertBefore(o,a,d,h)}function Bl(s,o,a){s.appendChild(o,a)}function tg(s,o,a,d,h){null!==d?Na(s,o,a,d,h):Bl(s,o,a)}function ho(s,o){return s.parentNode(o)}function hf(s,o,a){return fo(s,o,a)}let mf,_u,fo=function Ad(s,o,a){return 40&s.type?Wn(s,a):null};function pu(s,o,a,d){const h=Dd(s,d,o),g=o[11],I=hf(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(a))for(let T=0;T<a.length;T++)tg(g,h,a[T],I,!1);else tg(g,h,a,I,!1)}function Hl(s,o){if(null!==o){const a=o.type;if(3&a)return Wn(o,s);if(4&a)return gr(-1,s[o.index]);if(8&a){const d=o.child;if(null!==d)return Hl(s,d);{const h=s[o.index];return Vi(h)?gr(-1,h):jn(h)}}if(32&a)return Oa(o,s)()||jn(s[o.index]);{const d=Md(s,o);return null!==d?Array.isArray(d)?d[0]:Hl(Ra(s[16]),d):Hl(s,o.next)}}return null}function Md(s,o){return null!==o?s[16][6].projection[o.projection]:null}function gr(s,o){const a=10+s+1;if(a<o.length){const d=o[a],h=d[1].firstChild;if(null!==h)return Hl(d,h)}return o[7]}function Zl(s,o,a,d,h,g,b){for(;null!=a;){const I=d[a.index],T=a.type;if(b&&0===o&&(I&&kr(jn(I),d),a.flags|=2),32!=(32&a.flags))if(8&T)Zl(s,o,a.child,d,h,g,!1),Ho(o,s,h,I,g);else if(32&T){const A=Oa(a,d);let k;for(;k=A();)Ho(o,s,h,k,g);Ho(o,s,h,I,g)}else 16&T?mu(s,o,d,a,h,g):Ho(o,s,h,I,g);a=b?a.projectionNext:a.next}}function gu(s,o,a,d,h,g){Zl(a,d,s.firstChild,o,h,g,!1)}function mu(s,o,a,d,h,g){const b=a[16],T=b[6].projection[d.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)Ho(o,s,h,T[A],g);else Zl(s,o,T,b[3],h,g,!0)}function gi(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function zl(s,o,a){const{mergedAttrs:d,classes:h,styles:g}=a;null!==d&&In(s,o,d),null!==h&&gi(s,o,h),null!==g&&function pf(s,o,a){s.setAttribute(o,"style",a)}(s,o,g)}function po(s){mf=s}function og(s){return function Rd(){if(void 0===_u&&(_u=null,jt.trustedTypes))try{_u=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return _u}()?.createScriptURL(s)||s}class fv{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bt})`}}function w(s){return s instanceof fv?s.changingThisBreaksApplicationSecurity:s}function M(s,o){const a=function L(s){return s instanceof fv&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${bt})`)}return a===o}const vf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var sr=(()=>((sr=sr||{})[sr.NONE=0]="NONE",sr[sr.HTML=1]="HTML",sr[sr.STYLE=2]="STYLE",sr[sr.SCRIPT=3]="SCRIPT",sr[sr.URL=4]="URL",sr[sr.RESOURCE_URL=5]="RESOURCE_URL",sr))();function bv(s){const o=wf();return o?o.sanitize(sr.URL,s)||"":M(s,"URL")?w(s):function $a(s){return(s=String(s)).match(vf)?s:"unsafe:"+s}(Fe(s))}function cg(s){const o=wf();if(o)return og(o.sanitize(sr.RESOURCE_URL,s)||"");if(M(s,"ResourceURL"))return og(w(s));throw new we(904,!1)}function f0(s,o,a){return function IC(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?cg:bv}(o,a)(s)}function wf(){const s=De();return s&&s[12]}const wv=new on("ENVIRONMENT_INITIALIZER"),Eu=new on("INJECTOR",-1),Ld=new on("INJECTOR_DEF_TYPES");class p0{get(o,a=$n){if(a===$n){const d=new Error(`NullInjectorError: No provider for ${Ee(o)}!`);throw d.name="NullInjectorError",d}return a}}function Cf(...s){return{\u0275providers:Fd(0,s),\u0275fromNgModule:!0}}function Fd(s,...o){const a=[],d=new Set;let h;return rs(o,g=>{const b=g;Cv(b,a,[],d)&&(h||(h=[]),h.push(b))}),void 0!==h&&g0(h,a),a}function g0(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];Iv(h,g=>{o.push(g)})}}function Cv(s,o,a,d){if(!(s=te(s)))return!1;let h=null,g=Li(s);const b=!g&&ln(s);if(g||b){if(b&&!b.standalone)return!1;h=s}else{const T=s.ngModule;if(g=Li(T),!g)return!1;h=T}const I=d.has(h);if(b){if(I)return!1;if(d.add(h),b.dependencies){const T="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const A of T)Cv(A,o,a,d)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let A;d.add(h);try{rs(g.imports,k=>{Cv(k,o,a,d)&&(A||(A=[]),A.push(k))})}finally{}void 0!==A&&g0(A,o)}if(!I){const A=Ys(h)||(()=>new h);o.push({provide:h,useFactory:A,deps:Ot},{provide:Ld,useValue:h,multi:!0},{provide:wv,useValue:()=>Je(h),multi:!0})}const T=g.providers;null==T||I||Iv(T,k=>{o.push(k)})}}return h!==s&&void 0!==s.providers}function Iv(s,o){for(let a of s)$e(a)&&(a=a.\u0275providers),Array.isArray(a)?Iv(a,o):o(a)}const SC=pe({provide:String,useValue:pe});function Tv(s){return null!==s&&"object"==typeof s&&SC in s}function Ua(s){return"function"==typeof s}const Yl=new on("Set Injector scope."),dg={},xC={};let Sv;function hg(){return void 0===Sv&&(Sv=new p0),Sv}class wu{}class v0 extends wu{get destroyed(){return this._destroyed}constructor(o,a,d,h){super(),this.parent=a,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ud(o,b=>this.processProvider(b)),this.records.set(Eu,$d(void 0,this)),h.has("environment")&&this.records.set(wu,$d(void 0,this));const g=this.records.get(Yl);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Ld.multi,Ot,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=xr(this),d=On(void 0);try{return o()}finally{xr(a),On(d)}}get(o,a=$n,d=xt.Default){this.assertNotDestroyed(),d=Lt(d);const h=xr(this),g=On(void 0);try{if(!(d&xt.SkipSelf)){let I=this.records.get(o);if(void 0===I){const T=function Mv(s){return"function"==typeof s||"object"==typeof s&&s instanceof on}(o)&&ni(o);I=T&&this.injectableDefInScope(T)?$d(Dv(o),dg):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(d&xt.Self?hg():this.parent).get(o,a=d&xt.Optional&&a===$n?null:a)}catch(b){if("NullInjectorError"===b.name){if((b[$i]=b[$i]||[]).unshift(Ee(o)),h)throw b;return function H(s,o,a,d){const h=s[$i];throw o[us]&&h.unshift(o[us]),s.message=function ee(s,o,a,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=Ee(o);if(Array.isArray(o))h=o.map(Ee).join(" -> ");else if("object"==typeof o){let g=[];for(let b in o)if(o.hasOwnProperty(b)){let I=o[b];g.push(b+":"+("string"==typeof I?JSON.stringify(I):Ee(I)))}h=`{${g.join(", ")}}`}return`${a}${d?"("+d+")":""}[${h}]: ${s.replace(ia,"\n  ")}`}("\n"+s.message,h,a,d),s.ngTokenPath=h,s[$i]=null,s}(b,o,"R3InjectorError",this.source)}throw b}finally{On(g),xr(h)}}resolveInjectorInitializers(){const o=xr(this),a=On(void 0);try{const d=this.get(wv.multi,Ot,xt.Self);for(const h of d)h()}finally{xr(o),On(a)}}toString(){const o=[],a=this.records;for(const d of a.keys())o.push(Ee(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(o){let a=Ua(o=te(o))?o:te(o&&o.provide);const d=function MC(s){return Tv(s)?$d(void 0,s.useValue):$d(function xv(s,o,a){let d;if(Ua(s)){const h=te(s);return Ys(h)||Dv(h)}if(Tv(s))d=()=>te(s.useValue);else if(function m0(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Ut(s.deps||[]));else if(function DC(s){return!(!s||!s.useExisting)}(s))d=()=>Je(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function Av(s){return!!s.deps}(s))return Ys(h)||Dv(h);d=()=>new h(...Ut(s.deps))}return d}(s),dg)}(o);if(Ua(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=$d(void 0,dg,!0),h.factory=()=>Ut(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,d)}hydrate(o,a){return a.value===dg&&(a.value=xC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function y0(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Dv(s){const o=ni(s),a=null!==o?o.factory:Ys(s);if(null!==a)return a;if(s instanceof on)throw new we(204,!1);if(s instanceof Function)return function AC(s){const o=s.length;if(o>0)throw Uo(o,"?"),new we(204,!1);const a=function vo(s){const o=s&&(s[Hr]||s[Cn]);if(o){const a=function Ps(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new we(204,!1)}function $d(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Ud(s,o){for(const a of s)Array.isArray(a)?Ud(a,o):a&&$e(a)?Ud(a.\u0275providers,o):o(a)}class PC{}class _0{}class E0{resolveComponentFactory(o){throw function OC(s){const o=Error(`No component factory found for ${Ee(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Vd=(()=>{class s{}return s.NULL=new E0,s})();function fg(){return Va(br(),De())}function Va(s,o){return new Bd(Wn(s,o))}let Bd=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=fg,s})();function If(s){return s instanceof Bd?s.nativeElement:s}class Ov{}let RC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function kC(){const s=De(),a=hr(br().index,s);return(ii(a)?a:s)[11]}(),s})(),NC=(()=>{class s{}return s.\u0275prov=Mt({token:s,providedIn:"root",factory:()=>null}),s})();class w0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const C0=new w0("15.1.1"),pg={};function kv(s){return s.ngOriginalError}class Tf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&kv(o);for(;a&&kv(a);)a=kv(a);return a||null}}function zo(s){return s instanceof Function?s():s}function A0(s,o,a){let d=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}a=h+1}}const Nv="ng-template";function Lv(s,o,a){let d=0;for(;d<s.length;){let h=s[d++];if(a&&"class"===h){if(h=s[d],-1!==A0(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function M0(s){return 4===s.type&&s.value!==Nv}function P0(s,o,a){return o===(4!==s.type||a?s.value:Nv)}function jd(s,o,a){let d=4;const h=s.attrs||[],g=function mg(s){for(let o=0;o<s.length;o++)if(ba(s[o]))return o;return s.length}(h);let b=!1;for(let I=0;I<o.length;I++){const T=o[I];if("number"!=typeof T){if(!b)if(4&d){if(d=2|1&d,""!==T&&!P0(s,T,a)||""===T&&1===o.length){if(Es(d))return!1;b=!0}}else{const A=8&d?T:o[++I];if(8&d&&null!==s.attrs){if(!Lv(s.attrs,A,a)){if(Es(d))return!1;b=!0}continue}const B=jC(8&d?"class":T,h,M0(s),a);if(-1===B){if(Es(d))return!1;b=!0;continue}if(""!==A){let Q;Q=B>g?"":h[B+1].toLowerCase();const oe=8&d?Q:null;if(oe&&-1!==A0(oe,A,0)||2&d&&A!==Q){if(Es(d))return!1;b=!0}}}}else{if(!b&&!Es(d)&&!Es(T))return!1;if(b&&Es(T))continue;b=!1,d=T|1&d}}return Es(d)||b}function Es(s){return 0==(1&s)}function jC(s,o,a,d){if(null===o)return-1;let h=0;if(d||!a){let g=!1;for(;h<o.length;){const b=o[h];if(b===s)return h;if(3===b||6===b)g=!0;else{if(1===b||2===b){let I=o[++h];for(;"string"==typeof I;)I=o[++h];continue}if(4===b)break;if(0===b){h+=4;continue}}h+=g?1:2}return-1}return function O0(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const d=s[a];if("number"==typeof d)return-1;if(d===o)return a;a++}return-1}(o,s)}function Fv(s,o,a=!1){for(let d=0;d<o.length;d++)if(jd(s,o[d],a))return!0;return!1}function R0(s,o){e:for(let a=0;a<o.length;a++){const d=o[a];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function k0(s,o){return s?":not("+o.trim()+")":o}function HC(s){let o=s[0],a=1,d=2,h="",g=!1;for(;a<s.length;){let b=s[a];if("string"==typeof b)if(2&d){const I=s[++a];h+="["+b+(I.length>0?'="'+I+'"':"")+"]"}else 8&d?h+="."+b:4&d&&(h+=" "+b);else""!==h&&!Es(b)&&(o+=k0(g,h),h=""),d=b,g=g||!Es(d);a++}return""!==h&&(o+=k0(g,h)),o}const Xt={};function Df(s){N0(cn(),De(),qr()+s,!1)}function N0(s,o,a,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Ns(o,g,a)}else{const g=s.preOrderHooks;null!==g&&Oo(o,g,0,a)}Mo(a)}function $v(s,o=null,a=null,d){const h=V0(s,o,a,d);return h.resolveInjectorInitializers(),h}function V0(s,o=null,a=null,d,h=new Set){const g=[a||Ot,Cf(s)];return d=d||("object"==typeof s?void 0:Ee(s)),new v0(g,o||hg(),d||null,h)}let Ql=(()=>{class s{static create(a,d){if(Array.isArray(a))return $v({name:""},d,a,"");{const h=a.name??"";return $v({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=$n,s.NULL=new p0,s.\u0275prov=Mt({token:s,providedIn:"any",factory:()=>Je(Eu)}),s.__NG_ELEMENT_ID__=-1,s})();function Hd(s,o=xt.Default){const a=De();return null===a?Je(s,o):Bh(br(),a,te(s),o)}function G0(){throw new Error("invalid")}function zv(s,o){const a=s.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const g=a[d+1];if(-1!==g){const b=s.data[g];Bc(a[d]),b.contentQueries(2,o[g],g)}}}function Rf(s,o,a,d,h,g,b,I,T,A,k){const B=o.blueprint.slice();return B[0]=h,B[2]=76|d,(null!==k||s&&1024&s[2])&&(B[2]|=1024),fa(B),B[3]=B[15]=s,B[8]=a,B[10]=b||s&&s[10],B[11]=I||s&&s[11],B[12]=T||s&&s[12]||null,B[9]=A||s&&s[9]||null,B[6]=g,B[20]=function wd(){return Fs++}(),B[21]=k,B[16]=2==o.type?s[16]:B,B}function Jl(s,o,a,d,h){let g=s.data[o];if(null===g)g=function yg(s,o,a,d,h){const g=ga(),b=dl(),T=s.data[o]=function oI(s,o,a,d,h,g){return{type:a,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?g:g&&g.parent,a,o,d,h);return null===s.firstChild&&(s.firstChild=T),null!==g&&(b?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(s,o,a,d,h),function sd(){return Vt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=a,g.value=d,g.attrs=h;const b=function ul(){const s=Vt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===b?-1:b.injectorIndex}return ai(g,!0),g}function mr(s,o,a,d){if(0===a)return-1;const h=o.length;for(let g=0;g<a;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Gv(s,o,a){pl(o);try{const d=s.viewQuery;null!==d&&nb(1,d,a);const h=s.template;null!==h&&q0(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&zv(s,o),s.staticViewQueries&&nb(2,s.viewQuery,a);const g=s.components;null!==g&&function ex(s,o){for(let a=0;a<o.length;a++)EI(s,o[a])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Hp()}}function vr(s,o,a,d){const h=o[2];if(128!=(128&h)){pl(o);try{fa(o),function ks(s){return Vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&q0(s,o,a,2,d);const b=3==(3&h);if(b){const A=s.preOrderCheckHooks;null!==A&&Ns(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Oo(o,A,0,null),Si(o,0)}if(function _I(s){for(let o=Ll(s);null!==o;o=Fl(o)){if(!o[2])continue;const a=o[9];for(let d=0;d<a.length;d++){const h=a[d];512&h[2]||pa(h[3],1),h[2]|=512}}}(o),function yI(s){for(let o=Ll(s);null!==o;o=Fl(o))for(let a=10;a<o.length;a++){const d=o[a],h=d[1];Ao(d)&&vr(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&zv(s,o),b){const A=s.contentCheckHooks;null!==A&&Ns(o,A)}else{const A=s.contentHooks;null!==A&&Oo(o,A,1),Si(o,1)}!function rI(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let d=0;d<a.length;d++){const h=a[d];if(h<0)Mo(~h);else{const g=h,b=a[++d],I=a[++d];od(b,g),I(2,o[g])}}}finally{Mo(-1)}}(s,o);const I=s.components;null!==I&&function iI(s,o){for(let a=0;a<o.length;a++)bI(s,o[a])}(o,I);const T=s.viewQuery;if(null!==T&&nb(2,T,d),b){const A=s.viewCheckHooks;null!==A&&Ns(o,A)}else{const A=s.viewHooks;null!==A&&Oo(o,A,2),Si(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,pa(o[3],-1))}finally{Hp()}}}function q0(s,o,a,d,h){const g=qr(),b=2&d;try{Mo(-1),b&&o.length>22&&N0(s,o,22,!1),a(d,h)}finally{Mo(g)}}function Go(s,o,a){if(ca(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const b=s.data[g];b.contentQueries&&b.contentQueries(1,a[g],g)}}}function Cu(s,o,a){cl()&&(function fI(s,o,a,d){const h=a.directiveStart,g=a.directiveEnd;Bi(a)&&function mI(s,o,a){const d=Wn(o,s),h=W0(a),g=s[10],b=bg(s,Rf(s,h,null,a.onPush?32:16,d,o,g,g.createRenderer(d,a),null,null,null));s[o.index]=b}(o,a,s.data[h+a.componentOffset]),s.firstCreatePass||Lo(a,o),kr(d,o);const b=a.initialInputs;for(let I=h;I<g;I++){const T=s.data[I],A=ji(o,s,I,a);kr(A,o),null!==b&&ox(0,I-h,A,T,0,b),si(T)&&(hr(a.index,o)[8]=ji(o,s,I,a))}}(s,o,a,Wn(a,o)),64==(64&a.flags)&&J0(s,o,a))}function _g(s,o,a=Wn){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const b=d[g+1],I=-1===b?a(o,s):s[b];s[h++]=I}}}function W0(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=qv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function qv(s,o,a,d,h,g,b,I,T,A){const k=22+d,B=k+h,Q=function sI(s,o){const a=[];for(let d=0;d<o;d++)a.push(d<s?null:Xt);return a}(k,B),oe="function"==typeof A?A():A;return Q[1]={type:s,blueprint:Q,template:a,queries:null,viewQuery:I,declTNode:o,data:Q.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:T,consts:oe,incompleteFirstPass:!1}}function K0(s,o,a,d){const h=CI(o);null===a?h.push(d):(h.push(a),s.firstCreatePass&&rb(s).push(d,h.length-1))}function Y0(s,o,a,d){for(let h in s)if(s.hasOwnProperty(h)){a=null===a?{}:a;const g=s[h];null===d?Q0(a,o,h,g):d.hasOwnProperty(h)&&Q0(a,o,d[h],g)}return a}function Q0(s,o,a,d){s.hasOwnProperty(a)?s[a].push(o,d):s[a]=[o,d]}function Us(s,o,a,d,h,g,b,I){const T=Wn(o,a);let k,A=o.inputs;!I&&null!=A&&(k=A[d])?(Xv(s,a,k,d,h),Bi(o)&&cI(a,o.index)):3&o.type&&(d=function lI(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=b?b(h,o.value||"",d):h,g.setProperty(T,d,h))}function cI(s,o){const a=hr(o,s);16&a[2]||(a[2]|=32)}function X0(s,o,a,d){let h=!1;if(cl()){const g=null===d?null:{"":-1},b=function pI(s,o){const a=s.directiveRegistry;let d=null,h=null;if(a)for(let g=0;g<a.length;g++){const b=a[g];if(Fv(o,b.selectors,!1))if(d||(d=[]),si(b))if(null!==b.findHostDirectiveDefs){const I=[];h=h||new Map,b.findHostDirectiveDefs(b,I,h),d.unshift(...I,b),Wv(s,o,I.length)}else d.unshift(b),Wv(s,o,0);else h=h||new Map,b.findHostDirectiveDefs?.(b,d,h),d.push(b)}return null===d?null:[d,h]}(s,a);let I,T;null===b?I=T=null:[I,T]=b,null!==I&&(h=!0,uI(s,o,a,I,g,T)),g&&function rx(s,o,a){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=a[o[h+1]];if(null==g)throw new we(-301,!1);d.push(o[h],g)}}}(a,d,g)}return a.mergedAttrs=ms(a.mergedAttrs,a.attrs),h}function uI(s,o,a,d,h,g){for(let A=0;A<d.length;A++)Kc(Lo(a,o),s,d[A].type);!function gI(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,d.length);for(let A=0;A<d.length;A++){const k=d[A];k.providersResolver&&k.providersResolver(k)}let b=!1,I=!1,T=mr(s,o,d.length,null);for(let A=0;A<d.length;A++){const k=d[A];a.mergedAttrs=ms(a.mergedAttrs,k.hostAttrs),sx(s,a,o,T,k),ix(T,k,h),null!==k.contentQueries&&(a.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=64);const B=k.type.prototype;!b&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),b=!0),!I&&(B.ngOnChanges||B.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),I=!0),T++}!function aI(s,o,a){const h=o.directiveEnd,g=s.data,b=o.attrs,I=[];let T=null,A=null;for(let k=o.directiveStart;k<h;k++){const B=g[k],Q=a?a.get(B):null,Ae=Q?Q.outputs:null;T=Y0(B.inputs,k,T,Q?Q.inputs:null),A=Y0(B.outputs,k,A,Ae);const Ye=null===T||null===b||M0(o)?null:vI(T,k,b);I.push(Ye)}null!==T&&(T.hasOwnProperty("class")&&(o.flags|=8),T.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=I,o.inputs=T,o.outputs=A}(s,a,g)}function J0(s,o,a){const d=a.directiveStart,h=a.directiveEnd,g=a.index,b=function Uc(){return Vt.lFrame.currentDirectiveIndex}();try{Mo(g);for(let I=d;I<h;I++){const T=s.data[I],A=o[I];Vc(I),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&nx(T,A)}}finally{Mo(-1),Vc(b)}}function nx(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Wv(s,o,a){o.componentOffset=a,(s.components||(s.components=[])).push(o.index)}function ix(s,o,a){if(a){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)a[o.exportAs[d]]=s;si(o)&&(a[""]=s)}}function sx(s,o,a,d,h){s.data[d]=h;const g=h.factory||(h.factory=Ys(h.type)),b=new ko(g,si(h),Hd);s.blueprint[d]=b,a[d]=b,function dI(s,o,a,d,h){const g=h.hostBindings;if(g){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const I=~o.index;(function hI(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(b)!=I&&b.push(I),b.push(a,d,g)}}(s,o,d,mr(s,a,h.hostVars,Xt),h)}function qo(s,o,a,d,h,g){const b=Wn(s,o);!function eb(s,o,a,d,h,g,b){if(null==g)s.removeAttribute(o,h,a);else{const I=null==b?Fe(g):b(g,d||"",h);s.setAttribute(o,h,I,a)}}(o[11],b,g,s.value,a,d,h)}function ox(s,o,a,d,h,g){const b=g[o];if(null!==b){const I=d.setInput;for(let T=0;T<b.length;){const A=b[T++],k=b[T++],B=b[T++];null!==I?d.setInput(a,B,A,k):a[k]=B}}}function vI(s,o,a){let d=null,h=0;for(;h<a.length;){const g=a[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===d&&(d=[]);const b=s[g];for(let I=0;I<b.length;I+=2)if(b[I]===o){d.push(g,b[I+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function tb(s,o,a,d){return[s,!0,!1,o,null,0,d,a,null,null]}function bI(s,o){const a=hr(o,s);if(Ao(a)){const d=a[1];48&a[2]?vr(d,a,d.template,a[8]):a[5]>0&&Kv(a)}}function Kv(s){for(let d=Ll(s);null!==d;d=Fl(d))for(let h=10;h<d.length;h++){const g=d[h];if(Ao(g))if(512&g[2]){const b=g[1];vr(b,g,b.template,g[8])}else g[5]>0&&Kv(g)}const a=s[1].components;if(null!==a)for(let d=0;d<a.length;d++){const h=hr(a[d],s);Ao(h)&&h[5]>0&&Kv(h)}}function EI(s,o){const a=hr(o,s),d=a[1];(function wI(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(d,a),Gv(d,a,a[8])}function bg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Yv(s){for(;s;){s[2]|=32;const o=Ra(s);if(ua(s)&&!o)return s;s=o}return null}function Qv(s,o,a,d=!0){const h=o[10];h.begin&&h.begin();try{vr(s,o,s.template,a)}catch(b){throw d&&sb(o,b),b}finally{h.end&&h.end()}}function nb(s,o,a){Bc(0),o(s,a)}function CI(s){return s[7]||(s[7]=[])}function rb(s){return s.cleanup||(s.cleanup=[])}function sb(s,o){const a=s[9],d=a?a.get(Tf,null):null;d&&d.handleError(o)}function Xv(s,o,a,d,h){for(let g=0;g<a.length;){const b=a[g++],I=a[g++],T=o[b],A=s.data[b];null!==A.setInput?A.setInput(T,h,d,I):T[I]=h}}function Eg(s,o,a){let d=a?s.styles:null,h=a?s.classes:null,g=0;if(null!==o)for(let b=0;b<o.length;b++){const I=o[b];"number"==typeof I?g=I:1==g?h=be(h,I):2==g&&(d=be(d,I+": "+o[++b]+";"))}a?s.styles=d:s.stylesWithoutHost=d,a?s.classes=h:s.classesWithoutHost=h}function wg(s,o,a,d,h=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&d.push(jn(g)),Vi(g))for(let I=10;I<g.length;I++){const T=g[I],A=T[1].firstChild;null!==A&&wg(T[1],T,A,d)}const b=a.type;if(8&b)wg(s,o,a.child,d);else if(32&b){const I=Oa(a,o);let T;for(;T=I();)d.push(T)}else if(16&b){const I=Md(o,a);if(Array.isArray(I))d.push(...I);else{const T=Ra(o[16]);wg(T[1],T,I,d,!0)}}a=h?a.projectionNext:a.next}return d}class kf{get rootNodes(){const o=this._lView,a=o[1];return wg(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Vi(o)){const a=o[8],d=a?a.indexOf(this):-1;d>-1&&(df(o,d),Ta(a,d))}this._attachedToViewContainer=!1}Sd(this._lView[1],this._lView)}onDestroy(o){K0(this._lView[1],this._lView,null,o)}markForCheck(){Yv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Qv(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ul(s,o){gu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=o}}class II extends kf{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Qv(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class ob extends Vd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=ln(o);return new Cg(a,this.ngModule)}}function ab(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class cx{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,d){d=Lt(d);const h=this.injector.get(o,pg,d);return h!==pg||a===pg?h:this.parentInjector.get(o,a,d)}}class Cg extends _0{get inputs(){return ab(this.componentDef.inputs)}get outputs(){return ab(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function ZC(s){return s.map(HC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,d,h){let g=(h=h||this.ngModule)instanceof wu?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const b=g?new cx(o,g):o,I=b.get(Ov,null);if(null===I)throw new we(407,!1);const T=b.get(NC,null),A=I.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",B=d?function Jt(s,o,a){return s.selectRootElement(o,a===sn.ShadowDom)}(A,d,this.componentDef.encapsulation):du(A,k,function lx(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),Q=this.componentDef.onPush?288:272,oe=qv(0,null,null,1,0,null,null,null,null,null),Ae=Rf(null,oe,null,Q,null,null,I,A,T,b,null);let Ye,it;pl(Ae);try{const dt=this.componentDef;let Ft,Ve=null;dt.findHostDirectiveDefs?(Ft=[],Ve=new Map,dt.findHostDirectiveDefs(dt,Ft,Ve),Ft.push(dt)):Ft=[dt];const Gt=function dx(s,o){const a=s[1];return s[22]=o,Jl(a,22,2,"#host",null)}(Ae,B),Sn=function hx(s,o,a,d,h,g,b,I){const T=h[1];!function fx(s,o,a,d){for(const h of s)o.mergedAttrs=ms(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Eg(o,o.mergedAttrs,!0),null!==a&&zl(d,a,o))}(d,s,o,b);const A=g.createRenderer(o,a),k=Rf(h,W0(a),null,a.onPush?32:16,h[s.index],s,g,A,I||null,null,null);return T.firstCreatePass&&Wv(T,s,d.length-1),bg(h,k),h[s.index]=k}(Gt,B,dt,Ft,Ae,I,A);it=xo(oe,22),B&&function or(s,o,a,d){if(d)In(s,a,["ng-version",C0.full]);else{const{attrs:h,classes:g}=function zC(s){const o=[],a=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&a.push(g);else{if(!Es(h))break;h=g}d++}return{attrs:o,classes:a}}(o.selectors[0]);h&&In(s,a,h),g&&g.length>0&&gi(s,a,g.join(" "))}}(A,dt,B,d),void 0!==a&&function px(s,o,a){const d=s.projection=[];for(let h=0;h<o.length;h++){const g=a[h];d.push(null!=g?Array.from(g):null)}}(it,this.ngContentSelectors,a),Ye=function TI(s,o,a,d,h,g){const b=br(),I=h[1],T=Wn(b,h);uI(I,h,b,a,null,d);for(let k=0;k<a.length;k++)kr(ji(h,I,b.directiveStart+k,b),h);J0(I,h,b),T&&kr(T,h);const A=ji(h,I,b.directiveStart+b.componentOffset,b);if(s[8]=h[8]=A,null!==g)for(const k of g)k(A,o);return Go(I,b,s),A}(Sn,dt,Ft,Ve,Ae,[gx]),Gv(oe,Ae,null)}finally{Hp()}return new ux(this.componentType,Ye,Va(it,Ae),Ae,it)}}class ux extends PC{constructor(o,a,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new II(h),this.componentType=o}setInput(o,a){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;Xv(g[1],g,h,o,a),cI(g,this._tNode.index)}}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function gx(){const s=br();va(De()[1],s)}let Jv=null;function Zd(){if(!Jv){const s=jt.Symbol;if(s&&s.iterator)Jv=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const d=o[a];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Jv=d)}}}return Jv}function ey(s){return!!En(s)&&(Array.isArray(s)||!(s instanceof Map)&&Zd()in s)}function En(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Cs(s,o,a){return s[o]=a}function Mi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Gi(s,o,a,d){const h=De();return Mi(h,to(),o)&&(cn(),qo(xn(),h,s,o,a,d)),Gi}function Su(s,o,a,d){return Mi(s,to(),a)?o+Fe(a)+d:Xt}function _b(s,o,a,d,h,g,b,I){const T=De(),A=cn(),k=s+22,B=A.firstCreatePass?function RI(s,o,a,d,h,g,b,I,T){const A=o.consts,k=Jl(o,s,4,b||null,ps(A,I));X0(o,a,k,ps(A,T)),va(o,k);const B=k.tViews=qv(2,k,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,k),B.queries=o.queries.embeddedTView(k)),k}(k,A,T,o,a,d,h,g,b):A.data[k];ai(B,!1);const Q=T[11].createComment("");pu(A,T,Q,B),kr(Q,T),bg(T,T[k]=tb(Q,T,Q,B)),Ac(B)&&Cu(A,T,B),null!=b&&_g(T,B,I)}function bb(s){return eo(function id(){return Vt.lFrame.contextLView}(),22+s)}function ty(s,o,a){const d=De();return Mi(d,to(),o)&&Us(cn(),xn(),d,s,o,d[11],a,!1),ty}function ny(s,o,a,d,h){const b=h?"class":"style";Xv(s,a,o.inputs[b],b,d)}function Ig(s,o,a,d){const h=De(),g=cn(),b=22+s,I=h[11],T=h[b]=du(I,o,function Zp(){return Vt.lFrame.currentNamespace}()),A=g.firstCreatePass?function NI(s,o,a,d,h,g,b){const I=o.consts,A=Jl(o,s,2,h,ps(I,g));return X0(o,a,A,ps(I,b)),null!==A.attrs&&Eg(A,A.attrs,!1),null!==A.mergedAttrs&&Eg(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(b,g,h,0,o,a,d):g.data[b];return ai(A,!0),zl(I,T,A),32!=(32&A.flags)&&pu(g,h,T,A),0===function ll(){return Vt.lFrame.elementDepthCount}()&&kr(T,h),function Nc(){Vt.lFrame.elementDepthCount++}(),Ac(A)&&(Cu(g,h,A),Go(g,A,h)),null!==d&&_g(h,A),Ig}function Tg(){let s=br();dl()?hl():(s=s.parent,ai(s,!1));const o=s;!function Lc(){Vt.lFrame.elementDepthCount--}();const a=cn();return a.firstCreatePass&&(va(a,s),ca(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function ya(s){return 0!=(8&s.flags)}(o)&&ny(a,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ml(s){return 0!=(16&s.flags)}(o)&&ny(a,o,De(),o.stylesWithoutHost,!1),Tg}function ry(s,o,a,d){return Ig(s,o,a,d),Tg(),ry}function Sg(s,o,a){const d=De(),h=cn(),g=s+22,b=h.firstCreatePass?function LI(s,o,a,d,h){const g=o.consts,b=ps(g,d),I=Jl(o,s,8,"ng-container",b);return null!==b&&Eg(I,b,!0),X0(o,a,I,ps(g,h)),null!==o.queries&&o.queries.elementStart(o,I),I}(g,h,d,o,a):h.data[g];ai(b,!0);const I=d[g]=d[11].createComment("");return pu(h,d,I,b),kr(I,d),Ac(b)&&(Cu(h,d,b),Go(h,b,d)),null!=a&&_g(d,b),Sg}function Nf(){let s=br();const o=cn();return dl()?hl():(s=s.parent,ai(s,!1)),o.firstCreatePass&&(va(o,s),ca(s)&&o.queries.elementEnd(s)),Nf}function iy(s){return!!s&&"function"==typeof s.then}function wb(s){return!!s&&"function"==typeof s.subscribe}const Cb=wb;function sy(s,o,a,d){const h=De(),g=cn(),b=br();return function Tb(s,o,a,d,h,g,b){const I=Ac(d),A=s.firstCreatePass&&rb(s),k=o[8],B=CI(o);let Q=!0;if(3&d.type||b){const Ye=Wn(d,o),it=b?b(Ye):Ye,dt=B.length,Ft=b?Gt=>b(jn(Gt[d.index])):d.index;let Ve=null;if(!b&&I&&(Ve=function $I(s,o,a,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const b=h[g];if(b===a&&h[g+1]===d){const I=o[7],T=h[g+2];return I.length>T?I[T]:null}"string"==typeof b&&(g+=2)}return null}(s,o,h,d.index)),null!==Ve)(Ve.__ngLastListenerFn__||Ve).__ngNextListenerFn__=g,Ve.__ngLastListenerFn__=g,Q=!1;else{g=Db(d,o,k,g,!1);const Gt=a.listen(it,h,g);B.push(g,Gt),A&&A.push(h,Ft,dt,dt+1)}}else g=Db(d,o,k,g,!1);const oe=d.outputs;let Ae;if(Q&&null!==oe&&(Ae=oe[h])){const Ye=Ae.length;if(Ye)for(let it=0;it<Ye;it+=2){const Sn=o[Ae[it]][Ae[it+1]].subscribe(g),lr=B.length;B.push(g,Sn),A&&A.push(h,d.index,lr,-(lr+1))}}}(g,h,h[11],b,s,o,d),sy}function Sb(s,o,a,d){try{return!1!==a(d)}catch(h){return sb(s,h),!1}}function Db(s,o,a,d,h){return function g(b){if(b===Function)return d;Yv(s.componentOffset>-1?hr(s.index,o):o);let T=Sb(o,0,d,b),A=g.__ngNextListenerFn__;for(;A;)T=Sb(o,0,A,b)&&T,A=A.__ngNextListenerFn__;return h&&!1===T&&(b.preventDefault(),b.returnValue=!1),T}}function xb(s=1){return function rv(s){return(Vt.lFrame.contextLView=function cd(s,o){for(;s>0;)o=o[15],s--;return o}(s,Vt.lFrame.contextLView))[8]}(s)}function UI(s,o){let a=null;const d=function gg(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?Fv(s,g,!0):R0(d,g))return h}else a=h}return a}function Ab(s){const o=De()[16][6];if(!o.projection){const d=o.projection=Uo(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const b=s?UI(g,s):0;null!==b&&(h[b]?h[b].projectionNext=g:d[b]=g,h[b]=g),g=g.next}}}function Mb(s,o=0,a){const d=De(),h=cn(),g=Jl(h,22+s,16,null,a||null);null===g.projection&&(g.projection=o),hl(),32!=(32&g.flags)&&function Pd(s,o,a){mu(o[11],0,o,a,Dd(s,a,o),hf(a.parent||o[6],a,o))}(h,d,g)}function oy(s,o,a){return Dg(s,"",o,"",a),oy}function Dg(s,o,a,d,h){const g=De(),b=Su(g,o,a,d);return b!==Xt&&Us(cn(),xn(),g,s,b,g[11],h,!1),Dg}function Lf(s,o){return s<<17|o<<2}function ic(s){return s>>17&32767}function ly(s){return 2|s}function xu(s){return(131068&s)>>2}function xg(s,o){return-131069&s|o<<2}function cy(s){return 1|s}function Ub(s,o,a,d,h){const g=s[a+1],b=null===o;let I=d?ic(g):xu(g),T=!1;for(;0!==I&&(!1===T||b);){const k=s[I+1];ZI(s[I],o)&&(T=!0,s[I+1]=d?cy(k):ly(k)),I=d?ic(k):xu(k)}T&&(s[a+1]=d?ly(g):cy(g))}function ZI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Rr(s,o)>=0}const Nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Vb(s){return s.substring(Nr.key,Nr.keyEnd)}function zI(s){return s.substring(Nr.value,Nr.valueEnd)}function uy(s,o){const a=Nr.textEnd;return a===o?-1:(o=Nr.keyEnd=function Wd(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Nr.key=o,a),mi(s,o,a))}function Ag(s,o){const a=Nr.textEnd;let d=Nr.key=mi(s,o,a);return a===d?-1:(d=Nr.keyEnd=function xx(s,o,a){let d;for(;o<a&&(45===(d=s.charCodeAt(o))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)o++;return o}(s,d,a),d=WI(s,d,a),d=Nr.value=mi(s,d,a),d=Nr.valueEnd=function Ax(s,o,a){let d=-1,h=-1,g=-1,b=o,I=b;for(;b<a;){const T=s.charCodeAt(b++);if(59===T)return I;34===T||39===T?I=b=Bb(s,T,b,a):o===b-4&&85===g&&82===h&&76===d&&40===T?I=b=Bb(s,41,b,a):T>32&&(I=b),g=h,h=d,d=-33&T}return I}(s,d,a),WI(s,d,a))}function Mg(s){Nr.key=0,Nr.keyEnd=0,Nr.value=0,Nr.valueEnd=0,Nr.textEnd=s.length}function mi(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function WI(s,o,a,d){return(o=mi(s,o,a))<a&&o++,o}function Bb(s,o,a,d){let h=-1,g=a;for(;g<d;){const b=s.charCodeAt(g++);if(b==o&&92!==h)return g;h=92==b&&92===h?0:b}throw new Error}function Wo(s){Yo(zb,Px,s,!1)}function Px(s,o){for(let a=function qI(s){return Mg(s),Ag(s,mi(s,0,Nr.textEnd))}(o);a>=0;a=Ag(o,a))zb(s,Vb(o),zI(o))}function QI(s){Yo(Kr,Ha,s,!0)}function Ha(s,o){for(let a=function GI(s){return Mg(s),uy(s,mi(s,0,Nr.textEnd))}(o);a>=0;a=uy(o,a))Kr(s,Vb(o),!0)}function Yo(s,o,a,d){const h=cn(),g=function ns(s){const o=Vt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);h.firstUpdatePass&&function jb(s,o,a,d){const h=s.data;if(null===h[a+1]){const g=h[qr()],b=XI(s,a);qb(g,d)&&null===o&&!b&&(o=!1),o=function Ox(s,o,a,d){const h=function gs(s){const o=Vt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(a=Ff(a=Zb(null,s,o,a,d),o.attrs,d),g=null);else{const b=o.directiveStylingLast;if(-1===b||s[b]!==h)if(a=Zb(h,s,o,a,d),null===g){let T=function Rx(s,o,a){const d=a?o.classBindings:o.styleBindings;if(0!==xu(d))return s[ic(d)]}(s,o,d);void 0!==T&&Array.isArray(T)&&(T=Zb(null,s,o,T[1],d),T=Ff(T,o.attrs,d),function kx(s,o,a,d){s[ic(a?o.classBindings:o.styleBindings)]=d}(s,o,d,T))}else g=function Hb(s,o,a){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Ff(d,s[g].hostAttrs,a);return Ff(d,o.attrs,a)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),a}(h,g,o,d),function jI(s,o,a,d,h,g){let b=g?o.classBindings:o.styleBindings,I=ic(b),T=xu(b);s[d]=a;let k,A=!1;if(Array.isArray(a)?(k=a[1],(null===k||Rr(a,k)>0)&&(A=!0)):k=a,h)if(0!==T){const Q=ic(s[I+1]);s[d+1]=Lf(Q,I),0!==Q&&(s[Q+1]=xg(s[Q+1],d)),s[I+1]=function VI(s,o){return 131071&s|o<<17}(s[I+1],d)}else s[d+1]=Lf(I,0),0!==I&&(s[I+1]=xg(s[I+1],d)),I=d;else s[d+1]=Lf(T,0),0===I?I=d:s[T+1]=xg(s[T+1],d),T=d;A&&(s[d+1]=ly(s[d+1])),Ub(s,k,d,!0),Ub(s,k,d,!1),function HI(s,o,a,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Rr(g,o)>=0&&(a[d+1]=cy(a[d+1]))}(o,k,s,d,g),b=Lf(I,T),g?o.classBindings=b:o.styleBindings=b}(h,g,o,a,b,d)}}(h,null,g,d);const b=De();if(a!==Xt&&Mi(b,g,a)){const I=h.data[qr()];if(qb(I,d)&&!XI(h,g)){let T=d?I.classesWithoutHost:I.stylesWithoutHost;null!==T&&(a=be(T,a||"")),ny(h,I,b,a,d)}else!function Nx(s,o,a,d,h,g,b,I){h===Xt&&(h=Ot);let T=0,A=0,k=0<h.length?h[0]:null,B=0<g.length?g[0]:null;for(;null!==k||null!==B;){const Q=T<h.length?h[T+1]:void 0,oe=A<g.length?g[A+1]:void 0;let Ye,Ae=null;k===B?(T+=2,A+=2,Q!==oe&&(Ae=B,Ye=oe)):null===B||null!==k&&k<B?(T+=2,Ae=k):(A+=2,Ae=B,Ye=oe),null!==Ae&&eT(s,o,a,d,Ae,Ye,b,I),k=T<h.length?h[T]:null,B=A<g.length?g[A]:null}}(h,I,b,b[11],b[g+1],b[g+1]=function JI(s,o,a){if(null==a||""===a)return Ot;const d=[],h=w(a);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,a),d,g)}}function XI(s,o){return o>=s.expandoStartIndex}function Zb(s,o,a,d,h){let g=null;const b=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<b&&(g=o[I],d=Ff(d,g.hostAttrs,h),g!==s);)I++;return null!==s&&(a.directiveStylingLast=I),d}function Ff(s,o,a){const d=a?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const b=o[g];"number"==typeof b?h=b:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Kr(s,b,!!a||o[++g]))}return void 0===s?null:s}function zb(s,o,a){Kr(s,o,w(a))}function eT(s,o,a,d,h,g,b,I){if(!(3&o.type))return;const T=s.data,A=T[I+1],k=function BI(s){return 1==(1&s)}(A)?Gb(T,o,a,h,xu(A),b):void 0;Pg(k)||(Pg(g)||function $b(s){return 2==(2&s)}(A)&&(g=Gb(T,null,a,h,I,b)),function bs(s,o,a,d,h){if(o)h?s.addClass(a,d):s.removeClass(a,d);else{let g=-1===d.indexOf("-")?void 0:$t.DashCase;null==h?s.removeStyle(a,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=$t.Important),s.setStyle(a,d,h,g))}}(d,b,Js(qr(),a),h,g))}function Gb(s,o,a,d,h,g){const b=null===o;let I;for(;h>0;){const T=s[h],A=Array.isArray(T),k=A?T[1]:T,B=null===k;let Q=a[h+1];Q===Xt&&(Q=B?Ot:void 0);let oe=B?yn(Q,d):k===d?Q:void 0;if(A&&!Pg(oe)&&(oe=yn(T,d)),Pg(oe)&&(I=oe,b))return I;const Ae=s[h+1];h=b?ic(Ae):xu(Ae)}if(null!==o){let T=g?o.residualClasses:o.residualStyles;null!=T&&(I=yn(T,d))}return I}function Pg(s){return void 0!==s}function qb(s,o){return 0!=(s.flags&(o?8:16))}function Wb(s,o=""){const a=De(),d=cn(),h=s+22,g=d.firstCreatePass?Jl(d,h,1,o,null):d.data[h],b=a[h]=function $l(s,o){return s.createText(o)}(a[11],o);pu(d,a,b,g),ai(g,!1)}function dy(s){return Og("",s,""),dy}function Og(s,o,a){const d=De(),h=Su(d,s,o,a);return h!==Xt&&function ec(s,o,a){const d=Js(o,s);!function lf(s,o,a){s.setValue(o,a)}(s[11],d,a)}(d,qr(),h),Og}const Za=void 0;var gT=["en",[["a","p"],["AM","PM"],Za],[["AM","PM"],Za,Za],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Za,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Za,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Za,"{1} 'at' {0}",Za],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pT(s){const a=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let Pi={};function gy(s){const o=function mT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=$f(o);if(a)return a;const d=o.split("-")[0];if(a=$f(d),a)return a;if("en"===d)return gT;throw new we(701,!1)}function oc(s){return gy(s)[nt.PluralCase]}function $f(s){return s in Pi||(Pi[s]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[s]),Pi[s]}var nt=(()=>((nt=nt||{})[nt.LocaleId=0]="LocaleId",nt[nt.DayPeriodsFormat=1]="DayPeriodsFormat",nt[nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",nt[nt.DaysFormat=3]="DaysFormat",nt[nt.DaysStandalone=4]="DaysStandalone",nt[nt.MonthsFormat=5]="MonthsFormat",nt[nt.MonthsStandalone=6]="MonthsStandalone",nt[nt.Eras=7]="Eras",nt[nt.FirstDayOfWeek=8]="FirstDayOfWeek",nt[nt.WeekendRange=9]="WeekendRange",nt[nt.DateFormat=10]="DateFormat",nt[nt.TimeFormat=11]="TimeFormat",nt[nt.DateTimeFormat=12]="DateTimeFormat",nt[nt.NumberSymbols=13]="NumberSymbols",nt[nt.NumberFormats=14]="NumberFormats",nt[nt.CurrencyCode=15]="CurrencyCode",nt[nt.CurrencySymbol=16]="CurrencySymbol",nt[nt.CurrencyName=17]="CurrencyName",nt[nt.Currencies=18]="Currencies",nt[nt.Directionality=19]="Directionality",nt[nt.PluralCase=20]="PluralCase",nt[nt.ExtraData=21]="ExtraData",nt))();const ac="en-US";let Fg=ac;class Bs{}class Ny{}function Kg(s,o){return new th(s,o??null)}class th extends Bs{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ob(this);const d=Mr(o);this._bootstrapComponents=zo(d.bootstrap),this._r3Injector=V0(o,a,[{provide:Bs,useValue:this},{provide:Vd,useValue:this.componentFactoryResolver}],Ee(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Yg extends Ny{constructor(o){super(),this.moduleType=o}create(o){return new th(this.moduleType,o)}}class qi extends Bs{constructor(o,a,d){super(),this.componentFactoryResolver=new ob(this),this.instance=null;const h=new v0([...o,{provide:Bs,useValue:this},{provide:Vd,useValue:this.componentFactoryResolver}],a||hg(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Qg(s,o,a=null){return new qi(s,o,a).injector}let qf=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const d=Fd(0,a.type),h=d.length>0?Qg([d],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Mt({token:s,providedIn:"environment",factory:()=>new s(Je(wu))}),s})();function Wf(s){s.getStandaloneInjector=o=>o.get(qf).getOrCreateStandaloneInjector(s)}function jy(s,o,a){const d=rr()+s,h=De();return h[d]===Xt?Cs(h,d,a?o.call(a):o()):function Ba(s,o){return s[o]}(h,d)}function OE(s,o,a,d){return Zy(De(),rr(),s,o,a,d)}function Zy(s,o,a,d,h,g){const b=o+a;return Mi(s,b,h)?Cs(s,b+1,g?d.call(g,h):d(h)):function ih(s,o){const a=s[o];return a===Xt?void 0:a}(s,b+1)}function Xf(s,o){const a=cn();let d;const h=s+22;a.firstCreatePass?(d=function NE(s,o){if(o)for(let a=o.length-1;a>=0;a--){const d=o[a];if(s===d.name)return d}}(o,a.pipeRegistry),a.data[h]=d,d.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,d.onDestroy)):d=a.data[h];const g=d.factory||(d.factory=Ys(d.type)),b=On(Hd);try{const I=io(!1),T=g();return io(I),function kI(s,o,a,d){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=d}(a,De(),h,T),T}finally{On(b)}}function Jf(s,o,a){const d=s+22,h=De(),g=eo(h,d);return function np(s,o){return s[1].data[o].pure}(h,d)?Zy(h,rr(),o,g.transform,a,g):g.transform(a)}function zy(s){return o=>{setTimeout(s,void 0,o)}}const Jo=class UT extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,d){let h=o,g=a||(()=>null),b=d;if(o&&"object"==typeof o){const T=o;h=T.next?.bind(T),g=T.error?.bind(T),b=T.complete?.bind(T)}this.__isAsync&&(g=zy(g),h&&(h=zy(h)),b&&(b=zy(b)));const I=super.subscribe({next:h,error:g,complete:b});return o instanceof ie.w0&&o.add(I),I}};function rp(){return this._results[Zd()]()}class ea{get changes(){return this._changes||(this._changes=new Jo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Zd(),d=ea.prototype;d[a]||(d[a]=rp)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const d=this;d.dirty=!1;const h=function ci(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function ru(s,o,a){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(d._results,h,a))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let sh=(()=>{class s{}return s.__NG_ELEMENT_ID__=oh,s})();const FE=sh,$E=class extends FE{constructor(o,a,d){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=d}createEmbeddedView(o,a){const d=this._declarationTContainer.tViews,h=Rf(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(h[19]=b.createEmbeddedView(d)),Gv(d,h,o),new kf(h)}};function oh(){return rm(br(),De())}function rm(s,o){return 4&s.type?new $E(o,s,Va(s,o)):null}let im=(()=>{class s{}return s.__NG_ELEMENT_ID__=UE,s})();function UE(){return sm(br(),De())}const VT=im,Gy=class extends VT{constructor(o,a,d){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=d}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){const o=wa(this._hostTNode,this._hostLView);if(qc(o)){const a=_l(o,this._hostLView),d=vl(o);return new Zi(a[1].data[d+8],a)}return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=qy(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const b=o.createEmbeddedView(a||{},g);return this.insert(b,h),b}createComponent(o,a,d,h,g){const b=o&&!function xl(s){return"function"==typeof s}(o);let I;if(b)I=a;else{const B=a||{};I=B.index,d=B.injector,h=B.projectableNodes,g=B.environmentInjector||B.ngModuleRef}const T=b?o:new Cg(ln(o)),A=d||this.parentInjector;if(!g&&null==T.ngModule){const Q=(b?A:this.parentInjector).get(wu,null);Q&&(g=Q)}const k=T.create(A,h,void 0,g);return this.insert(k.hostView,I),k}insert(o,a){const d=o._lView,h=d[1];if(function ol(s){return Vi(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const B=d[3],Q=new Gy(B,B[6],B[3]);Q.detach(Q.indexOf(o))}}const g=this._adjustIndex(a),b=this._lContainer;!function uv(s,o,a,d){const h=10+d,g=a.length;d>0&&(a[h-1][4]=o),d<g-10?(o[4]=a[h],Al(a,10+d,o)):(a.push(o),o[4]=null),o[3]=a;const b=o[17];null!==b&&a!==b&&function dv(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(b,o);const I=o[19];null!==I&&I.insertView(s),o[2]|=64}(h,d,b,g);const I=gr(g,b),T=d[11],A=ho(T,b[7]);return null!==A&&function cv(s,o,a,d,h,g){d[0]=h,d[6]=o,gu(s,d,a,1,h,g)}(h,b[6],T,d,A,I),o.attachToViewContainerRef(),Al(ip(b),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=qy(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),d=df(this._lContainer,a);d&&(Ta(ip(this._lContainer),a),Sd(d[1],d))}detach(o){const a=this._adjustIndex(o,-1),d=df(this._lContainer,a);return d&&null!=Ta(ip(this._lContainer),a)?new kf(d):null}_adjustIndex(o,a=0){return o??this.length+a}};function qy(s){return s[8]}function ip(s){return s[8]||(s[8]=[])}function sm(s,o){let a;const d=o[s.index];if(Vi(d))a=d;else{let h;if(8&s.type)h=jn(d);else{const g=o[11];h=g.createComment("");const b=Wn(s,o);Na(g,ho(g,b),h,function ng(s,o){return s.nextSibling(o)}(g,b),!1)}o[s.index]=a=tb(d,o,h,s),bg(o,a)}return new Gy(a,s,o)}class om{constructor(o){this.queryList=o,this.matches=null}clone(){return new om(this.queryList)}setDirty(){this.queryList.setDirty()}}class am{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const d=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let g=0;g<d;g++){const b=a.getByIndex(g);h.push(this.queries[b.indexInDeclarationView].clone())}return new am(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Yy(o,a).matches&&this.queries[a].setDirty()}}class lm{constructor(o,a,d=null){this.predicate=o,this.flags=a,this.read=d}}class Wy{constructor(o=[]){this.queries=o}elementStart(o,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let d=0;d<this.length;d++){const h=null!==a?a.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==a?a.push(g):a=[g])}return null!==a?new Wy(a):null}template(o,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ky{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Ky(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,a,BT(a,g)),this.matchTNodeWithReadOption(o,a,wl(a,o,g,!1,!1))}else d===sh?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,wl(a,o,d,!1,!1))}matchTNodeWithReadOption(o,a,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Bd||h===im||h===sh&&4&a.type)this.addMatch(a.index,-2);else{const g=wl(a,o,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,d)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function BT(s,o){const a=s.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===o)return a[d+1];return null}function sp(s,o,a,d){return-1===a?function cm(s,o){return 11&s.type?Va(s,o):4&s.type?rm(s,o):null}(o,s):-2===a?function um(s,o,a){return a===Bd?Va(o,s):a===sh?rm(o,s):a===im?sm(o,s):void 0}(s,o,d):ji(s,s[1],a,o)}function dm(s,o,a,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,b=a.matches,I=[];for(let T=0;T<b.length;T+=2){const A=b[T];I.push(A<0?null:sp(o,g[A],b[T+1],a.metadata.read))}h.matches=I}return h.matches}function hm(s,o,a,d){const h=s.queries.getByIndex(a),g=h.matches;if(null!==g){const b=dm(s,o,h,a);for(let I=0;I<g.length;I+=2){const T=g[I];if(T>0)d.push(b[I/2]);else{const A=g[I+1],k=o[-T];for(let B=10;B<k.length;B++){const Q=k[B];Q[17]===Q[3]&&hm(Q[1],Q,A,d)}if(null!==k[9]){const B=k[9];for(let Q=0;Q<B.length;Q++){const oe=B[Q];hm(oe[1],oe,A,d)}}}}}return d}function ah(s){const o=De(),a=cn(),d=ad();Bc(d+1);const h=Yy(a,d);if(s.dirty&&function ha(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?hm(a,o,d,[]):dm(a,o,h,d);s.reset(g,If),s.notifyOnChanges()}return!0}return!1}function lh(s,o,a){const d=cn();d.firstCreatePass&&(HE(d,new lm(s,o,a),-1),2==(2&o)&&(d.staticViewQueries=!0)),jE(d,De(),o)}function VE(s,o,a,d){const h=cn();if(h.firstCreatePass){const g=br();HE(h,new lm(o,a,d),g.index),function jT(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}jE(h,De(),a)}function Qn(){return function BE(s,o){return s[19].queries[o].queryList}(De(),ad())}function jE(s,o,a){const d=new ea(4==(4&a));K0(s,o,d,d.destroy),null===o[19]&&(o[19]=new am),o[19].queries.push(new om(d))}function HE(s,o,a){null===s.queries&&(s.queries=new Wy),s.queries.track(new Ky(o,a))}function Yy(s,o){return s.queries.getByIndex(o)}function Qy(s,o){return rm(s,o)}function lp(...s){}const tw=new on("Application Initializer");let Em=(()=>{class s{constructor(a){this.appInits=a,this.resolve=lp,this.reject=lp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(iy(g))a.push(g);else if(Cb(g)){const b=new Promise((I,T)=>{g.subscribe({complete:I,error:T})});a.push(b)}}Promise.all(a).then(()=>{d()}).catch(h=>{this.reject(h)}),0===a.length&&d(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Je(tw,8))},s.\u0275prov=Mt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const nw=new on("AppId",{providedIn:"root",factory:function rw(){return`${s_()}${s_()}${s_()}`}});function s_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const XT=new on("Platform Initializer"),JT=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),o_=new on("appBootstrapListener");let iw=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Mt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const St=new on("LocaleId",{providedIn:"root",factory:()=>ht(St,xt.Optional|xt.SkipSelf)||function zn(){return typeof $localize<"u"&&$localize.locale||ac}()}),up=new on("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ot{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let wm=(()=>{class s{compileModuleSync(a){return new Yg(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),g=zo(Mr(a).declarations).reduce((b,I)=>{const T=ln(I);return T&&b.push(new Cg(T)),b},[]);return new ot(d,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Mt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ow=(()=>Promise.resolve(0))();function Wi(s){typeof Zone>"u"?ow.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ts{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jo(!1),this.onMicrotaskEmpty=new Jo(!1),this.onStable=new Jo(!1),this.onError=new Jo(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&a,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function l_(){let s=jt.requestAnimationFrame,o=jt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Im(s){const o=()=>{!function ge(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(jt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ss(s),s.isCheckStableRunning=!0,hp(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ss(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,h,g,b,I)=>{try{return aw(s),a.invokeTask(h,g,b,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),gh(s)}},onInvoke:(a,d,h,g,b,I,T)=>{try{return aw(s),a.invoke(h,g,b,I,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),gh(s)}},onHasTask:(a,d,h,g)=>{a.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Ss(s),hp(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,d,h,g)=>(a.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ts.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Ts.isInAngularZone())throw new we(909,!1)}run(o,a,d){return this._inner.run(o,a,d)}runTask(o,a,d,h){const g=this._inner,b=g.scheduleEventTask("NgZoneEvent: "+h,o,fc,lp,lp);try{return g.runTask(b,a,d)}finally{g.cancelTask(b)}}runGuarded(o,a,d){return this._inner.runGuarded(o,a,d)}runOutsideAngular(o){return this._outer.run(o)}}const fc={};function hp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ss(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function aw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function gh(s){s._nesting--,hp(s)}class pc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jo,this.onMicrotaskEmpty=new Jo,this.onStable=new Jo,this.onError=new Jo}run(o,a,d){return o.apply(a,d)}runGuarded(o,a,d){return o.apply(a,d)}runOutsideAngular(o){return o()}runTask(o,a,d,h){return o.apply(a,d)}}const lw=new on(""),gc=new on("");let c_,cw=(()=>{class s{constructor(a,d,h){this._ngZone=a,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,c_||(function nS(s){c_=s}(h),h.addToWindow(d)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ts.assertNotInAngularZone(),Wi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wi(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==g),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,d,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Je(Ts),Je(Tm),Je(gc))},s.\u0275prov=Mt({token:s,factory:s.\u0275fac}),s})(),Tm=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){return c_?.findTestabilityInTree(this,a,d)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Mt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Ir=null;const uw=new on("AllowMultipleToken"),ta=new on("PlatformDestroyListeners");class pp{constructor(o,a){this.name=o,this.token=a}}function Ka(s,o,a=[]){const d=`Platform: ${o}`,h=new on(d);return(g=[])=>{let b=Sm();if(!b||b.injector.get(uw,!1)){const I=[...a,...g,{provide:h,useValue:!0}];s?s(I):function dw(s){if(Ir&&!Ir.get(uw,!1))throw new we(400,!1);Ir=s;const o=s.get(mh);(function Tr(s){const o=s.get(XT,null);o&&o.forEach(a=>a())})(s)}(function mc(s=[],o){return Ql.create({name:o,providers:[{provide:Yl,useValue:"platform"},{provide:ta,useValue:new Set([()=>Ir=null])},...s]})}(I,d))}return function ar(s){const o=Sm();if(!o)throw new we(401,!1);return o}()}}function Sm(){return Ir?.get(mh)??null}let mh=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const h=function gp(s,o){let a;return a="noop"===s?new pc:("zone.js"===s?void 0:s)||new Ts(o),a}(d?.ngZone,function Ya(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Ts,useValue:h}];return h.run(()=>{const b=Ql.create({providers:g,parent:this.injector,name:a.moduleType.name}),I=a.create(b),T=I.injector.get(Tf,null);if(!T)throw new we(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:k=>{T.handleError(k)}});I.onDestroy(()=>{mo(this._modules,I),A.unsubscribe()})}),function vc(s,o,a){try{const d=a();return iy(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(T,h,()=>{const A=I.injector.get(Em);return A.runInitializers(),A.donePromise.then(()=>(function cE(s){Qt(s,"Expected localeId to be defined"),"string"==typeof s&&(Fg=s.toLowerCase().replace(/_/g,"-"))}(I.injector.get(St,ac)||ac),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,d=[]){const h=go({},d);return function Uu(s,o,a){const d=new Yg(a);return Promise.resolve(d)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const d=a.injector.get(yc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new we(-403,!1);a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const a=this._injector.get(ta,null);a&&(a.forEach(d=>d()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Je(Ql))},s.\u0275prov=Mt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function go(s,o){return Array.isArray(o)?o.reduce(go,s):{...s,...o}}let yc=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,d,h){this._zone=a,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new U.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),b=new U.y(I=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Ts.assertNotInAngularZone(),Wi(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Ts.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{T.unsubscribe(),A.unsubscribe()}});this.isStable=(0,he.T)(g,b.pipe((0,fe.B)()))}bootstrap(a,d){const h=a instanceof _0;if(!this._injector.get(Em).done)throw!h&&Gn(a),new we(405,false);let b;b=h?a:this._injector.get(Vd).resolveComponentFactory(a),this.componentTypes.push(b.componentType);const I=function fp(s){return s.isBoundToModule}(b)?void 0:this._injector.get(Bs),A=b.create(Ql.NULL,[],d||b.selector,I),k=A.location.nativeElement,B=A.injector.get(lw,null);return B?.registerApplication(k),A.onDestroy(()=>{this.detachView(A.hostView),mo(this.components,A),B?.unregisterApplication(k)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;mo(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const d=this._injector.get(o_,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>mo(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new we(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Je(Ts),Je(wu),Je(Tf))},s.\u0275prov=Mt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function mo(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function d_(){return!1}let pw=(()=>{class s{}return s.__NG_ELEMENT_ID__=xm,s})();function xm(s){return function mp(s,o,a){if(Bi(s)&&!a){const d=hr(s.index,o);return new kf(d,d)}return 47&s.type?new kf(o[16],o):null}(br(),De(),16==(16&s))}class f_{constructor(){}supports(o){return ey(o)}create(o){return new yw(o)}}const cS=(s,o)=>o;class yw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||cS}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,d=this._removalsHead,h=0,g=null;for(;a||d;){const b=!d||a&&a.currentIndex<_w(d,h,g)?a:d,I=_w(b,h,g),T=b.currentIndex;if(b===d)h--,d=d._nextRemoved;else if(a=a._next,null==b.previousIndex)h++;else{g||(g=[]);const A=I-h,k=T-h;if(A!=k){for(let Q=0;Q<A;Q++){const oe=Q<g.length?g[Q]:g[Q]=0,Ae=oe+Q;k<=Ae&&Ae<A&&(g[Q]=oe+1)}g[b.previousIndex]=k-A}}I!==T&&o(b,I,T)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!ey(o))throw new we(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,b,a=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)g=o[I],b=this._trackByFn(I,g),null!==a&&Object.is(a.trackById,b)?(d&&(a=this._verifyReinsertion(a,g,b,I)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,b,I),d=!0),a=a._next}else h=0,function cb(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Zd()]();let d;for(;!(d=a.next()).done;)o(d.value)}}(o,I=>{b=this._trackByFn(h,I),null!==a&&Object.is(a.trackById,b)?(d&&(a=this._verifyReinsertion(a,I,b,h)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,b,h),d=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,h)):o=this._addAfter(new uS(a,d),g,h),o}_verifyReinsertion(o,a,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,a,d),this._addToMoves(o,d),o}_moveAfter(o,a,d){return this._unlink(o),this._insertAfter(o,a,d),this._addToMoves(o,d),o}_addAfter(o,a,d){return this._insertAfter(o,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,d){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Bu),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,d=o._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bu),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class uS{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const a=o._prevDup,d=o._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class Bu{constructor(){this.map=new Map}put(o){const a=o.trackById;let d=this.map.get(a);d||(d=new dS,this.map.set(a,d)),d.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _w(s,o,a){const d=s.previousIndex;if(null===d)return d;let h=0;return a&&d<a.length&&(h=a[d]),d+o+h}class Xn{constructor(){}supports(o){return o instanceof Map||En(o)}create(){return new Mm}}class Mm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||En(o)))throw new we(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,d);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const d=o._prev;return a._next=o,a._prev=d,o._prev=a,d&&(d._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const g=h._prev,b=h._next;return g&&(g._next=b),b&&(b._prev=g),h._next=null,h._prev=null,h}const d=new _i(o);return this._records.set(o,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(d=>a(o[d],d))}}class _i{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Tn(){return new Pm([new f_])}let Pm=(()=>{class s{constructor(a){this.factories=a}static create(a,d){if(null!=d){const h=d.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:d=>s.create(a,d||Tn()),deps:[[s,new D,new Pl]]}}find(a){const d=this.factories.find(h=>h.supports(a));if(null!=d)return d;throw new we(901,!1)}}return s.\u0275prov=Mt({token:s,providedIn:"root",factory:Tn}),s})();function Ki(){return new Fr([new Xn])}let Fr=(()=>{class s{constructor(a){this.factories=a}static create(a,d){if(d){const h=d.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:d=>s.create(a,d||Ki()),deps:[[s,new D,new Pl]]}}find(a){const d=this.factories.find(h=>h.supports(a));if(d)return d;throw new we(901,!1)}}return s.\u0275prov=Mt({token:s,providedIn:"root",factory:Ki}),s})();const ju=Ka(null,"core",[]);let Cp=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Je(yc))},s.\u0275mod=Nn({type:s}),s.\u0275inj=bi({}),s})();function Om(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(wt,Le,V)=>{V.d(Le,{Z:()=>rt});var l=V(2090),ie=V(4859),U=V(9681),he=V(1877);class fe{constructor(we,Ue){this._delegate=we,this.firebase=Ue,(0,U._addComponent)(we,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(we,Ue=U._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(we);return!qe.isInitialized()&&"EXPLICIT"===(null===(Fe=qe.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:Ue})}_removeServiceInstance(we,Ue=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Ue)}_addComponent(we){(0,U._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,U._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function be(){const bt=function Ee(bt){const we={},Ue={__esModule:!0,initializeApp:function Be(ze,q={}){const Me=U.initializeApp(ze,q);if((0,l.r3)(we,Me.name))return we[Me.name];const J=new bt(Me,Ue);return we[Me.name]=J,J},app:qe,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function je(ze){const q=ze.name,Me=q.replace("-compat","");if(U._registerComponent(ze)&&"PUBLIC"===ze.type){const J=(re=qe())=>{if("function"!=typeof re[Me])throw Te.create("invalid-app-argument",{appName:q});return re[Me]()};void 0!==ze.serviceProps&&(0,l.ZB)(J,ze.serviceProps),Ue[Me]=J,bt.prototype[Me]=function(...re){return this._getService.bind(this,q).apply(this,ze.multipleInstances?re:[])}}return"PUBLIC"===ze.type?Ue[Me]:null},removeApp:function Fe(ze){delete we[ze]},useAsService:function We(ze,q){return"serverAuth"===q?null:q},modularAPIs:U}};function qe(ze){if(!(0,l.r3)(we,ze=ze||U._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:ze});return we[ze]}return Ue.default=Ue,Object.defineProperty(Ue,"apps",{get:function ke(){return Object.keys(we).map(ze=>we[ze])}}),qe.App=bt,Ue}(fe);return bt.INTERNAL=Object.assign(Object.assign({},bt.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function we(Ue){(0,l.ZB)(bt,Ue)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),bt}(),Y=new he.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=K;!function $e(bt){(0,U.registerVersion)("@firebase/app-compat","0.2.1",bt)}()},9681:(wt,Le,V)=>{V.r(Le),V.d(Le,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>vo,_DEFAULT_ENTRY_NAME:()=>wn,_addComponent:()=>dn,_addOrOverwriteComponent:()=>Sr,_apps:()=>Qt,_clearComponents:()=>bi,_components:()=>Dt,_getProvider:()=>Mt,_registerComponent:()=>Vr,_removeServiceInstance:()=>Pn,deleteApp:()=>Gs,getApp:()=>Li,getApps:()=>Hr,initializeApp:()=>Ps,onLog:()=>xt,registerVersion:()=>ri,setLogLevel:()=>ls});var l=V(5861),ie=V(4859),U=V(1877),he=V(2090),fe=V(8766);class pe{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(ht=>{if(function Te(Je){return"VERSION"===Je.getComponent()?.type}(ht)){const Lt=ht.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(ht=>ht).join(" ")}}const Ee="@firebase/app",K=new U.Yd("@firebase/app"),wn="[DEFAULT]",zt={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,Dt=new Map;function dn(Je,Ne){try{Je.container.addComponent(Ne)}catch(ht){K.debug(`Component ${Ne.name} failed to register with FirebaseApp ${Je.name}`,ht)}}function Sr(Je,Ne){Je.container.addOrOverwriteComponent(Ne)}function Vr(Je){const Ne=Je.name;if(Dt.has(Ne))return K.debug(`There were multiple attempts to register component ${Ne}.`),!1;Dt.set(Ne,Je);for(const ht of Qt.values())dn(ht,Je);return!0}function Mt(Je,Ne){const ht=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return ht&&ht.triggerHeartbeat(),Je.container.getProvider(Ne)}function Pn(Je,Ne,ht=wn){Mt(Je,Ne).clearInstance(ht)}function bi(){Dt.clear()}const Br=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jr{constructor(Ne,ht,Lt){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const vo="9.16.0";function Ps(Je,Ne={}){let ht=Je;"object"!=typeof Ne&&(Ne={name:Ne});const Lt=Object.assign({name:wn,automaticDataCollectionEnabled:!1},Ne),Ut=Lt.name;if("string"!=typeof Ut||!Ut)throw Br.create("bad-app-name",{appName:String(Ut)});if(ht||(ht=(0,he.aH)()),!ht)throw Br.create("no-options");const qt=Qt.get(Ut);if(qt){if((0,he.vZ)(ht,qt.options)&&(0,he.vZ)(Lt,qt.config))return qt;throw Br.create("duplicate-app",{appName:Ut})}const W=new ie.H0(Ut);for(const ee of Dt.values())W.addComponent(ee);const H=new jr(ht,Lt,W);return Qt.set(Ut,H),H}function Li(Je=wn){const Ne=Qt.get(Je);if(!Ne&&Je===wn)return Ps();if(!Ne)throw Br.create("no-app",{appName:Je});return Ne}function Hr(){return Array.from(Qt.values())}function Gs(Je){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(Je){const Ne=Je.name;Qt.has(Ne)&&(Qt.delete(Ne),yield Promise.all(Je.container.getProviders().map(ht=>ht.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function ri(Je,Ne,ht){var Lt;let Ut=null!==(Lt=zt[Je])&&void 0!==Lt?Lt:Je;ht&&(Ut+=`-${ht}`);const qt=Ut.match(/\s|\//),W=Ne.match(/\s|\//);if(qt||W){const H=[`Unable to register library "${Ut}" with version "${Ne}":`];return qt&&H.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),qt&&W&&H.push("and"),W&&H.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void K.warn(H.join(" "))}Vr(new ie.wA(`${Ut}-version`,()=>({library:Ut,version:Ne}),"VERSION"))}function xt(Je,Ne){if(null!==Je&&"function"!=typeof Je)throw Br.create("invalid-log-argument");(0,U.Am)(Je,Ne)}function ls(Je){(0,U.Ub)(Je)}const Zr="firebase-heartbeat-store";let Os=null;function jt(){return Os||(Os=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(Je,Ne)=>{0===Ne&&Je.createObjectStore(Zr)}}).catch(Je=>{throw Br.create("idb-open",{originalErrorMessage:Je.message})})),Os}function kt(){return(kt=(0,l.Z)(function*(Je){try{return(yield jt()).transaction(Zr).objectStore(Zr).get(Rn(Je))}catch(Ne){if(Ne instanceof he.ZR)K.warn(Ne.message);else{const ht=Br.create("idb-get",{originalErrorMessage:Ne?.message});K.warn(ht.message)}}})).apply(this,arguments)}function cs(Je,Ne){return $n.apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(Je,Ne){try{const Lt=(yield jt()).transaction(Zr,"readwrite");return yield Lt.objectStore(Zr).put(Ne,Rn(Je)),Lt.done}catch(ht){if(ht instanceof he.ZR)K.warn(ht.message);else{const Lt=Br.create("idb-set",{originalErrorMessage:ht?.message});K.warn(Lt.message)}}})).apply(this,arguments)}function Rn(Je){return`${Je.name}!${Je.options.appId}`}class ia{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const ht=this.container.getProvider("app").getImmediate();this._storage=new an(ht),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var Ne=this;return(0,l.Z)(function*(){const Lt=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=vn();if(null===Ne._heartbeatsCache&&(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise),Ne._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!Ne._heartbeatsCache.heartbeats.some(qt=>qt.date===Ut))return Ne._heartbeatsCache.heartbeats.push({date:Ut,agent:Lt}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter(qt=>{const W=new Date(qt.date).valueOf();return Date.now()-W<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,l.Z)(function*(){if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null===Ne._heartbeatsCache||0===Ne._heartbeatsCache.heartbeats.length)return"";const ht=vn(),{heartbeatsToSend:Lt,unsentEntries:Ut}=function us(Je,Ne=1024){const ht=[];let Lt=Je.slice();for(const Ut of Je){const qt=ht.find(W=>W.agent===Ut.agent);if(qt){if(qt.dates.push(Ut.date),xr(ht)>Ne){qt.dates.pop();break}}else if(ht.push({agent:Ut.agent,dates:[Ut.date]}),xr(ht)>Ne){ht.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:ht,unsentEntries:Lt}}(Ne._heartbeatsCache.heartbeats),qt=(0,he.L)(JSON.stringify({version:2,heartbeats:Lt}));return Ne._heartbeatsCache.lastSentHeartbeatDate=ht,Ut.length>0?(Ne._heartbeatsCache.heartbeats=Ut,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),qt})()}}function vn(){return(new Date).toISOString().substring(0,10)}class an{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,l.Z)(function*(){return(yield Ne._canUseIndexedDBPromise)&&(yield function Pt(Je){return kt.apply(this,arguments)}(Ne.app))||{heartbeats:[]}})()}overwrite(Ne){var ht=this;return(0,l.Z)(function*(){var Lt;if(yield ht._canUseIndexedDBPromise){const qt=yield ht.read();return cs(ht.app,{lastSentHeartbeatDate:null!==(Lt=Ne.lastSentHeartbeatDate)&&void 0!==Lt?Lt:qt.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var ht=this;return(0,l.Z)(function*(){var Lt;if(yield ht._canUseIndexedDBPromise){const qt=yield ht.read();return cs(ht.app,{lastSentHeartbeatDate:null!==(Lt=Ne.lastSentHeartbeatDate)&&void 0!==Lt?Lt:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...Ne.heartbeats]})}})()}}function xr(Je){return(0,he.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function Xi(Je){Vr(new ie.wA("platform-logger",Ne=>new pe(Ne),"PRIVATE")),Vr(new ie.wA("heartbeat",Ne=>new ia(Ne),"PRIVATE")),ri(Ee,"0.9.1",Je),ri(Ee,"0.9.1","esm2017"),ri("fire-js","")}("")},4859:(wt,Le,V)=>{V.d(Le,{H0:()=>Ee,wA:()=>U});var l=V(5861),ie=V(2090);class U{constructor(K,Y,te){this.name=K,this.instanceFactory=Y,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const he="[DEFAULT]";class fe{constructor(K,Y){this.name=K,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const Y=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(Y)){const te=new ie.BH;if(this.instancesDeferred.set(Y,te),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:Y});Xe&&te.resolve(Xe)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(K){var Y;const te=this.normalizeInstanceIdentifier(K?.identifier),Xe=null!==(Y=K?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch($e){if(Xe)return null;throw $e}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function Te(be){return"EAGER"===be.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[Y,te]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(Y);try{const $e=this.getOrInitializeService({instanceIdentifier:Xe});te.resolve($e)}catch{}}}}clearInstance(K=he){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,l.Z)(function*(){const Y=Array.from(K.instances.values());yield Promise.all([...Y.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...Y.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=he){return this.instances.has(K)}getOptions(K=he){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:Y={}}=K,te=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:te,options:Y});for(const[$e,rt]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier($e)&&rt.resolve(Xe);return Xe}onInit(K,Y){var te;const Xe=this.normalizeInstanceIdentifier(Y),$e=null!==(te=this.onInitCallbacks.get(Xe))&&void 0!==te?te:new Set;$e.add(K),this.onInitCallbacks.set(Xe,$e);const rt=this.instances.get(Xe);return rt&&K(rt,Xe),()=>{$e.delete(K)}}invokeOnInitCallbacks(K,Y){const te=this.onInitCallbacks.get(Y);if(te)for(const Xe of te)try{Xe(K,Y)}catch{}}getOrInitializeService({instanceIdentifier:K,options:Y={}}){let te=this.instances.get(K);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(be=K,be===he?void 0:be),options:Y}),this.instances.set(K,te),this.instancesOptions.set(K,Y),this.invokeOnInitCallbacks(te,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,te)}catch{}var be;return te||null}normalizeInstanceIdentifier(K=he){return this.component?this.component.multipleInstances?K:he:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const Y=this.getProvider(K.name);if(Y.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);Y.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const Y=new fe(K,this);return this.providers.set(K,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(wt,Le,V)=>{V.d(Le,{Am:()=>be,Ub:()=>Ee,Yd:()=>Te,in:()=>ie});const l=[];var ie=(()=>{return(K=ie||(ie={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",ie;var K})();const U={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},he=ie.INFO,fe={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},pe=(K,Y,...te)=>{if(Y<K.logLevel)return;const Xe=(new Date).toISOString(),$e=fe[Y];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[$e](`[${Xe}]  ${K.name}:`,...te)};class Te{constructor(Y){this.name=Y,this._logLevel=he,this._logHandler=pe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in ie))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?U[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...Y),this._logHandler(this,ie.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...Y),this._logHandler(this,ie.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...Y),this._logHandler(this,ie.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...Y),this._logHandler(this,ie.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...Y),this._logHandler(this,ie.ERROR,...Y)}}function Ee(K){l.forEach(Y=>{Y.setLogLevel(K)})}function be(K,Y){for(const te of l){let Xe=null;Y&&Y.level&&(Xe=U[Y.level]),te.userLogHandler=null===K?null:($e,rt,...bt)=>{const we=bt.map(Ue=>{if(null==Ue)return null;if("string"==typeof Ue)return Ue;if("number"==typeof Ue||"boolean"==typeof Ue)return Ue.toString();if(Ue instanceof Error)return Ue.message;try{return JSON.stringify(Ue)}catch{return null}}).filter(Ue=>Ue).join(" ");rt>=(Xe??$e.logLevel)&&K({level:ie[rt].toLowerCase(),message:we,args:bt,type:$e.name})}}}},259:(wt,Le,V)=>{V.d(Le,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=V(9681);(0,l.registerVersion)("firebase","9.16.0","app")},9260:(wt,Le,V)=>{V.d(Le,{Z:()=>l.Z});var l=V(3942);l.Z.registerVersion("firebase","9.16.0","app-compat")},750:(wt,Le,V)=>{V.r(Le);var l=V(5861),ie=V(3942),U=V(2090),he=V(9681),fe=V(1877),pe=V(655),Te=V(4859);const rt=function Xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},bt=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},we=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new fe.Yd("@firebase/auth");function qe(_,...f){Fe.logLevel<=fe.in.ERROR&&Fe.error(`Auth (${he.SDK_VERSION}): ${_}`,...f)}function Be(_,...f){throw ze(_,...f)}function ke(_,...f){return ze(_,...f)}function je(_,f,m){const w=Object.assign(Object.assign({},bt()),{[f]:m});return new U.LL("auth","Firebase",w).create(f,{appName:_.name})}function We(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Be(_,"argument-error"),je(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(_,...f){if("string"!=typeof _){const m=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(m,...w)}return we.create(_,...f)}function q(_,f,...m){if(!_)throw ze(f,...m)}function Me(_){const f="INTERNAL ASSERTION FAILED: "+_;throw qe(f),new Error(f)}function J(_,f){_||Me(f)}const re=new Map;function ue(_){J(_ instanceof Function,"Expected a class definition");let f=re.get(_);return f?(J(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,re.set(_,f),f)}function Ge(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ct(){return"http:"===hn()||"https:"===hn()}function hn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Qt{constructor(f,m){this.shortDelay=f,this.longDelay=m,J(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function wn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ct()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dt(_,f){J(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class dn{static initialize(f,m,w){this.fetchImpl=f,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vr=new Qt(3e4,6e4);function Mt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Pn(_,f,m,w){return bi.apply(this,arguments)}function bi(){return(bi=(0,l.Z)(function*(_,f,m,w,M={}){return ni(_,M,(0,l.Z)(function*(){let L={},X={};w&&("GET"===f?X=w:L={body:JSON.stringify(w)});const Ce=(0,U.xO)(Object.assign({key:_.config.apiKey},X)).slice(1),et=yield _._getAdditionalHeaders();return et["Content-Type"]="application/json",_.languageCode&&(et["X-Firebase-Locale"]=_.languageCode),dn.fetch()(Ps(_,_.config.apiHost,m,Ce),Object.assign({method:f,headers:et,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function ni(_,f,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(_,f,m){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},Sr),f);try{const M=new Li(_),L=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const X=yield L.json();if("needConfirmation"in X)throw Hr(_,"account-exists-with-different-credential",X);if(L.ok&&!("errorMessage"in X))return X;{const Ce=L.ok?X.errorMessage:X.error.message,[et,ct]=Ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===et)throw Hr(_,"credential-already-in-use",X);if("EMAIL_EXISTS"===et)throw Hr(_,"email-already-in-use",X);if("USER_DISABLED"===et)throw Hr(_,"user-disabled",X);const Nt=w[et]||et.toLowerCase().replace(/[_\s]+/g,"-");if(ct)throw je(_,Nt,ct);Be(_,Nt)}}catch(M){if(M instanceof U.ZR)throw M;Be(_,"network-request-failed")}})).apply(this,arguments)}function jr(_,f,m,w){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(_,f,m,w,M={}){const L=yield Pn(_,f,m,w,M);return"mfaPendingCredential"in L&&Be(_,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Ps(_,f,m,w){const M=`${f}${m}?${w}`;return _.config.emulator?Dt(_.config,M):`${_.config.apiScheme}://${M}`}class Li{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ke(this.auth,"network-request-failed")),Vr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hr(_,f,m){const w={appName:_.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const M=ke(_,f,w);return M.customData._tokenResponse=m,M}function Cn(){return(Cn=(0,l.Z)(function*(_,f){return Pn(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ri(_,f){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(_,f){return Pn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ls(_,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(_,f){return Pn(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function On(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function jt(){return(jt=(0,l.Z)(function*(_,f=!1){const m=(0,U.m9)(_),w=yield m.getIdToken(f),M=kt(w);q(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const L="object"==typeof M.firebase?M.firebase:void 0,X=L?.sign_in_provider;return{claims:M,token:w,authTime:On(Pt(M.auth_time)),issuedAtTime:On(Pt(M.iat)),expirationTime:On(Pt(M.exp)),signInProvider:X||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Pt(_){return 1e3*Number(_)}function kt(_){const[f,m,w]=_.split(".");if(void 0===f||void 0===m||void 0===w)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,U.tV)(m);return M?JSON.parse(M):(qe("Failed to decode base64 JWT payload"),null)}catch(M){return qe("Caught error parsing JWT payload as JSON",M?.toString()),null}}function $n(_,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(w){throw w instanceof U.ZR&&$i(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function $i({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Dr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var f=this;return(0,l.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class ia{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=On(this.lastLoginAt),this.creationTime=On(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vn(_){return us.apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(_){var f;const m=_.auth,w=yield _.getIdToken(),M=yield $n(_,ls(m,{idToken:w}));q(M?.users.length,m,"internal-error");const L=M.users[0];_._notifyReloadListener(L);const X=null!==(f=L.providerUserInfo)&&void 0!==f&&f.length?Je(L.providerUserInfo):[],Ce=Xi(_.providerData,X),Nt=!!_.isAnonymous&&!(_.email&&L.passwordHash||Ce?.length),At={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Ce,metadata:new ia(L.createdAt,L.lastLoginAt),isAnonymous:Nt};Object.assign(_,At)})).apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(_){const f=(0,U.m9)(_);yield vn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Xi(_,f){return[..._.filter(w=>!f.some(M=>M.providerId===w.providerId)),...f]}function Je(_){return _.map(f=>{var{providerId:m}=f,w=(0,pe._T)(f,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ht(){return(ht=(0,l.Z)(function*(_,f){const m=yield ni(_,{},(0,l.Z)(function*(){const w=(0,U.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:M,apiKey:L}=_.config,X=Ps(_,M,"/v1/token",`key=${L}`),Ce=yield _._getAdditionalHeaders();return Ce["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(X,{method:"POST",headers:Ce,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){q(f.idToken,"internal-error"),q(typeof f.idToken<"u","internal-error"),q(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function cs(_){const f=kt(_);return q(f,"internal-error"),q(typeof f.exp<"u","internal-error"),q(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var w=this;return(0,l.Z)(function*(){return q(!w.accessToken||w.refreshToken,f,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var w=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:L,expiresIn:X}=yield function Ne(_,f){return ht.apply(this,arguments)}(f,m);w.updateTokensAndExpiration(M,L,Number(X))})()}updateTokensAndExpiration(f,m,w){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,m){const{refreshToken:w,accessToken:M,expirationTime:L}=m,X=new Lt;return w&&(q("string"==typeof w,"internal-error",{appName:f}),X.refreshToken=w),M&&(q("string"==typeof M,"internal-error",{appName:f}),X.accessToken=M),L&&(q("number"==typeof L,"internal-error",{appName:f}),X.expirationTime=L),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Lt,this.toJSON())}_performRefresh(){return Me("not implemented")}}function Ut(_,f){q("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class qt{constructor(f){var{uid:m,auth:w,stsTokenManager:M}=f,L=(0,pe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new ia(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,l.Z)(function*(){const w=yield $n(m,m.stsTokenManager.getToken(m.auth,f));return q(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(f){return function Os(_){return jt.apply(this,arguments)}(this,f)}reload(){return function an(_){return xr.apply(this,arguments)}(this)}_assign(f){this!==f&&(q(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new qt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var w=this;return(0,l.Z)(function*(){let M=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),M=!0),m&&(yield vn(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,l.Z)(function*(){const m=yield f.getIdToken();return yield $n(f,function Gs(_,f){return Cn.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var w,M,L,X,Ce,et,ct,Nt;const At=null!==(w=m.displayName)&&void 0!==w?w:void 0,Zn=null!==(M=m.email)&&void 0!==M?M:void 0,ss=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,ql=null!==(X=m.photoURL)&&void 0!==X?X:void 0,vf=null!==(Ce=m.tenantId)&&void 0!==Ce?Ce:void 0,$a=null!==(et=m._redirectEventId)&&void 0!==et?et:void 0,os=null!==(ct=m.createdAt)&&void 0!==ct?ct:void 0,Wl=null!==(Nt=m.lastLoginAt)&&void 0!==Nt?Nt:void 0,{uid:Zo,emailVerified:yf,isAnonymous:_f,providerData:kd,stsTokenManager:ag}=m;q(Zo&&ag,f,"internal-error");const gv=Lt.fromJSON(this.name,ag);q("string"==typeof Zo,f,"internal-error"),Ut(At,f.name),Ut(Zn,f.name),q("boolean"==typeof yf,f,"internal-error"),q("boolean"==typeof _f,f,"internal-error"),Ut(ss,f.name),Ut(ql,f.name),Ut(vf,f.name),Ut($a,f.name),Ut(os,f.name),Ut(Wl,f.name);const Kl=new qt({uid:Zo,auth:f,email:Zn,emailVerified:yf,displayName:At,isAnonymous:_f,photoURL:ql,phoneNumber:ss,tenantId:vf,stsTokenManager:gv,createdAt:os,lastLoginAt:Wl});return kd&&Array.isArray(kd)&&(Kl.providerData=kd.map(Nd=>Object.assign({},Nd))),$a&&(Kl._redirectEventId=$a),Kl}static _fromIdTokenResponse(f,m,w=!1){return(0,l.Z)(function*(){const M=new Lt;M.updateFromServerResponse(m);const L=new qt({uid:m.localId,auth:f,stsTokenManager:M,isAnonymous:w});return yield vn(L),L})()}}const H=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var M=this;return(0,l.Z)(function*(){M.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const M=w.storage[m];return void 0===M?null:M})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return _.type="NONE",_})();function ee(_,f,m){return`firebase:${_}:${f}:${m}`}class Se{constructor(f,m,w){this.persistence=f,this.auth=m,this.userKey=w;const{config:M,name:L}=this.auth;this.fullUserKey=ee(this.userKey,M.apiKey,L),this.fullPersistenceKey=ee("persistence",M.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?qt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,l.Z)(function*(){if(m.persistence===f)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Se(ue(H),f,w);const M=(yield Promise.all(m.map(function(){var ct=(0,l.Z)(function*(Nt){if(yield Nt._isAvailable())return Nt});return function(Nt){return ct.apply(this,arguments)}}()))).filter(ct=>ct);let L=M[0]||ue(H);const X=ee(w,f.config.apiKey,f.name);let Ce=null;for(const ct of m)try{const Nt=yield ct._get(X);if(Nt){const At=qt._fromJSON(f,Nt);ct!==L&&(Ce=At),L=ct;break}}catch{}const et=M.filter(ct=>ct._shouldAllowMigration);return L._shouldAllowMigration&&et.length?(L=et[0],Ce&&(yield L._set(X,Ce.toJSON())),yield Promise.all(m.map(function(){var ct=(0,l.Z)(function*(Nt){if(Nt!==L)try{yield Nt._remove(X)}catch{}});return function(Nt){return ct.apply(this,arguments)}}())),new Se(L,f,w)):new Se(L,f,w)})()}}function ae(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(kn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(mt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ur(f))return"Blackberry";if(tn(f))return"Webos";if(Wt(f))return"Safari";if((f.includes("chrome/")||sn(f))&&!f.includes("edge/"))return"Chrome";if(Ot(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function mt(_=(0,U.z$)()){return/firefox\//i.test(_)}function Wt(_=(0,U.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function sn(_=(0,U.z$)()){return/crios\//i.test(_)}function kn(_=(0,U.z$)()){return/iemobile/i.test(_)}function Ot(_=(0,U.z$)()){return/android/i.test(_)}function ur(_=(0,U.z$)()){return/blackberry/i.test(_)}function tn(_=(0,U.z$)()){return/webos/i.test(_)}function tr(_=(0,U.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Oh(_=(0,U.z$)()){return tr(_)||Ot(_)||tn(_)||ur(_)||/windows phone/i.test(_)||kn(_)}function Xa(_,f=[]){let m;switch(_){case"Browser":m=ae((0,U.z$)());break;case"Worker":m=`${ae((0,U.z$)())}-${_}`;break;default:m=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${he.SDK_VERSION}/${w}`}class Sc{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const w=L=>new Promise((X,Ce)=>{try{X(f(L))}catch(et){Ce(et)}});w.onAbort=m,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===f)return;const w=[];try{for(const M of m.queue)yield M(f),M.onAbort&&w.push(M.onAbort)}catch(M){w.reverse();for(const L of w)try{L()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Ku{constructor(f,m,w){this.app=f,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yu(this),this.idTokenSubscription=new Yu(this),this.beforeStateQueue=new Sc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=we,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,m){var w=this;return m&&(this._popupRedirectResolver=ue(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,L;if(!w._deleted&&(w.persistenceManager=yield Se.create(w,f),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(L=w.currentUser)||void 0===L?void 0:L.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,l.Z)(function*(){var w;const M=yield m.assertedPersistence.getCurrentUser();let L=M,X=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ce=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,et=L?._redirectEventId,ct=yield m.tryRedirectSignIn(f);(!Ce||Ce===et)&&ct?.user&&(L=ct.user,X=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(X)try{yield m.beforeStateQueue.runMiddleware(L)}catch(Ce){L=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ce))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return q(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(f){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,l.Z)(function*(){try{yield vn(f)}catch(w){if("auth/network-request-failed"!==w?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function zt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,l.Z)(function*(){const w=f?(0,U.m9)(f):null;return w&&q(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(f,m=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return f&&q(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(ue(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new U.LL("auth","Firebase",f())}onAuthStateChanged(f,m,w){return this.registerStateListener(this.authStateSubscription,f,m,w)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,w){return this.registerStateListener(this.idTokenSubscription,f,m,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var w=this;return(0,l.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(m);return null===f?M.removeCurrentUser():M.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=f&&ue(f)||m._popupRedirectResolver;q(w,m,"argument-error"),m.redirectPersistenceManager=yield Se.create(m,[ue(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,l.Z)(function*(){var w,M;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===f?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,l.Z)(function*(){if(f===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,w,M){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),X=this._isInitialized?Promise.resolve():this._initializationPromise;return q(X,this,"internal-error"),X.then(()=>L(this.currentUser)),"function"==typeof m?f.addObserver(m,w,M):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Xa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const M=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function Nn(_){return(0,U.m9)(_)}class Yu{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,U.ne)(m=>this.observer=m)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function aa(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function ln(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Bn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Me("not implemented")}_getIdTokenResponse(f){return Me("not implemented")}_linkToIdToken(f,m){return Me("not implemented")}_getReauthenticationResolver(f){return Me("not implemented")}}function Gn(_,f){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(_,f){return Pn(_,"POST","/v1/accounts:resetPassword",Mt(_,f))})).apply(this,arguments)}function Ei(_,f){return lt.apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(_,f){return Pn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ht(_,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(_,f){return Pn(_,"POST","/v1/accounts:update",Mt(_,f))})).apply(this,arguments)}function ds(){return(ds=(0,l.Z)(function*(_,f){return jr(_,"POST","/v1/accounts:signInWithPassword",Mt(_,f))})).apply(this,arguments)}function qn(_,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(_,f){return Pn(_,"POST","/v1/accounts:sendOobCode",Mt(_,f))})).apply(this,arguments)}function Ln(_,f){return _o.apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(_,f){return qn(_,f)})).apply(this,arguments)}function wi(_,f){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(_,f){return qn(_,f)})).apply(this,arguments)}function xc(_,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(_,f){return qn(_,f)})).apply(this,arguments)}function Ja(_,f){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(_,f){return qn(_,f)})).apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(_,f){return jr(_,"POST","/v1/accounts:signInWithEmailLink",Mt(_,f))})).apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(_,f){return jr(_,"POST","/v1/accounts:signInWithEmailLink",Mt(_,f))})).apply(this,arguments)}class hs extends Bn{constructor(f,m,w,M=null){super("password",w),this._email=f,this._password=m,this._tenantId=M}static _fromEmailAndPassword(f,m){return new hs(f,m,"password")}static _fromEmailAndCode(f,m,w=null){return new hs(f,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function zr(_,f){return ds.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function _r(_,f){return bo.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Be(f,"internal-error")}})()}_linkToIdToken(f,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Ei(f,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function qs(_,f){return Ii.apply(this,arguments)}(f,{idToken:m,email:w._email,oobCode:w._password});default:Be(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ui(_,f){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(_,f){return jr(_,"POST","/v1/accounts:signInWithIdp",Mt(_,f))})).apply(this,arguments)}class Ti extends Bn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Ti(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Be("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:M}=m,L=(0,pe._T)(m,["providerId","signInMethod"]);if(!w||!M)return null;const X=new Ti(w,M);return X.idToken=L.idToken||void 0,X.accessToken=L.accessToken||void 0,X.secret=L.secret,X.nonce=L.nonce,X.pendingToken=L.pendingToken||null,X}_getIdTokenResponse(f){return Ui(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,Ui(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ui(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,U.xO)(m)}return f}}function Qu(_,f){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,l.Z)(function*(_,f){return Pn(_,"POST","/v1/accounts:sendVerificationCode",Mt(_,f))})).apply(this,arguments)}function Pr(){return(Pr=(0,l.Z)(function*(_,f){return jr(_,"POST","/v1/accounts:signInWithPhoneNumber",Mt(_,f))})).apply(this,arguments)}function Xu(){return(Xu=(0,l.Z)(function*(_,f){const m=yield jr(_,"POST","/v1/accounts:signInWithPhoneNumber",Mt(_,f));if(m.temporaryProof)throw Hr(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ii={USER_NOT_FOUND:"user-not-found"};function ca(){return(ca=(0,l.Z)(function*(_,f){return jr(_,"POST","/v1/accounts:signInWithPhoneNumber",Mt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ii)})).apply(this,arguments)}class Bi extends Bn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Bi({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Bi({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Ws(_,f){return Pr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Or(_,f){return Xu.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Vi(_,f){return ca.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:w,verificationCode:M}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:w,code:M}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:L}=f;return w||m||M||L?new Bi({verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:L}):null}}class ua{constructor(f){var m,w,M,L,X,Ce;const et=(0,U.zd)((0,U.pd)(f)),ct=null!==(m=et.apiKey)&&void 0!==m?m:null,Nt=null!==(w=et.oobCode)&&void 0!==w?w:null,At=function Ac(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=et.mode)&&void 0!==M?M:null);q(ct&&Nt&&At,"argument-error"),this.apiKey=ct,this.operation=At,this.code=Nt,this.continueUrl=null!==(L=et.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(X=et.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(Ce=et.tenantId)&&void 0!==Ce?Ce:null}static parseLink(f){const m=function si(_){const f=(0,U.zd)((0,U.pd)(_)).link,m=f?(0,U.zd)((0,U.pd)(f)).deep_link_id:null,w=(0,U.zd)((0,U.pd)(_)).deep_link_id;return(w?(0,U.zd)((0,U.pd)(w)).link:null)||w||m||f||_}(f);try{return new ua(m)}catch{return null}}}let Mc=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,w){return hs._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const M=ua.parseLink(w);return q(M,"argument-error"),hs._fromEmailAndCode(m,M.code,M.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class fs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class wo extends fs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class es extends wo{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return q("providerId"in m&&"signInMethod"in m,"argument-error"),Ti._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return q(f.idToken||f.accessToken,"argument-error"),Ti._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return es.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return es.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:L,nonce:X,providerId:Ce}=f;if(!w&&!M&&!m&&!L||!Ce)return null;try{return new es(Ce)._credential({idToken:m,accessToken:w,nonce:X,pendingToken:L})}catch{return null}}}let Pc=(()=>{class _ extends wo{constructor(){super("facebook.com")}static credential(m){return Ti._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),kh=(()=>{class _ extends wo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Ti._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:M}=m;if(!w&&!M)return null;try{return _.credential(w,M)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Nh=(()=>{class _ extends wo{constructor(){super("github.com")}static credential(m){return Ti._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Co extends Bn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Ui(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,Ui(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ui(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:M,pendingToken:L}=m;return w&&M&&L&&w===M?new Co(w,L):null}static _create(f,m){return new Co(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ts extends fs{constructor(f){q(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ts.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ts.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Co.fromJSON(f);return q(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:w}=f;if(!m||!w)return null;try{return Co._create(w,m)}catch{return null}}}let Bp=(()=>{class _ extends wo{constructor(){super("twitter.com")}static credential(m,w){return Ti._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=m;if(!w||!M)return null;try{return _.credential(w,M)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function el(_,f){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,l.Z)(function*(_,f){return jr(_,"POST","/v1/accounts:signUp",Mt(_,f))})).apply(this,arguments)}class Gr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,w,M=!1){return(0,l.Z)(function*(){const L=yield qt._fromIdTokenResponse(f,w,M),X=Rc(w);return new Gr({user:L,providerId:X,_tokenResponse:w,operationType:m})})()}static _forOperation(f,m,w){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const M=Rc(w);return new Gr({user:f,providerId:M,_tokenResponse:w,operationType:m})})()}}function Rc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ed(){return(ed=(0,l.Z)(function*(_){var f;const m=Nn(_);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Gr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield el(m,{returnSecureToken:!0}),M=yield Gr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class tl extends U.ZR{constructor(f,m,w,M){var L;super(m.code,m.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,tl.prototype),this.customData={appName:f.name,tenantId:null!==(L=f.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,m,w,M){return new tl(f,m,w,M)}}function Ys(_,f,m,w){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?tl._fromErrorAndOperation(_,L,f,w):L})}function Qs(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Io(){return(Io=(0,l.Z)(function*(_,f){const m=(0,U.m9)(_);yield Xs(!0,m,f);const{providerUserInfo:w}=yield ri(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),M=Qs(w||[]);return m.providerData=m.providerData.filter(L=>M.has(L.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function rl(_,f){return To.apply(this,arguments)}function To(){return(To=(0,l.Z)(function*(_,f,m=!1){const w=yield $n(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return Gr._forOperation(_,"link",w)})).apply(this,arguments)}function Xs(_,f,m){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(_,f,m){yield vn(f);const M=!1===_?"provider-already-linked":"no-such-provider";q(Qs(f.providerData).has(m)===_,f.auth,M)})).apply(this,arguments)}function td(_,f){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(_,f,m=!1){const{auth:w}=_,M="reauthenticate";try{const L=yield $n(_,Ys(w,M,f,_),m);q(L.idToken,w,"internal-error");const X=kt(L.idToken);q(X,w,"internal-error");const{sub:Ce}=X;return q(_.uid===Ce,w,"user-mismatch"),Gr._forOperation(_,M,L)}catch(L){throw"auth/user-not-found"===L?.code&&Be(w,"user-mismatch"),L}})).apply(this,arguments)}function Do(_,f){return oi.apply(this,arguments)}function oi(){return(oi=(0,l.Z)(function*(_,f,m=!1){const w="signIn",M=yield Ys(_,w,f),L=yield Gr._fromIdTokenResponse(_,w,M);return m||(yield _._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Un(_,f){return il.apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(_,f){return Do(Nn(_),f)})).apply(this,arguments)}function jn(_,f){return sl.apply(this,arguments)}function sl(){return(sl=(0,l.Z)(function*(_,f){const m=(0,U.m9)(_);return yield Xs(!1,m,f.providerId),rl(m,f)})).apply(this,arguments)}function Js(_,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(_,f){return td((0,U.m9)(_),f)})).apply(this,arguments)}function kc(_,f){return xo.apply(this,arguments)}function xo(){return(xo=(0,l.Z)(function*(_,f){return jr(_,"POST","/v1/accounts:signInWithCustomToken",Mt(_,f))})).apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(_,f){const m=Nn(_),w=yield kc(m,{token:f,returnSecureToken:!0}),M=yield Gr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class ha{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Ao._fromServerResponse(f,m):Be(f,"internal-error")}}class Ao extends ha{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Ao(m)}}function ol(_,f,m){var w;q((null===(w=m.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),q(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(q(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(q(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function fa(){return(fa=(0,l.Z)(function*(_,f,m){const w=(0,U.m9)(_),M={requestType:"PASSWORD_RESET",email:f};m&&ol(w,M,m),yield wi(w,M)})).apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(_,f,m){yield Gn((0,U.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function nd(){return(nd=(0,l.Z)(function*(_,f){yield Ht((0,U.m9)(_),{oobCode:f})})).apply(this,arguments)}function ll(_,f){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,l.Z)(function*(_,f){const m=(0,U.m9)(_),w=yield Gn(m,{oobCode:f}),M=w.requestType;switch(q(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(w.mfaInfo,m,"internal-error");default:q(w.email,m,"internal-error")}let L=null;return w.mfaInfo&&(L=ha._fromServerResponse(Nn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:L},operation:M}})).apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(_,f){const{data:m}=yield ll((0,U.m9)(_),f);return m.email})).apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(_,f,m){const w=Nn(_),M=yield el(w,{returnSecureToken:!0,email:f,password:m}),L=yield Gr._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(L.user),L})).apply(this,arguments)}function rd(){return(rd=(0,l.Z)(function*(_,f,m){const w=(0,U.m9)(_),M={requestType:"EMAIL_SIGNIN",email:f};q(m.handleCodeInApp,w,"argument-error"),m&&ol(w,M,m),yield xc(w,M)})).apply(this,arguments)}function ga(){return(ga=(0,l.Z)(function*(_,f,m){const w=(0,U.m9)(_),M=Mc.credentialWithLink(f,m||Ge());return q(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Un(w,M)})).apply(this,arguments)}function ul(_,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,l.Z)(function*(_,f){return Pn(_,"POST","/v1/accounts:createAuthUri",Mt(_,f))})).apply(this,arguments)}function hl(){return(hl=(0,l.Z)(function*(_,f){const w={identifier:f,continueUri:Ct()?Ge():"http://localhost"},{signinMethods:M}=yield ul((0,U.m9)(_),w);return M||[]})).apply(this,arguments)}function $c(){return($c=(0,l.Z)(function*(_,f){const m=(0,U.m9)(_),M={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&ol(m.auth,M,f);const{email:L}=yield Ln(m.auth,M);L!==_.email&&(yield _.reload())})).apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(_,f,m){const w=(0,U.m9)(_),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&ol(w.auth,L,m);const{email:X}=yield Ja(w.auth,L);X!==_.email&&(yield _.reload())})).apply(this,arguments)}function li(_,f){return ks.apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(_,f){return Pn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const w=(0,U.m9)(_),L={idToken:yield w.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},X=yield $n(w,li(w.auth,L));w.displayName=X.displayName||null,w.photoURL=X.photoUrl||null;const Ce=w.providerData.find(({providerId:et})=>"password"===et);Ce&&(Ce.displayName=w.displayName,Ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(X)})).apply(this,arguments)}function od(_,f,m){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(_,f,m){const{auth:w}=_,L={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(L.email=f),m&&(L.password=m);const X=yield $n(_,Ei(w,L));yield _._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class gs{constructor(f,m,w={}){this.isNewUser=f,this.providerId=m,this.profile=w}}class ad extends gs{constructor(f,m,w,M){super(f,m,w),this.username=M}}class Bc extends gs{constructor(f,m){super(f,"facebook.com",m)}}class ld extends ad{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class $h extends gs{constructor(f,m){super(f,"google.com",m)}}class pl extends ad{constructor(f,m,w){super(f,"twitter.com",m,w)}}function Uh(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Vc(_){var f,m;if(!_)return null;const{providerId:w}=_,M=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},L=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&_?.idToken){const X=null===(m=null===(f=kt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(X)return new gs(L,"anonymous"!==X&&"custom"!==X?X:null)}if(!w)return null;switch(w){case"facebook.com":return new Bc(L,M);case"github.com":return new ld(L,M);case"google.com":return new $h(L,M);case"twitter.com":return new pl(L,M,_.screenName||null);case"custom":case"anonymous":return new gs(L,null);default:return new gs(L,w,M)}}(m)}class Po{constructor(f,m,w){this.type=f,this.credential=m,this.auth=w}static _fromIdtoken(f,m){return new Po("enroll",f,m)}static _fromMfaPendingCredential(f){return new Po("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,w;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Po._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Po._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Hc{constructor(f,m,w){this.session=f,this.hints=m,this.signInResolver=w}static _fromError(f,m){const w=Nn(f),M=m.customData._serverResponse,L=(M.mfaInfo||[]).map(Ce=>ha._fromServerResponse(w,Ce));q(M.mfaPendingCredential,w,"internal-error");const X=Po._fromMfaPendingCredential(M.mfaPendingCredential);return new Hc(X,L,function(){var Ce=(0,l.Z)(function*(et){const ct=yield et._process(w,X);delete M.mfaInfo,delete M.mfaPendingCredential;const Nt=Object.assign(Object.assign({},M),{idToken:ct.idToken,refreshToken:ct.refreshToken});switch(m.operationType){case"signIn":const At=yield Gr._fromIdTokenResponse(w,m.operationType,Nt);return yield w._updateCurrentUser(At.user),At;case"reauthenticate":return q(m.user,w,"internal-error"),Gr._forOperation(m.user,m.operationType,Nt);default:Be(w,"internal-error")}});return function(et){return Ce.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,l.Z)(function*(){return m.signInResolver(f)})()}}function Vh(_,f){return Pn(_,"POST","/v2/accounts/mfaEnrollment:start",Mt(_,f))}class va{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>ha._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new va(f)}getSession(){var f=this;return(0,l.Z)(function*(){return Po._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var w=this;return(0,l.Z)(function*(){const M=f,L=yield w.getSession(),X=yield $n(w.user,M._process(w.user.auth,L,m));return yield w.user._updateTokensIfNecessary(X),w.user.reload()})()}unenroll(f){var m=this;return(0,l.Z)(function*(){const w="string"==typeof f?f:f.uid,M=yield m.user.getIdToken(),L=yield $n(m.user,function zp(_,f){return Pn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(_,f))}(m.user.auth,{idToken:M,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:X})=>X!==w),yield m.user._updateTokensIfNecessary(L);try{yield m.user.reload()}catch(X){if("auth/user-token-expired"!==X?.code)throw X}})()}}const Ns=new WeakMap,Si="__sak";class Zc{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Si,"1"),this.storage.removeItem(Si),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const zc=(()=>{class _ extends Zc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gl(){const _=(0,U.z$)();return Wt(_)||tr(_)}()&&function oa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Oh(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),L=this.localCache[w];M!==L&&m(w,L,M)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Ce,et,ct)=>{this.notifyListeners(Ce,ct)});const M=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ce=this.storage.getItem(M);if(m.newValue!==Ce)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!w)return}const L=()=>{const Ce=this.storage.getItem(M);!w&&this.localCache[M]===Ce||this.notifyListeners(M,Ce)},X=this.storage.getItem(M);!function sa(){return(0,U.w1)()&&10===document.documentMode}()||X===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const L of Array.from(M))L(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var M=()=>super._set,L=this;return(0,l.Z)(function*(){yield M().call(L,m,w),L.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,M=this;return(0,l.Z)(function*(){const L=yield w().call(M,m);return M.localCache[m]=JSON.stringify(L),L})()}_remove(m){var w=()=>super._remove,M=this;return(0,l.Z)(function*(){yield w().call(M,m),delete M.localCache[m]})()}}return _.type="LOCAL",_})(),no=(()=>{class _ extends Zc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return _.type="SESSION",_})();let ml=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(L=>L.isListeningto(m));if(w)return w;const M=new _(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const M=m,{eventId:L,eventType:X,data:Ce}=M.data,et=w.handlersMap[X];if(!et?.size)return;M.ports[0].postMessage({status:"ack",eventId:L,eventType:X});const ct=Array.from(et).map(function(){var At=(0,l.Z)(function*(Zn){return Zn(M.origin,Ce)});return function(Zn){return At.apply(this,arguments)}}()),Nt=yield function ya(_){return Promise.all(_.map(function(){var f=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return f.apply(this,arguments)}}()))}(ct);M.ports[0].postMessage({status:"done",eventId:L,eventType:X,response:Nt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function _a(_="",f=10){let m="";for(let w=0;w<f;w++)m+=Math.floor(10*Math.random());return _+m}class Gc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,w=50){var M=this;return(0,l.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let X,Ce;return new Promise((et,ct)=>{const Nt=_a("",20);L.port1.start();const At=setTimeout(()=>{ct(new Error("unsupported_event"))},w);Ce={messageChannel:L,onMessage(Zn){const ss=Zn;if(ss.data.eventId===Nt)switch(ss.data.status){case"ack":clearTimeout(At),X=setTimeout(()=>{ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),et(ss.data.response);break;default:clearTimeout(At),clearTimeout(X),ct(new Error("invalid_response"))}}},M.handlers.add(Ce),L.port1.addEventListener("message",Ce.onMessage),M.target.postMessage({eventType:f,eventId:Nt,data:m},[L.port2])}).finally(()=>{Ce&&M.removeMessageHandler(Ce)})})()}}function In(){return window}function ro(){return typeof In().WorkerGlobalScope<"u"&&"function"==typeof In().importScripts}function Ea(){return(Ea=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yl="firebaseLocalStorageDb",Ls="firebaseLocalStorage",io="fbase_key";class so{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function oo(_,f){return _.transaction([Ls],f?"readwrite":"readonly").objectStore(Ls)}function Wc(){const _=indexedDB.open(yl,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Ls,{keyPath:io})}catch(M){m(M)}}),_.addEventListener("success",(0,l.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Ls)?f(w):(w.close(),yield function No(){const _=indexedDB.deleteDatabase(yl);return new so(_).toPromise()}(),f(yield Wc()))}))})}function Wr(_,f,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,l.Z)(function*(_,f,m){const w=oo(_,!0).put({[io]:f,value:m});return new so(w).toPromise()})).apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(_,f){const m=oo(_,!1).get(f),w=yield new so(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function El(_,f){const m=oo(_,!0).delete(f);return new so(m).toPromise()}const lo=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield Wc()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const L=yield w._openDb();return yield m(L)}catch(L){if(M++>3)throw L;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return ro()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=ml._getInstance(function vl(){return ro()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(M,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(M,L){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(M,L){return["keyChanged"]});return function(M,L){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,M;if(m.activeServiceWorker=yield function ms(){return Ea.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Gc(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);L&&null!==(w=L[0])&&void 0!==w&&w.fulfilled&&null!==(M=L[0])&&void 0!==M&&M.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function qc(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Wc();return yield Wr(m,Si,"1"),yield El(m,Si),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(L=>Wr(L,m,w)),M.localCache[m]=w,M.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const M=yield w._withRetries(L=>function Lo(_,f){return ao.apply(this,arguments)}(L,m));return w.localCache[m]=M,M})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(M=>El(M,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(X=>{const Ce=oo(X,!1).getAll();return new so(Ce).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const M=[],L=new Set;for(const{fbase_key:X,value:Ce}of w)L.add(X),JSON.stringify(m.localCache[X])!==JSON.stringify(Ce)&&(m.notifyListeners(X,Ce),M.push(X));for(const X of Object.keys(m.localCache))m.localCache[X]&&!L.has(X)&&(m.notifyListeners(X,null),M.push(X));return M})()}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const L of Array.from(M))L(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Fo(_,f){return Pn(_,"POST","/v2/accounts/mfaSignIn:start",Mt(_,f))}function Ca(){return(Ca=(0,l.Z)(function*(_){return(yield Pn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ji(_){return new Promise((f,m)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=M=>{const L=ke("internal-error");L.customData=M,m(L)},w.type="text/javascript",w.charset="UTF-8",function wl(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)})}function Yc(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Zi=1e12;class jh{constructor(f){this.auth=f,this.counter=Zi,this._widgets=new Map}render(f,m){const w=this.counter;return this._widgets.set(w,new Xc(f,this.auth.name,m||{})),this.counter++,w}reset(f){var m;const w=f||Zi;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Zi))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(f||Zi))||void 0===w||w.execute(),""})()}}class Xc{constructor(f,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof f?document.getElementById(f):f;q(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cl(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hd=Yc("rcb"),Hh=new Qt(3e4,6e4);class co{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=In().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return q(function Ia(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(In().grecaptcha):new Promise((w,M)=>{const L=In().setTimeout(()=>{M(ke(f,"network-request-failed"))},Hh.get());In()[hd]=()=>{In().clearTimeout(L),delete In()[hd];const Ce=In().grecaptcha;if(!Ce)return void M(ke(f,"internal-error"));const et=Ce.render;Ce.render=(ct,Nt)=>{const At=et(ct,Nt);return this.counter++,At},this.hostLanguage=m,w(Ce)},ji(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:hd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),M(ke(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=In().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $o{load(f){return(0,l.Z)(function*(){return new jh(f)})()}clearedOneInstance(){}}const fd="recaptcha",pd={theme:"light",type:"image"};class Il{constructor(f,m=Object.assign({},pd),w){this.parameters=m,this.type=fd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nn(w),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof f?document.getElementById(f):f;q(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $o:new co,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(m)||new Promise(L=>{const X=Ce=>{Ce&&(f.tokenChangeListeners.delete(X),L(Ce))};f.tokenChangeListeners.add(X),f.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof f)f(m);else if("string"==typeof f){const w=In()[f];"function"==typeof w&&w(m)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){q(Ct()&&!ro(),f.auth,"internal-error"),yield function iv(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function vs(_){return Ca.apply(this,arguments)}(f.auth);q(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class eu{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Bi._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function tu(){return(tu=(0,l.Z)(function*(_,f,m){const w=Nn(_),M=yield gd(w,f,(0,U.m9)(m));return new eu(M,L=>Un(w,L))})).apply(this,arguments)}function Tl(){return(Tl=(0,l.Z)(function*(_,f,m){const w=(0,U.m9)(_);yield Xs(!1,w,"phone");const M=yield gd(w.auth,f,(0,U.m9)(m));return new eu(M,L=>jn(w,L))})).apply(this,arguments)}function zh(){return(zh=(0,l.Z)(function*(_,f,m){const w=(0,U.m9)(_),M=yield gd(w.auth,f,(0,U.m9)(m));return new eu(M,L=>Js(w,L))})).apply(this,arguments)}function gd(_,f,m){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,l.Z)(function*(_,f,m){var w;const M=yield m.verify();try{let L;if(q("string"==typeof M,_,"argument-error"),q(m.type===fd,_,"argument-error"),L="string"==typeof f?{phoneNumber:f}:f,"session"in L){const X=L.session;if("phoneNumber"in L)return q("enroll"===X.type,_,"internal-error"),(yield Vh(_,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{q("signin"===X.type,_,"internal-error");const Ce=(null===(w=L.multiFactorHint)||void 0===w?void 0:w.uid)||L.multiFactorUid;return q(Ce,_,"missing-multi-factor-info"),(yield Fo(_,{mfaPendingCredential:X.credential,mfaEnrollmentId:Ce,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield Qu(_,{phoneNumber:L.phoneNumber,recaptchaToken:M});return X}}finally{m._reset()}})).apply(this,arguments)}function qh(){return(qh=(0,l.Z)(function*(_,f){yield rl((0,U.m9)(_),f)})).apply(this,arguments)}let nu=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Nn(m)}verifyPhoneNumber(m,w){return gd(this.auth,m,(0,U.m9)(w))}static credential(m,w){return Bi._fromVerification(m,w)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:M}=m;return w&&M?Bi._fromTokenResponse(w,M):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function An(_,f){return f?ue(f):(q(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Dl extends Bn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ui(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Ui(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Ui(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function xl(_){return Do(_.auth,new Dl(_),_.bypassAuthState)}function ru(_){const{auth:f,user:m}=_;return q(m,f,"internal-error"),td(m,new Dl(_),_.bypassAuthState)}function ci(_){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(_){const{auth:f,user:m}=_;return q(m,f,"internal-error"),rl(m,new Dl(_),_.bypassAuthState)})).apply(this,arguments)}class Al{constructor(f,m,w,M,L=!1){this.auth=f,this.resolver=w,this.user=M,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,l.Z)(function*(w,M){f.pendingPromise={resolve:w,reject:M};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(L){f.reject(L)}});return function(w,M){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:L,tenantId:X,error:Ce,type:et}=f;if(Ce)return void m.reject(Ce);const ct={auth:m.auth,requestUri:w,sessionId:M,tenantId:X||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(et)(ct))}catch(Nt){m.reject(Nt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return xl;case"linkViaPopup":case"linkViaRedirect":return ci;case"reauthViaPopup":case"reauthViaRedirect":return ru;default:Be(this.auth,"internal-error")}}resolve(f){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ta=new Qt(2e3,1e4);function Ml(){return(Ml=(0,l.Z)(function*(_,f,m){const w=Nn(_);We(_,f,fs);const M=An(w,m);return new yn(w,"signInViaPopup",f,M).executeNotNull()})).apply(this,arguments)}function Wh(){return(Wh=(0,l.Z)(function*(_,f,m){const w=(0,U.m9)(_);We(w.auth,f,fs);const M=An(w.auth,m);return new yn(w.auth,"reauthViaPopup",f,M,w).executeNotNull()})).apply(this,arguments)}function Kr(){return(Kr=(0,l.Z)(function*(_,f,m){const w=(0,U.m9)(_);We(w.auth,f,fs);const M=An(w.auth,m);return new yn(w.auth,"linkViaPopup",f,M,w).executeNotNull()})).apply(this,arguments)}let yn=(()=>{class _ extends Al{constructor(m,w,M,L,X){super(m,w,L,X),this.provider=M,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return q(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){J(1===m.filter.length,"Popup operations only handle one event");const w=_a();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(ke(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ta.get())};m()}}return _.currentPopupAction=null,_})();const ft=new Map;class is extends Al{constructor(f,m,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=ft.get(m.auth._key());if(!w){try{const L=(yield function zi(_,f){return ys.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;w=()=>Promise.resolve(L)}catch(M){w=()=>Promise.reject(M)}ft.set(m.auth._key(),w)}return m.bypassAuthState||ft.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(w,f);if("unknown"!==f.type){if(f.eventId){const M=yield w.auth._redirectUserForId(f.eventId);if(M)return w.user=M,m().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ys(){return(ys=(0,l.Z)(function*(_,f){const m=Da(f),w=Sa(_);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(m));return yield w._remove(m),M})).apply(this,arguments)}function Vo(_,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(_,f){return Sa(_)._set(Da(f),"true")})).apply(this,arguments)}function md(_,f){ft.set(_._key(),f)}function Sa(_){return ue(_._redirectPersistence)}function Da(_){return ee("pendingRedirect",_.config.apiKey,_.name)}function S(){return(S=(0,l.Z)(function*(_,f,m){const w=Nn(_);We(_,f,fs),yield w._initializationPromise;const M=An(w,m);return yield Vo(M,w),M._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(_,f,m){const w=(0,U.m9)(_);We(w.auth,f,fs),yield w.auth._initializationPromise;const M=An(w.auth,m);yield Vo(M,w.auth);const L=yield Rt(w);return M._openRedirect(w.auth,f,"reauthViaRedirect",L)})).apply(this,arguments)}function Oe(){return(Oe=(0,l.Z)(function*(_,f,m){const w=(0,U.m9)(_);We(w.auth,f,fs),yield w.auth._initializationPromise;const M=An(w.auth,m);yield Xs(!1,w,f.providerId),yield Vo(M,w.auth);const L=yield Rt(w);return M._openRedirect(w.auth,f,"linkViaRedirect",L)})).apply(this,arguments)}function Et(){return(Et=(0,l.Z)(function*(_,f){return yield Nn(_)._initializationPromise,yt(_,f,!1)})).apply(this,arguments)}function yt(_,f){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,l.Z)(function*(_,f,m=!1){const w=Nn(_),M=An(w,f),X=yield new is(w,M,m).execute();return X&&!m&&(delete X.user._redirectEventId,yield w._persistUserIfCurrent(X.user),yield w._setRedirectUser(null,f)),X})).apply(this,arguments)}function Rt(_){return ui.apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(_){const f=_a(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class uo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(m=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function di(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bo(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var w;if(f.error&&!Bo(f)){const M=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ke(this.auth,M))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const w=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ol(f))}saveEventToCache(f){this.cachedEventUids.add(Ol(f)),this.lastProcessedEventTime=Date.now()}}function Ol(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Bo({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function hi(_){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(_,f={}){return Pn(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Kh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fi=/^https?/;function Yh(){return(Yh=(0,l.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield hi(_);for(const m of f)try{if(fr(m))return}catch{}Be(_,"unauthorized-domain")})).apply(this,arguments)}function fr(_){const f=Ge(),{protocol:m,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const X=new URL(_);return""===X.hostname&&""===w?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&X.hostname===w}if(!fi.test(m))return!1;if(Kh.test(_))return w===_;const M=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const yd=new Qt(3e4,6e4);function su(){const _=In().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let ir=null;function Qh(_){return ir=ir||function _s(_){return new Promise((f,m)=>{var w,M,L;function X(){su(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{su(),m(ke(_,"network-request-failed"))},timeout:yd.get()})}if(null!==(M=null===(w=In().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)f(gapi.iframes.getContext());else{if(null===(L=In().gapi)||void 0===L||!L.load){const Ce=Yc("iframefcb");return In()[Ce]=()=>{gapi.load?X():m(ke(_,"network-request-failed"))},ji(`https://apis.google.com/js/api.js?onload=${Ce}`).catch(et=>m(et))}X()}}).catch(f=>{throw ir=null,f})}(_),ir}const ov=new Qt(5e3,15e3),Rl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xa(_){const f=_.config;q(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?Dt(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:_.name,v:he.SDK_VERSION},M=pi.get(_.config.apiHost);M&&(w.eid=M);const L=_._getFrameworks();return L.length&&(w.fw=L.join(",")),`${m}?${(0,U.xO)(w).slice(1)}`}function Aa(){return Aa=(0,l.Z)(function*(_){const f=yield Qh(_),m=In().gapi;return q(m,_,"internal-error"),f.open({where:document.body,url:xa(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rl,dontclear:!0},w=>new Promise(function(){var M=(0,l.Z)(function*(L,X){yield w.restyle({setHideOnLeave:!1});const Ce=ke(_,"network-request-failed"),et=In().setTimeout(()=>{X(Ce)},ov.get());function ct(){In().clearTimeout(et),L(w)}w.ping(ct).then(ct,()=>{X(Ce)})});return function(L,X){return M.apply(this,arguments)}}()))}),Aa.apply(this,arguments)}const _d={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $t{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function au(_,f,m,w,M,L){q(_.config.authDomain,_,"auth-domain-config-required"),q(_.config.apiKey,_,"invalid-api-key");const X={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:w,v:he.SDK_VERSION,eventId:M};if(f instanceof fs){f.setDefaultLanguage(_.languageCode),X.providerId=f.providerId||"",(0,U.xb)(f.getCustomParameters())||(X.customParameters=JSON.stringify(f.getCustomParameters()));for(const[et,ct]of Object.entries(L||{}))X[et]=ct}if(f instanceof wo){const et=f.getScopes().filter(ct=>""!==ct);et.length>0&&(X.scopes=et.join(","))}_.tenantId&&(X.tid=_.tenantId);const Ce=X;for(const et of Object.keys(Ce))void 0===Ce[et]&&delete Ce[et];return`${function Fs({config:_}){return _.emulator?Dt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,U.xO)(Ce).slice(1)}`}const wd="webStorageSupport",Cd=class Qp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=no,this._completeRedirectFn=yt,this._overrideRedirectResult=md}_openPopup(f,m,w,M){var L=this;return(0,l.Z)(function*(){var X;J(null===(X=L.eventManagers[f._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const Ce=au(f,m,w,Ge(),M);return function ou(_,f,m,w=500,M=600){const L=Math.max((window.screen.availHeight-M)/2,0).toString(),X=Math.max((window.screen.availWidth-w)/2,0).toString();let Ce="";const et=Object.assign(Object.assign({},_d),{width:w.toString(),height:M.toString(),top:L,left:X}),ct=(0,U.z$)().toLowerCase();m&&(Ce=sn(ct)?"_blank":m),mt(ct)&&(f=f||"http://localhost",et.scrollbars="yes");const Nt=Object.entries(et).reduce((Zn,[ss,ql])=>`${Zn}${ss}=${ql},`,"");if(function Ar(_=(0,U.z$)()){var f;return tr(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ct)&&"_self"!==Ce)return function av(_,f){const m=document.createElement("a");m.href=_,m.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(f||"",Ce),new $t(null);const At=window.open(f||"",Ce,Nt);q(At,_,"popup-blocked");try{At.focus()}catch{}return new $t(At)}(f,Ce,_a())})()}_openRedirect(f,m,w,M){var L=this;return(0,l.Z)(function*(){return yield L._originValidation(f),function ba(_){In().location.href=_}(au(f,m,w,Ge(),M)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:M,promise:L}=this.eventManagers[m];return M?Promise.resolve(M):(J(L,"If manager is not set, promise should be"),L)}const w=this.initAndGetManager(f);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(f){var m=this;return(0,l.Z)(function*(){const w=yield function l0(_){return Aa.apply(this,arguments)}(f),M=new uo(f);return w.register("authEvent",L=>(q(L?.authEvent,f,"invalid-auth-event"),{status:M.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:M},m.iframes[f._key()]=w,M})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(wd,{type:wd},M=>{var L;const X=null===(L=M?.[0])||void 0===L?void 0:L[wd];void 0!==X&&m(!!X),Be(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function vd(_){return Yh.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Oh()||Wt()||tr()}};class c0{constructor(f){this.factorId=f}_process(f,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,w);case"signin":return this._finalizeSignIn(f,m.credential);default:return Me("unexpected MultiFactorSessionType")}}}class pr extends c0{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new pr(f)}_finalizeEnroll(f,m,w){return function Zp(_,f){return Pn(_,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(_,f))}(f,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Bh(_,f){return Pn(_,"POST","/v2/accounts/mfaSignIn:finalize",Mt(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kn=(()=>{class _{constructor(){}static assertion(m){return pr._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Ma="@firebase/auth";class Id{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(w=>{f(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xi(){return window}function sf(){return(sf=(0,l.Z)(function*(_,f,m){var w;const{BuildInfo:M}=xi();J(f.sessionId,"AuthEvent did not contain a session ID");const L=yield uu(f.sessionId),X={};return tr()?X.ibi=M.packageName:Ot()?X.apn=M.packageName:Be(_,"operation-not-supported-in-this-environment"),M.displayName&&(X.appDisplayName=M.displayName),X.sessionId=L,au(_,m,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,X)})).apply(this,arguments)}function cu(){return(cu=(0,l.Z)(function*(_){const{BuildInfo:f}=xi(),m={};tr()?m.iosBundleId=f.packageName:Ot()?m.androidPackageName=f.packageName:Be(_,"operation-not-supported-in-this-environment"),yield hi(_,m)})).apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(_,f,m){const{cordova:w}=xi();let M=()=>{};try{yield new Promise((L,X)=>{let Ce=null;function et(){var At;L();const Zn=null===(At=w.plugins.browsertab)||void 0===At?void 0:At.close;"function"==typeof Zn&&Zn(),"function"==typeof m?.close&&m.close()}function ct(){Ce||(Ce=window.setTimeout(()=>{X(ke(_,"redirect-cancelled-by-user"))},2e3))}function Nt(){"visible"===document?.visibilityState&&ct()}f.addPassiveListener(et),document.addEventListener("resume",ct,!1),Ot()&&document.addEventListener("visibilitychange",Nt,!1),M=()=>{f.removePassiveListener(et),document.removeEventListener("resume",ct,!1),document.removeEventListener("visibilitychange",Nt,!1),Ce&&window.clearTimeout(Ce)}})}finally{M()}})).apply(this,arguments)}function uu(_){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,l.Z)(function*(_){const f=Fl(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fl(_){if(J(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let w=0;w<_.length;w++)m[w]=_.charCodeAt(w);return m}(0,U.Pz)("authIdTokenMaxAge"),function lu(_){(0,he._registerComponent)(new Te.wA("auth",(f,{options:m})=>{const w=f.getProvider("app").getImmediate(),M=f.getProvider("heartbeat"),{apiKey:L,authDomain:X}=w.options;return((Ce,et)=>{q(L&&!L.includes(":"),"invalid-api-key",{appName:Ce.name}),q(!X?.includes(":"),"argument-error",{appName:Ce.name});const ct={apiKey:L,authDomain:X,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xa(_)},Nt=new Ku(Ce,et,ct);return function Qe(_,f){const m=f?.persistence||[],w=(Array.isArray(m)?m:[m]).map(ue);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,f?.popupRedirectResolver)}(Nt,m),Nt})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,w)=>{f.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new Te.wA("auth-internal",f=>{const m=Nn(f.getProvider("auth").getImmediate());return new Id(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(Ma,"0.21.1",function kr(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,he.registerVersion)(Ma,"0.21.1","esm2017")}("Browser");class Ho extends uo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,l.Z)(function*(){yield f.initPromise})()}}function cf(_){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(_){const f=yield Ul()._get(uf(_));return f&&(yield Ul()._remove(uf(_))),f})).apply(this,arguments)}function cv(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*f.length);_.push(f.charAt(w))}return _.join("")}function Ul(){return ue(zc)}function uf(_){return ee("authEvent",_.config.apiKey,_.name)}function hu(_){if(!_?.includes("?"))return{};const[f,...m]=_.split("?");return(0,U.zd)(m.join("?"))}const Vl=class Sd{constructor(){this._redirectPersistence=no,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yt,this._overrideRedirectResult=md}_initialize(f){var m=this;return(0,l.Z)(function*(){const w=f._key();let M=m.eventManagers.get(w);return M||(M=new Ho(f),m.eventManagers.set(w,M),m.attachCallbackListeners(f,M)),M})()}_openPopup(f){Be(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,w,M){var L=this;return(0,l.Z)(function*(){!function Td(_){var f,m,w,M,L,X,Ce,et,ct,Nt;const At=xi();q("function"==typeof(null===(f=At?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof(null===(m=At?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(L=null===(M=null===(w=At?.cordova)||void 0===w?void 0:w.plugins)||void 0===M?void 0:M.browsertab)||void 0===L?void 0:L.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(et=null===(Ce=null===(X=At?.cordova)||void 0===X?void 0:X.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===et?void 0:et.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Nt=null===(ct=At?.cordova)||void 0===ct?void 0:ct.InAppBrowser)||void 0===Nt?void 0:Nt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const X=yield L._initialize(f);yield X.initialized(),X.resetRedirect(),function qp(){ft.clear()}(),yield L._originValidation(f);const Ce=function $l(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:cv(),postBody:null,tenantId:_.tenantId,error:ke(_,"no-auth-event")}}(f,w,M);yield function lf(_,f){return Ul()._set(uf(_),f)}(f,Ce);const et=yield function Nl(_,f,m){return sf.apply(this,arguments)}(f,Ce,m),ct=yield function Oa(_){const{cordova:f}=xi();return new Promise(m=>{f.plugins.browsertab.isAvailable(w=>{let M=null;w?f.plugins.browsertab.openUrl(_):M=f.InAppBrowser.open(_,function yo(_=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(M)})})}(et);return function af(_,f,m){return Ra.apply(this,arguments)}(f,X,ct)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Pa(_){return cu.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:w,handleOpenURL:M,BuildInfo:L}=xi(),X=setTimeout((0,l.Z)(function*(){yield cf(f),m.onEvent(eg())}),500),Ce=function(){var Nt=(0,l.Z)(function*(At){clearTimeout(X);const Zn=yield cf(f);let ss=null;Zn&&At?.url&&(ss=function lv(_,f){var m,w;const M=function dv(_){const f=hu(_),m=f.link?decodeURIComponent(f.link):void 0,w=hu(m).link,M=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return hu(M).link||M||w||m||_}(f);if(M.includes("/__/auth/callback")){const L=hu(M),X=L.firebaseError?function uv(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,Ce=null===(w=null===(m=X?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],et=Ce?ke(Ce):null;return et?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:et,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:M,postBody:null}}return null}(Zn,At.url)),m.onEvent(ss||eg())});return function(Zn){return Nt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,Ce);const et=M,ct=`${L.packageName.toLowerCase()}://`;xi().handleOpenURL=function(){var Nt=(0,l.Z)(function*(At){if(At.toLowerCase().startsWith(ct)&&Ce({url:At}),"function"==typeof et)try{et(At)}catch(Zn){console.error(Zn)}});return function(At){return Nt.apply(this,arguments)}}()}};function eg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ke("no-auth-event")}}function Bl(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function jl(_=(0,U.z$)()){return!("file:"!==Bl()&&"ionic:"!==Bl()&&"capacitor:"!==Bl()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ad(){try{const _=self.localStorage,f=_a();if(_)return _.setItem(f,"1"),_.removeItem(f),!function hf(_=(0,U.z$)()){return function ho(){return(0,U.w1)()&&11===document?.documentMode}()||function ng(_=(0,U.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,U.hl)()}catch{return fo()&&(0,U.hl)()}return!1}function fo(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function fu(){return(function tg(){return"http:"===Bl()||"https:"===Bl()}()||(0,U.ru)()||jl())&&!function xd(){return(0,U.b$)()||(0,U.UG)()}()&&Ad()&&!fo()}function ff(){return jl()&&typeof document<"u"}function Hl(){return(Hl=(0,l.Z)(function*(){return!!ff()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const gr={LOCAL:"local",NONE:"none",SESSION:"session"},La=q,Zl="persistence";function Pd(_){return mu.apply(this,arguments)}function mu(){return(mu=(0,l.Z)(function*(_){yield _._initializationPromise;const f=bs(),m=ee(Zl,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function bs(){var _;try{return(null===(_=function Md(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const pf=q;class gi{constructor(){this.browserResolver=ue(Cd),this.cordovaResolver=ue(Vl),this.underlyingResolver=null,this._redirectPersistence=no,this._completeRedirectFn=yt,this._overrideRedirectResult=md}_initialize(f){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,w,M){var L=this;return(0,l.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(f,m,w,M)})()}_openRedirect(f,m,w,M){var L=this;return(0,l.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(f,m,w,M)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ff()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,l.Z)(function*(){if(f.underlyingResolver)return;const m=yield function pu(){return Hl.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function zl(_){return _.unwrap()}function Od(_){return rg(_)}function rg(_){const{_tokenResponse:f}=_ instanceof U.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof U.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return nu.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=kh;break;case"facebook.com":w=Pc;break;case"github.com":w=Nh;break;case"twitter.com":w=Bp;break;default:const{oauthIdToken:M,oauthAccessToken:L,oauthTokenSecret:X,pendingToken:Ce,nonce:et}=f;return L||X||M||Ce?Ce?m.startsWith("saml.")?Co._create(m,Ce):Ti._fromParams({providerId:m,signInMethod:m,pendingToken:Ce,idToken:M,accessToken:L}):new es(m).credential({idToken:M,accessToken:L,rawNonce:et}):null}return _ instanceof U.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function Ai(_,f){return f.catch(m=>{throw m instanceof U.ZR&&function Fa(_,f){var m;const w=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new mf(_,function Er(_,f){var m;const w=(0,U.m9)(_),M=f;return q(f.customData.operationType,w,"argument-error"),q(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Hc._fromError(w,M)}(_,f));else if(w){const M=rg(f),L=f;M&&(L.credential=M,L.tenantId=w.tenantId||void 0,L.email=w.email||void 0,L.phoneNumber=w.phoneNumber||void 0)}}(_,m),m}).then(m=>{const M=m.user;return{operationType:m.operationType,credential:Od(m),additionalUserInfo:Uh(m),user:po.getOrCreate(M)}})}function ig(_,f){return gf.apply(this,arguments)}function gf(){return(gf=(0,l.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:w=>Ai(_,m.confirm(w))}})).apply(this,arguments)}class mf{constructor(f,m){this.resolver=m,this.auth=function yu(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ai(zl(this.auth),this.resolver.resolveSignIn(f))}}class po{constructor(f){this._delegate=f,this.multiFactor=function Oo(_){const f=(0,U.m9)(_);return Ns.has(f)||Ns.set(f,va._fromUser(f)),Ns.get(f)}(f)}static getOrCreate(f){return po.USER_MAP.has(f)||po.USER_MAP.set(f,new po(f)),po.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,l.Z)(function*(){return Ai(m.auth,jn(m._delegate,f))})()}linkWithPhoneNumber(f,m){var w=this;return(0,l.Z)(function*(){return ig(w.auth,function Gp(_,f,m){return Tl.apply(this,arguments)}(w._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,l.Z)(function*(){return Ai(m.auth,function sv(_,f,m){return Kr.apply(this,arguments)}(m._delegate,f,gi))})()}linkWithRedirect(f){var m=this;return(0,l.Z)(function*(){return yield Pd(Nn(m.auth)),function ne(_,f,m){return function le(_,f,m){return Oe.apply(this,arguments)}(_,f,m)}(m._delegate,f,gi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,l.Z)(function*(){return Ai(m.auth,Js(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return ig(this.auth,function Zh(_,f,m){return zh.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Ai(this.auth,function a0(_,f,m){return Wh.apply(this,arguments)}(this._delegate,f,gi))}reauthenticateWithRedirect(f){var m=this;return(0,l.Z)(function*(){return yield Pd(Nn(m.auth)),function D(_,f,m){return function R(_,f,m){return j.apply(this,arguments)}(_,f,m)}(m._delegate,f,gi)})()}sendEmailVerification(f){return function id(_,f){return $c.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,l.Z)(function*(){return yield function nl(_,f){return Io.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function sd(_,f){return od((0,U.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function ma(_,f){return od((0,U.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Sl(_,f){return qh.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function to(_,f){return ns.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function fl(_,f,m){return rr.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}po.USER_MAP=new WeakMap;const Gl=q;let _u=(()=>{class _{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=m.options;Gl(M,"invalid-api-key",{appName:m.name}),Gl(M,"invalid-api-key",{appName:m.name});const L=typeof window<"u"?gi:void 0;this._delegate=w.initialize({options:{persistence:sg(M,m.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(rt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?po.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Dc(_,f,m){const w=Nn(_);q(w._canInitEmulator,w,"emulator-config-failed"),q(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const M=!!m?.disableWarnings,L=aa(f),{host:X,port:Ce}=function la(_){const f=aa(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const L=M[1];return{host:L,port:ln(w.substr(L.length+1))}}{const[L,X]=w.split(":");return{host:L,port:ln(X)}}}(f);w.config.emulator={url:`${L}//${X}${null===Ce?"":`:${Ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:X,port:Ce,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function nr(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,w)}applyActionCode(m){return function al(_,f){return nd.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ll(this._delegate,m)}confirmPasswordReset(m,w){return function pa(_,f,m){return Vt.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var M=this;return(0,l.Z)(function*(){return Ai(M._delegate,function Lh(_,f,m){return Fc.apply(this,arguments)}(M._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function dl(_,f){return hl.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Fh(_,f){return"EMAIL_SIGNIN"===ua.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){Gl(fu(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function pt(_,f){return Et.apply(this,arguments)}(m._delegate,gi);return w?Ai(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function ka(_,f){Nn(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,w,M){const{next:L,error:X,complete:Ce}=Rd(m,w,M);return this._delegate.onAuthStateChanged(L,X,Ce)}onIdTokenChanged(m,w,M){const{next:L,error:X,complete:Ce}=Rd(m,w,M);return this._delegate.onIdTokenChanged(L,X,Ce)}sendSignInLinkToEmail(m,w){return function cn(_,f,m){return rd.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function ps(_,f,m){return fa.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,l.Z)(function*(){let M;switch(function gu(_,f){La(Object.values(gr).includes(f),_,"invalid-persistence-type"),(0,U.b$)()?La(f!==gr.SESSION,_,"unsupported-persistence-type"):(0,U.UG)()?La(f===gr.NONE,_,"unsupported-persistence-type"):fo()?La(f===gr.NONE||f===gr.LOCAL&&(0,U.hl)(),_,"unsupported-persistence-type"):La(f===gr.NONE||Ad(),_,"unsupported-persistence-type")}(w._delegate,m),m){case gr.SESSION:M=no;break;case gr.LOCAL:M=(yield ue(lo)._isAvailable())?lo:zc;break;case gr.NONE:M=H;break;default:return Be("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ai(this._delegate,function Ju(_){return ed.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ai(this._delegate,Un(this._delegate,m))}signInWithCustomToken(m){return Ai(this._delegate,function eo(_,f){return hr.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Ai(this._delegate,function De(_,f,m){return Un((0,U.m9)(_),Mc.credential(f,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Ai(this._delegate,function br(_,f,m){return ga.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return ig(this._delegate,function on(_,f,m){return tu.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,l.Z)(function*(){return Gl(fu(),w._delegate,"operation-not-supported-in-this-environment"),Ai(w._delegate,function Uo(_,f,m){return Ml.apply(this,arguments)}(w._delegate,m,gi))})()}signInWithRedirect(m){var w=this;return(0,l.Z)(function*(){return Gl(fu(),w._delegate,"operation-not-supported-in-this-environment"),yield Pd(w._delegate),function iu(_,f,m){return function Pl(_,f,m){return S.apply(this,arguments)}(_,f,m)}(w._delegate,m,gi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Lc(_,f){return cl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=gr,_})();function Rd(_,f,m){let w=_;"function"!=typeof _&&({next:w,error:f,complete:m}=_);const M=w;return{next:X=>M(X&&po.getOrCreate(X)),error:f,complete:m}}function sg(_,f){const m=function vu(_,f){const m=bs();if(!m)return[];const w=ee(Zl,_,f);switch(m.getItem(w)){case gr.NONE:return[H];case gr.LOCAL:return[lo,no];case gr.SESSION:return[no];default:return[]}}(_,f);if(typeof self<"u"&&!m.includes(lo)&&m.push(lo),typeof window<"u")for(const w of[zc,no])m.includes(w)||m.push(w);return m.includes(H)||m.push(H),m}class bu{constructor(){this.providerId="phone",this._delegate=new nu(zl(ie.Z.auth()))}static credential(f,m){return nu.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}bu.PHONE_SIGN_IN_METHOD=nu.PHONE_SIGN_IN_METHOD,bu.PROVIDER_ID=nu.PROVIDER_ID;const og=q;class fv{constructor(f,m,w=ie.Z.app()){var M;og(null===(M=w.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Il(f,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function u0(_){_.INTERNAL.registerComponent(new Te.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new _u(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Mc,FacebookAuthProvider:Pc,GithubAuthProvider:Nh,GoogleAuthProvider:kh,OAuthProvider:es,SAMLAuthProvider:ts,PhoneAuthProvider:bu,PhoneMultiFactorGenerator:Kn,RecaptchaVerifier:fv,TwitterAuthProvider:Bp,Auth:_u,AuthCredential:Bn,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.3.1")}(ie.Z)},8766:(wt,Le,V)=>{V.d(Le,{Lj:()=>Be,X3:()=>qe});var l=V(5861);let U,he;const Te=new WeakMap,Ee=new WeakMap,be=new WeakMap,K=new WeakMap,Y=new WeakMap;let $e={get(q,Me,J){if(q instanceof IDBTransaction){if("done"===Me)return Ee.get(q);if("objectStoreNames"===Me)return q.objectStoreNames||be.get(q);if("store"===Me)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return Ue(q[Me])},set:(q,Me,J)=>(q[Me]=J,!0),has:(q,Me)=>q instanceof IDBTransaction&&("done"===Me||"store"===Me)||Me in q};function we(q){return"function"==typeof q?function bt(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...Me){return q.apply(Fe(this),Me),Ue(Te.get(this))}:function(...Me){return Ue(q.apply(Fe(this),Me))}:function(Me,...J){const re=q.call(Fe(this),Me,...J);return be.set(re,Me.sort?Me.sort():[Me]),Ue(re)}}(q):(q instanceof IDBTransaction&&function Xe(q){if(Ee.has(q))return;const Me=new Promise((J,re)=>{const ue=()=>{q.removeEventListener("complete",ce),q.removeEventListener("error",Qe),q.removeEventListener("abort",Qe)},ce=()=>{J(),ue()},Qe=()=>{re(q.error||new DOMException("AbortError","AbortError")),ue()};q.addEventListener("complete",ce),q.addEventListener("error",Qe),q.addEventListener("abort",Qe)});Ee.set(q,Me)}(q),((q,Me)=>Me.some(J=>q instanceof J))(q,function fe(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,$e):q)}function Ue(q){if(q instanceof IDBRequest)return function te(q){const Me=new Promise((J,re)=>{const ue=()=>{q.removeEventListener("success",ce),q.removeEventListener("error",Qe)},ce=()=>{J(Ue(q.result)),ue()},Qe=()=>{re(q.error),ue()};q.addEventListener("success",ce),q.addEventListener("error",Qe)});return Me.then(J=>{J instanceof IDBCursor&&Te.set(J,q)}).catch(()=>{}),Y.set(Me,q),Me}(q);if(K.has(q))return K.get(q);const Me=we(q);return Me!==q&&(K.set(q,Me),Y.set(Me,q)),Me}const Fe=q=>Y.get(q);function qe(q,Me,{blocked:J,upgrade:re,blocking:ue,terminated:ce}={}){const Qe=indexedDB.open(q,Me),Ge=Ue(Qe);return re&&Qe.addEventListener("upgradeneeded",Ct=>{re(Ue(Qe.result),Ct.oldVersion,Ct.newVersion,Ue(Qe.transaction))}),J&&Qe.addEventListener("blocked",()=>J()),Ge.then(Ct=>{ce&&Ct.addEventListener("close",()=>ce()),ue&&Ct.addEventListener("versionchange",()=>ue())}).catch(()=>{}),Ge}function Be(q,{blocked:Me}={}){const J=indexedDB.deleteDatabase(q);return Me&&J.addEventListener("blocked",()=>Me()),Ue(J).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],je=["put","add","delete","clear"],We=new Map;function ze(q,Me){if(!(q instanceof IDBDatabase)||Me in q||"string"!=typeof Me)return;if(We.get(Me))return We.get(Me);const J=Me.replace(/FromIndex$/,""),re=Me!==J,ue=je.includes(J);if(!(J in(re?IDBIndex:IDBObjectStore).prototype)||!ue&&!ke.includes(J))return;const ce=function(){var Qe=(0,l.Z)(function*(Ge,...Ct){const hn=this.transaction(Ge,ue?"readwrite":"readonly");let wn=hn.store;return re&&(wn=wn.index(Ct.shift())),(yield Promise.all([wn[J](...Ct),ue&&hn.done]))[0]});return function(Ct){return Qe.apply(this,arguments)}}();return We.set(Me,ce),ce}!function rt(q){$e=q($e)}(q=>({...q,get:(Me,J,re)=>ze(Me,J)||q.get(Me,J,re),has:(Me,J)=>!!ze(Me,J)||q.has(Me,J)}))},5861:(wt,Le,V)=>{function l(U,he,fe,pe,Te,Ee,be){try{var K=U[Ee](be),Y=K.value}catch(te){return void fe(te)}K.done?he(Y):Promise.resolve(Y).then(pe,Te)}function ie(U){return function(){var he=this,fe=arguments;return new Promise(function(pe,Te){var Ee=U.apply(he,fe);function be(Y){l(Ee,pe,Te,be,K,"next",Y)}function K(Y){l(Ee,pe,Te,be,K,"throw",Y)}be(void 0)})}}V.d(Le,{Z:()=>ie})}},wt=>{wt(wt.s=6648)}]);